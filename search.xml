<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>四国跨年之旅：2024.12.27~2025.1.3</title>
      <link href="/2025/01/03/2025travel/"/>
      <url>/2025/01/03/2025travel/</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>2024-2025是我来日本留学后的第一个新年(跨年)，正好这会儿学校放冬假，我便计划想去哪里玩一下。一开始本来打算和实验室的其他几位同学去东京跨年，但是我们酒店订太晚了，东京12.31-1.1的跨年夜酒店最便宜的一晚上都要一千五六百RMB,实在是无法接受，于是大家就散了<del>他们去长崎看芙莉莲了</del>……后来舍友曹桑提议去宫岛上玩儿，说是学姐推荐，但找了半天也不知道在哪儿，后来也不知道什么原因我突然说可以去“四国”看看，后来就这么拍定了。</p><img src="https://s2.loli.net/2025/01/03/GVco2yPNCpMe3Dd.png"/><hr><h2 id="启程：新門司-→-徳島-東九フェーリ"><a href="#启程：新門司-→-徳島-東九フェーリ" class="headerlink" title="启程：新門司 → 徳島 (東九フェーリ)"></a>启程：新門司 → 徳島 (東九フェーリ)</h2><p>我和舍友两人一人各背一个双肩包，轻装上阵，12.27从宿舍出发一路赶到北九州市的最北边“新门司港”，乘坐轮渡前往四国，12.28计划到达四国最东边城市“德岛市”。</p><p>门司港是连通九州和中国地区的繁忙港口，而我们要去的新门司港则是稍靠东南方向的一个港口，主要通行九州到四国、东京和北海道的船。当我们坐了一路电车到达新门司港后，发现这里的风景还算不错。</p><img src="https://s2.loli.net/2025/01/03/7EmhlWr5q2TpOPi.jpg" width="600" height="350"/><p>我们乘坐的轮渡虽然叫“東九フェーリ”，但其实是北九州-德岛-东京三个港口之间的航线，因此会在德岛的港口停靠。这样，我们12.28日就能从德岛出发，沿着“土赞线”一路西行，然后北上前往高松市和再北边的几个岛屿（丰岛、直岛和小豆岛）。我们本来还打算从小仓乘坐轮渡前往四国西边的松山市，因为松山离北九州更近一些，这样的话我们可以从松山出发一路北上游玩整个四国北部，但可惜的是年前的二等和一等席全都满席了……我们还考虑过坐新干线，但坐JR并不比轮渡便宜，而且坐电车已经做腻了，坐轮船对于我们而言还是个全新的体验。因此，最后我们还是选择了東九フェーリ。</p><img src="https://s2.loli.net/2025/01/03/y83kT2wWUhCmtYP.jpg" width="600" height="350"/><br/><img src="https://s2.loli.net/2025/01/03/e8L1yaZ2cdsN3QR.jpg" width="600" height="350"/><p>事实证明，我们的选择是正确的，東九フェーリ给我们乘坐的体验相当好。我们订的房间是8人间二等洋式，但因为人少所以我和舍友直接包场！船在航行的过程中能感受到发动机连同整个船体在震动，而且能感受到船的左右晃动，但不影响基本的吃饭和睡觉。東九フェーリ甚至还配备了一个温泉，泡澡的同时可以通过舷窗欣赏海景（虽然晚上看不到什么只能看到远处陆地上的灯光orz）。</p><img src="https://s2.loli.net/2025/01/03/Tbf8DPUVYQW6IJC.jpg" width="600" height="350"/><p>船的露天甲板也是可以上的。我和舍友特意在6:00早起，然后到甲板上去看海上的日出了。虽然甲板上风大了一点，但是这样美妙的日出景色还是让我们在寒风中站了许久。<del>当然也可以在温暖的船舱内一边吃早饭一边看</del></p><img src="https://s2.loli.net/2025/01/03/exBYyW7F5VrNCmA.jpg" width="600" height="350"/><br/><img src="https://s2.loli.net/2025/01/03/BjazSuLbO5yHUcR.jpg" width="600" height="350"/><br/><img src="https://s2.loli.net/2025/01/04/VbYJ6Am1QtMXB4E.png" width="600" height="350"/><hr><h2 id="12-28：徳島市和美马市"><a href="#12-28：徳島市和美马市" class="headerlink" title="12.28：徳島市和美马市"></a>12.28：徳島市和美马市</h2><p>由于轮渡在早上九点就抵达了，距离我们下午三点check in美马市的民宿还有一段时间，我们就先在JR德岛站边上的德岛公园转了转。</p><img src="https://s2.loli.net/2025/01/04/IH3SoFTsc9itbMP.jpg" width="600" height="350"/><p>这里似乎是德岛市民的健身圣地，公园里有很多在跑步的男女老少（<del>绕公园一圈貌似是5公里，我上能跑两圈</del>）。德岛公园是一个完全开放的公园，严格意义讲也算不上是一个旅游景点，但这里面风景倒是很棒。池塘里有小鸭子，繁茂的花草树木间还有很多鸽子，它们一点也不怕人，除非你要踩到它们它们才肯飞走；虽然已经是冬天了，公园里仍有几棵红叶点缀在翠绿的松树之间，显得格外的好看。</p><img src="https://s2.loli.net/2025/01/04/EvARhjMrN1WkUnQ.jpg" width="600" height="350"/><br/><img src="https://s2.loli.net/2025/01/04/y2CivXQgjqLNB8G.jpg" width="600" height="350"/><p>随后我们就直接前往美马市的民宿了，我们乘坐的是德岛线前往四国中央的山区里。JR四国非常原始，电车比我想象中的还要老式，站台内居然没有自动检票的改札口，必须人工检票，而且下车时需要在前门给车长检票，和公交车一样！而且听这电车的发动机声音貌似不是电驱动的，而且和公交车一样是常规的柴油发动机！</p><img src="https://s2.loli.net/2025/01/04/A4Rqskluh6ZSnOD.png" width="600" height="350"/><p>四国山脉的壮丽程度远远超过我的预想。电车穿行在山岭里，山间随处可见小小的村落；电车靠近城市后眼界逐渐开阔，此时便能看到远处连绵的山脉了。云雾缭绕在半山腰，靠近山顶的部分便都是积雪了。由于是阴天的缘故，整座山仿佛笼罩着一层薄薄的雾气，加之山间时而显现的村落，便显得格外神秘。</p><img src="https://s2.loli.net/2025/01/04/xVK1lg4ZyaLtCrY.jpg" width="600" height="350"/><br/><img src="https://s2.loli.net/2025/01/04/8E7lxejAC9QLkDb.jpg" width="600" height="350"/><p>美马市座落在山脉里，这里的居民很少，街道上显得有些破败或者说有点凄凉，<del>但是竟然有麦当劳和帕青哥</del>。街道上虽然有很多来往的车辆，但也大都只是从德岛前往松山途径这里而已，不会停留。吉野川横穿了这座城市。我们的民宿在山上，爬山的时候要经过一个小神社。</p><img src="https://s2.loli.net/2025/01/04/LEfgajRNnwTIzeO.png" width="600" height="350"/><hr><h2 id="12-29-大小步危"><a href="#12-29-大小步危" class="headerlink" title="12.29 大小步危"></a>12.29 大小步危</h2><p>从美马市前往大小步危则需要向西南方向更加深入山脉。首先还是坐JR德岛线到终点站“阿波池田”，这里也是一个小镇，但让人感觉比美马市繁华多了。从站台眺望的风景能同时看到电车和山脉，很美；站台边上还有一个小公园，有种梦核的感觉？</p><img src="https://s2.loli.net/2025/01/04/9IwJthDMP3zG78c.jpg" width="600" height="350"/><br/><img src="https://s2.loli.net/2025/01/04/mJ7RlzD9i4PT6Zg.jpg" width="600" height="350"/><p>大小步危是大步危和小步危。我们先在大步危坐了游览船，游船行驶在碧清的河道上，两侧则是几千年来冲刷而成的山谷峭壁；两座山之间是不是会出现一座大桥连通，左边山崖上是是盘山公路，右边则是JR山藏线。</p><img src="https://s2.loli.net/2025/01/04/UXo1QSyTih9f5Vt.jpg" width="600" height="350"/><br/><img src="https://s2.loli.net/2025/01/04/qKOibJC9cgr2a48.png" width="600" height="350"/><p>后来我们北上徒步到小步危，中途还去吃了个大步危特色そば。我们在大步危泡了温泉，700日元一个人的价格实在是太实惠了。温泉水温暖了早已被寒风冻僵的四肢，在泡温泉的同时还能够欣赏雪山的美景，山间时不时还有电车穿行而过，这样的场景简直美得让人窒息！这样的机会恐怕很难再有了吧……直到天色渐黑，我们才做JR山藏线和琴電（ことでん）从小步危返回阿波池田，随后前往高松市。</p><img src="https://s2.loli.net/2025/01/04/AJTdy1MstvQOkZD.jpg" width="600" height="350"/><hr><h2 id="12-30-松山市"><a href="#12-30-松山市" class="headerlink" title="12.30 松山市"></a>12.30 松山市</h2><p>高松市本来只是作为我们前往小豆岛的一个中继点，但事实上高松给了我很好的印象。我们花了一个上午在栗林公園闲逛，栗林公園是高松古代君主模仿苏州园林建造的一个园林，里面的景色非常优美。</p><img src="https://s2.loli.net/2025/01/04/mwz9eHRv42qDXsI.jpg" width="600" height="350"/><br/><img src="https://s2.loli.net/2025/01/04/RF8iqPSKECtWO6x.jpg" width="600" height="350"/><br/><img src="https://s2.loli.net/2025/01/04/sbi87yojVrqxJGk.jpg" width="600" height="350"/><br/><img src="https://s2.loli.net/2025/01/04/Y6PqZkyfueXQmh7.jpg" width="600" height="350"/><br/><img src="https://s2.loli.net/2025/01/04/ZzhSpl9XPJBt3rk.jpg" width="600" height="350"/><p>在傍晚时分，我们前往高松港提前打探轮渡的消息，却正巧碰到了港口绝美的夕阳景色！</p><img src="" width="600" height="350"/><br/><img src="" width="600" height="350"/><hr><h2 id="12-31-1-1-在小豆岛的跨年之夜"><a href="#12-31-1-1-在小豆岛的跨年之夜" class="headerlink" title="12.31~1.1 在小豆岛的跨年之夜"></a>12.31~1.1 在小豆岛的跨年之夜</h2>]]></content>
      
      
      <categories>
          
          <category> Life in Japan </category>
          
      </categories>
      
      
        <tags>
            
            <tag> travel </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Opencv图像骨干提取算法的实现和优化 Thinning Algorithm (VSP Project)</title>
      <link href="/2024/12/13/opencv-VSP-thinning/"/>
      <url>/2024/12/13/opencv-VSP-thinning/</url>
      
        <content type="html"><![CDATA[<h2 id="什么是骨干提取（教案）"><a href="#什么是骨干提取（教案）" class="headerlink" title="什么是骨干提取（教案）"></a>什么是骨干提取（教案）</h2><hr><h2 id="代码总体框架"><a href="#代码总体框架" class="headerlink" title="代码总体框架"></a>代码总体框架</h2><ul><li>骨干提取Thinning：<ul><li>骨干提取主函数：SequentialThinning。</li><li>自研骨干提取算法：solve，配合三个检查函数“CheckEdge,CheckConnectivity和CheckEndPoint”。</li><li>Zhang-suen骨干提取算法：zhangsuen_solve，配合两个检查函数“UpDownCheck和LeftRightCheck”。</li></ul></li><li>特征点提取Feature Extraction：<ul><li>FeatureExtraction：配合四个检查函数。新增Check_3BranchPoint和Check_4BranchPoint。</li></ul></li><li>提取后图像优化Optimization：<ul><li>removeLinesUseFeatureExtraction: 利用特征点进行优化，配合ColorPixelDetect。</li></ul></li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">LWCThinning</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function">Mat <span class="title">SequentialThinning</span><span class="params">(Mat&amp; Image, <span class="type">int</span> num_iterations)</span></span>;</span><br><span class="line">        <span class="function">Mat <span class="title">FeatureExtraction</span><span class="params">(Mat&amp; Image)</span></span>;</span><br><span class="line">        <span class="comment">//Optimization</span></span><br><span class="line">        <span class="function">Mat <span class="title">removeLinesUseFeatureExtraction</span><span class="params">(Mat&amp; Image)</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="comment">//VSP-slice based thinning</span></span><br><span class="line">        <span class="function">Mat <span class="title">solve</span><span class="params">(Mat&amp; Image, <span class="type">int</span> iter_time)</span></span>;        </span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">CheckEdge</span><span class="params">(Mat&amp; image3x3)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">CheckConnectivity</span><span class="params">(Mat&amp; image3x3)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">CheckEndPoint</span><span class="params">(Mat&amp; image3x3)</span></span>;</span><br><span class="line">        <span class="comment">//zhang-suen algorithm</span></span><br><span class="line">        <span class="function">Mat <span class="title">zhangsuen_solve</span><span class="params">(Mat&amp; Image, <span class="type">int</span> iter_time)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">UpDownCheck</span><span class="params">(Mat&amp; image3x3)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">LeftRightCheck</span><span class="params">(Mat&amp; image3x3)</span></span>;</span><br><span class="line">        <span class="comment">//Optimization functions</span></span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">ColorPixelDetect</span><span class="params">(Mat&amp; image3x3)</span></span>;</span><br><span class="line">        <span class="comment">//Pixel Analyze</span></span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">Check_3BranchPoint</span><span class="params">(Mat&amp; image3x3)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">Check_4BranchPoint</span><span class="params">(Mat&amp; image3x3)</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><h2 id="时间复杂度上的考虑"><a href="#时间复杂度上的考虑" class="headerlink" title="时间复杂度上的考虑"></a>时间复杂度上的考虑</h2><p>本代码中除了对原始图像的遍历使用了双重for循环，在其他方法中<strong>对3x3的卷积核进行处理时，均没有使用for循环。</strong>这是出于时间复杂度上的考量。3x3的卷积核很小，一共也才9个元素，如果再用一个常规的双重for循环进行处理，时间复杂度将会增加O(n^2)，与外部遍历结合起来就是O(n^4),处理大图片将会非常缓慢；但相对地，如果将其展开书写，将时间复杂度降低为O(1)的情况下代码也不会变得过于冗杂。</p><hr><h2 id="三次判断"><a href="#三次判断" class="headerlink" title="三次判断"></a>三次判断</h2><p>总体思路：三个check方法返回0或1。在solve()中调用这些check，三次判断全1才会执行像素的删除。</p><ul><li>return 0: 该项check不通过，不可以删除。</li><li>return 1: 该项check通过，可以删除。</li></ul><h3 id="连续性判断-CheckConnectivity"><a href="#连续性判断-CheckConnectivity" class="headerlink" title="连续性判断 CheckConnectivity"></a>连续性判断 CheckConnectivity</h3><p>先说结论：判断中心注目像素周围一圈的八个像素，从一个节点开始顺时针旋转遍历。<strong>如果像素值“从黑转变为白”的次数超过1次，那么就是不连续的。</strong>（另外，前提是周围一圈有两个及以上的黑色像素。如果只有一个黑像素，那么这个中心像素就是端点end-point）</p><p>我们可以通过画图来探索这个规律：</p><img src="https://s2.loli.net/2024/12/13/bJP8qNYZ6Wp4d92.jpg" width="500" height="500"/><img src="https://s2.loli.net/2024/12/13/x9mpz4YWS7hyeJQ.jpg" width="500" height="500"/><ul><li>①很好地展示了斜线连续性被破坏的情况。</li><li>③很好地展示了直线连续性被破坏的情况。</li><li>⑤展示了两条直线交点处连续性被破坏的情况。</li><li>②中即便删除了中心像素，其连续性没有被破坏。</li></ul><p>观察上述所有破快连续性的情况，我们发现他们周围一圈像素从黑变白的转变次数都大于一。(图中红色箭头和数字)</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">LWCThinning::CheckConnectivity</span><span class="params">(Mat&amp; image3x3)</span></span>&#123;</span><br><span class="line">    <span class="comment">//======== iff time which around 8-pixel transfer from B to W is only 1, then it will have connectivity. ========</span></span><br><span class="line">    <span class="type">int</span> B = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">0</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">1</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">2</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">0</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">2</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">0</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">1</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">2</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="type">int</span> T = <span class="number">0</span>;   <span class="comment">//transfer from B to W </span></span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">2</span>) == <span class="number">0</span> &amp;&amp; image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">1</span>) == <span class="number">255</span>)    T++;    </span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">1</span>) == <span class="number">0</span> &amp;&amp; image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">0</span>) == <span class="number">255</span>)    T++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">0</span>) == <span class="number">0</span> &amp;&amp; image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">0</span>) == <span class="number">255</span>)    T++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">0</span>) == <span class="number">0</span> &amp;&amp; image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">0</span>) == <span class="number">255</span>)    T++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">0</span>) == <span class="number">0</span> &amp;&amp; image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">1</span>) == <span class="number">255</span>)    T++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">1</span>) == <span class="number">0</span> &amp;&amp; image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">2</span>) == <span class="number">255</span>)    T++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">2</span>) == <span class="number">0</span> &amp;&amp; image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">2</span>) == <span class="number">255</span>)    T++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">2</span>) == <span class="number">0</span> &amp;&amp; image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">2</span>) == <span class="number">255</span>)    T++;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(B &gt;= <span class="number">2</span> &amp;&amp; T == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;   <span class="comment">//preserve connectivity</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="端点判断-CheckEndPoint"><a href="#端点判断-CheckEndPoint" class="headerlink" title="端点判断 CheckEndPoint"></a>端点判断 CheckEndPoint</h3><p>不难发现，如果<strong>中心注目像素的周围只存在一个黑色像素，那么它就是端点end-point。</strong>我们不能删除端点像素。</p><img src="https://s2.loli.net/2024/12/13/od4ypr5Fci2E97f.jpg" width="500" height="500"/><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">LWCThinning::CheckEndPoint</span><span class="params">(Mat&amp; image3x3)</span></span>&#123;</span><br><span class="line">    <span class="comment">//======== iff around 8-pixel only have one B, then this center pixel is endpoint.========</span></span><br><span class="line">    <span class="type">int</span> B = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">0</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">1</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">2</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">0</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">2</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">0</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">1</span>) == <span class="number">0</span>)  B++;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">2</span>) == <span class="number">0</span>)  B++;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(B == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;  <span class="comment">//not end point</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="孤立点判断-CheckEdge"><a href="#孤立点判断-CheckEdge" class="headerlink" title="孤立点判断 CheckEdge"></a>孤立点判断 CheckEdge</h3><p>这个是最简单的，只需要查看周围一圈是否有黑色像素即可。它的深层含义是：<strong>画面上孤立的黑色像素点不能删去，因为他完整地表征着一部分的画面信息。</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">LWCThinning::CheckEdge</span><span class="params">(Mat&amp; image3x3)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">0</span>) == <span class="number">0</span> || image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">1</span>) == <span class="number">0</span> || image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">2</span>) == <span class="number">0</span> ||   </span><br><span class="line">       image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">0</span>) == <span class="number">0</span> ||                                 image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">2</span>) == <span class="number">0</span> ||</span><br><span class="line">       image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">0</span>) == <span class="number">0</span> || image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">1</span>) == <span class="number">0</span> || image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">2</span>) == <span class="number">0</span> )</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;  <span class="comment">//boundary have B-pixel</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="slove-主方法-和-SequentialThinning-接口方法"><a href="#slove-主方法-和-SequentialThinning-接口方法" class="headerlink" title="slove()主方法 和 SequentialThinning()接口方法"></a>slove()主方法 和 SequentialThinning()接口方法</h2><ul><li>使用3x3的卷积核遍历原始图像。具体而言，当检测到3x3的中心是黑色像素时，从原图中抽取这个3x3的正方形像素区域构成一个新图像kernel_nowscanning，然后进行三次check。如果check通过，则将中心的黑色像素删除（即变为白色）。</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Mat <span class="title">LWCThinning::solve</span><span class="params">(Mat&amp; Image, <span class="type">int</span> iter_time)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> img_width = Image.<span class="built_in">size</span>().width;</span><br><span class="line">    <span class="type">int</span> img_height = Image.<span class="built_in">size</span>().height;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> y = <span class="number">1</span>; y &lt; img_height<span class="number">-1</span>; y++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x = <span class="number">1</span>; x &lt; img_width<span class="number">-1</span>; x++)&#123;</span><br><span class="line">            Mat kernel_nowscanning = Mat::<span class="built_in">zeros</span>(<span class="number">3</span>,<span class="number">3</span>,CV_8UC1);   </span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x<span class="number">+1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x);     <span class="comment">//center-pixel</span></span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x<span class="number">+1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x<span class="number">+1</span>);</span><br><span class="line">            <span class="comment">//if center-pixel is black, go to &#x27;mittsu no check&#x27;, find out whether it can be change to white.</span></span><br><span class="line">            <span class="type">int</span> check1 = <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> check2 = <span class="number">0</span>;</span><br><span class="line">            <span class="type">int</span> check3 = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">if</span>(kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">1</span>) == <span class="number">0</span>)&#123;</span><br><span class="line">                check1 = <span class="built_in">CheckEdge</span>(kernel_nowscanning);</span><br><span class="line">                check2 = <span class="built_in">CheckConnectivity</span>(kernel_nowscanning);</span><br><span class="line">                check3 = <span class="built_in">CheckEndPoint</span>(kernel_nowscanning);</span><br><span class="line">                <span class="comment">//change center-pixel from B to W (in original-image)</span></span><br><span class="line">                <span class="keyword">if</span>(check1 == <span class="number">1</span> &amp;&amp; check2 == <span class="number">1</span> &amp;&amp; check3 == <span class="number">1</span>)&#123;</span><br><span class="line">                    <span class="comment">//kernel_nowscanning.at&lt;uchar&gt;(1,1) = 255;</span></span><br><span class="line">                    Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x) = <span class="number">255</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    string file_dic = <span class="string">&quot;result/process_time&quot;</span> + <span class="built_in">to_string</span>(iter_time) + <span class="string">&quot;.png&quot;</span>;</span><br><span class="line">    <span class="built_in">imwrite</span>(file_dic, Image);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Image saved to &quot;</span> &lt;&lt; file_dic &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>SequentialThinning()接口方法可以被用户(主函数)调用，对给定的图样进行N次骨干提取，将结果保存在result路径下。</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">LWCThinning::SequentialThinning</span><span class="params">(Mat&amp; Image, <span class="type">int</span> num_iterations)</span></span>&#123;</span><br><span class="line">    Mat processedImage = Image.<span class="built_in">clone</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; i &lt; num_iterations; i++)&#123;</span><br><span class="line">        processedImage = <span class="built_in">solve</span>(processedImage, i);</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;||||&quot;</span> &lt;&lt; i &lt;&lt; <span class="string">&quot;||||&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">imshow</span>(<span class="string">&quot;Final Processed Image&quot;</span>, processedImage);</span><br><span class="line">    <span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Processing Completed.&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="初步测试结果"><a href="#初步测试结果" class="headerlink" title="初步测试结果"></a>初步测试结果</h2><h3 id="ABCD英文字符"><a href="#ABCD英文字符" class="headerlink" title="ABCD英文字符"></a>ABCD英文字符</h3><ul><li>字母A：</li></ul><img src="https://s2.loli.net/2024/12/13/8BQLTIqYRg5ou96.png"/><ul><li>字母C：</li></ul><img src="https://s2.loli.net/2024/12/14/sft7ARd8QXDYIoy.png"/><ul><li>字母E：</li></ul><img src="https://s2.loli.net/2024/12/14/Uw3ELfY9BrkQ8qt.png"/><h3 id="复杂的彩色图样"><a href="#复杂的彩色图样" class="headerlink" title="复杂的彩色图样"></a>复杂的彩色图样</h3><p>首先将彩色图片读取为灰度图，然后进行二值化处理，最后再调用SequentialThinning。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//Complex image</span></span><br><span class="line">    Mat image_ena = <span class="built_in">imread</span>(<span class="string">&quot;source/ENANA.png&quot;</span>, IMREAD_GRAYSCALE);</span><br><span class="line">    Mat binary_image;</span><br><span class="line">    <span class="type">double</span> threshold_value = <span class="number">128</span>;</span><br><span class="line">    <span class="built_in">threshold</span>(image_ena, binary_image, threshold_value, <span class="number">255</span>, THRESH_BINARY);</span><br><span class="line"></span><br><span class="line">    LWCThinning handle;</span><br><span class="line">    handle.<span class="built_in">SequentialThinning</span>(binary_image,<span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>测试原图与处理后图像如下：</p><img src="https://s2.loli.net/2024/12/13/pfNk4bBd7oHOeLZ.png"/><ul><li>原图：</li></ul><img src="https://s2.loli.net/2024/12/13/Ft5Z6h7RecyMBqs.jpg"/><ul><li>转化为二值化图像：</li></ul><img src="https://s2.loli.net/2024/12/13/Zvs3K4j7XpMnmTB.png"/><ul><li>我们把处理后的图像放大观察，可以看到骨干提取的一些细节。比如衣服的领带和眼睛等等：</li></ul><img src="https://s2.loli.net/2024/12/13/r8QuoaHwyXfC2li.png"/><hr><h2 id="问题：对于复杂图像，处理后的图像中存在很多垂直水平面的直线（噪声），如何去除？"><a href="#问题：对于复杂图像，处理后的图像中存在很多垂直水平面的直线（噪声），如何去除？" class="headerlink" title="问题：对于复杂图像，处理后的图像中存在很多垂直水平面的直线（噪声），如何去除？"></a>问题：对于复杂图像，处理后的图像中存在很多垂直水平面的直线（噪声），如何去除？</h2><h2 id="优化一：“Zhang-Suen算法”"><a href="#优化一：“Zhang-Suen算法”" class="headerlink" title="优化一：“Zhang-Suen算法”"></a>优化一：“Zhang-Suen算法”</h2><p>问题就出在我们对原始图像的处理顺序上。<strong>我们总是从上往下、从左往右地进行逐行扫描，这种顺序性可能导致水平或垂直方向的像素被优先移除或保留，从而产生水平或垂直的直线。</strong>这直接导致了很多倾斜的骨干被强制地转化为了垂直的直线。</p><p>从上方测试图“字母A”可以看出这种状况，并且在彩色测试图中也很明显能发现许多垂直直线。</p><h3 id="Zhang-Suen算法"><a href="#Zhang-Suen算法" class="headerlink" title="Zhang-Suen算法"></a>Zhang-Suen算法</h3><p>与先前自己实现的算法相比，其实就是check部分的逻辑不同。Zhang-Suen算法会先后进行两次遍历，一次是UpDown一次是LeftRight。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//zhangsuen -----------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">LWCThinning::UpDownCheck</span><span class="params">(Mat&amp; image3x3)</span></span>&#123;</span><br><span class="line">    <span class="comment">/* ---- */</span></span><br><span class="line">    <span class="keyword">if</span>((B &gt;= <span class="number">2</span> &amp;&amp; B &lt;= <span class="number">6</span>) &amp;&amp; T == <span class="number">1</span> &amp;&amp; ((P2*P4*P6 == <span class="number">0</span>) || (P4*P6*P8 == <span class="number">0</span>)))     </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">LWCThinning::LeftRightCheck</span><span class="params">(Mat&amp; image3x3)</span></span>&#123;</span><br><span class="line">    <span class="comment">/* ---- */</span></span><br><span class="line">    <span class="keyword">if</span>((B &gt;= <span class="number">2</span> &amp;&amp; B &lt;= <span class="number">6</span>) &amp;&amp; T == <span class="number">1</span> &amp;&amp; ((P2*P4*P8 == <span class="number">0</span>) || (P2*P6*P8 == <span class="number">0</span>)))     </span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Mat <span class="title">LWCThinning::zhangsuen_solve</span><span class="params">(Mat&amp; Image, <span class="type">int</span> iter_time)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> img_width = Image.<span class="built_in">size</span>().width;</span><br><span class="line">    <span class="type">int</span> img_height = Image.<span class="built_in">size</span>().height;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> y = <span class="number">1</span>; y &lt; img_height<span class="number">-1</span>; y++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x = <span class="number">1</span>; x &lt; img_width<span class="number">-1</span>; x++)&#123;</span><br><span class="line">            Mat kernel_nowscanning = Mat::<span class="built_in">zeros</span>(<span class="number">3</span>,<span class="number">3</span>,CV_8UC1);   </span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x<span class="number">+1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x);     <span class="comment">//center-pixel</span></span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x<span class="number">+1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x<span class="number">+1</span>);</span><br><span class="line">            <span class="keyword">if</span>(kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">1</span>) == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="type">int</span> firstcheck = <span class="built_in">UpDownCheck</span>(kernel_nowscanning);</span><br><span class="line">                <span class="keyword">if</span>(firstcheck == <span class="number">1</span>)&#123;</span><br><span class="line">                    Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x) = <span class="number">255</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> y = <span class="number">1</span>; y &lt; img_height<span class="number">-1</span>; y++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x = <span class="number">1</span>; x &lt; img_width<span class="number">-1</span>; x++)&#123;</span><br><span class="line">            Mat kernel_nowscanning = Mat::<span class="built_in">zeros</span>(<span class="number">3</span>,<span class="number">3</span>,CV_8UC1);   </span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x<span class="number">+1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x);     <span class="comment">//center-pixel</span></span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x<span class="number">+1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x<span class="number">+1</span>);</span><br><span class="line">            <span class="keyword">if</span>(kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">1</span>) == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="type">int</span> secondcheck = <span class="built_in">LeftRightCheck</span>(kernel_nowscanning);</span><br><span class="line">                <span class="keyword">if</span>(secondcheck == <span class="number">1</span>)&#123;</span><br><span class="line">                    Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x) = <span class="number">255</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    string file_dic = <span class="string">&quot;result/process_time&quot;</span> + <span class="built_in">to_string</span>(iter_time<span class="number">+1</span>) + <span class="string">&quot;.png&quot;</span>;</span><br><span class="line">    <span class="built_in">imwrite</span>(file_dic, Image);</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Image saved to &quot;</span> &lt;&lt; file_dic &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Image;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="优化结果"><a href="#优化结果" class="headerlink" title="优化结果"></a>优化结果</h3><p>貌似没有解决垂直直线较多的问题…</p><hr><h2 id="优化二：利用“特性点提取”消除直线"><a href="#优化二：利用“特性点提取”消除直线" class="headerlink" title="优化二：利用“特性点提取”消除直线"></a>优化二：利用“特性点提取”消除直线</h2><p>刚刚在做“特征点提取”的工作时，突然来了灵感：<strong>我发现这些多余的直线都是由非特征点组成的，亦或是原理特征点的。</strong>换言之，<strong>我们只要提取了骨架图的特征点，然后去除远离特征点的点即可！</strong></p><h3 id="特征点提取"><a href="#特征点提取" class="headerlink" title="特征点提取"></a>特征点提取</h3><img src="https://s2.loli.net/2024/12/16/dkJEzB2IpyxLZrH.jpg" width="500" height="500"/><p>这是特征点提取后的图片，不同的特征点标上了不同的颜色：</p><ul><li>孤立点 isolated point：红色。</li><li>端点 end point：绿色。</li><li>3分歧点：蓝色。图片中的阶梯状斜线属于这一类。</li><li>4分歧点：黄色。十字路口。</li></ul><img src="https://s2.loli.net/2024/12/16/2x3kpPmacTdHe8E.png"/><p>我们可以放大图片观察一下细节：（由于4分歧点的黄色标注看的不明显，我在边上放了一双眼睛。）</p><img src="https://s2.loli.net/2024/12/16/W7dcQkhTnKeVHqC.png"/><p>特征点提取的核心代码：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">LWCThinning::Check_3BranchPoint</span><span class="params">(Mat&amp; image3x3)</span></span>&#123;</span><br><span class="line">    <span class="comment">/* ----- */</span></span><br><span class="line">    <span class="keyword">if</span>(B &gt;= <span class="number">3</span> &amp;&amp; (T == <span class="number">2</span> || T == <span class="number">3</span>))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">LWCThinning::Check_4BranchPoint</span><span class="params">(Mat&amp; image3x3)</span></span>&#123;</span><br><span class="line">    <span class="comment">/* ----- */</span></span><br><span class="line">    <span class="keyword">if</span>(T == <span class="number">4</span> || </span><br><span class="line">      (image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">1</span>) == <span class="number">0</span> &amp;&amp; image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">0</span>) == <span class="number">0</span> &amp;&amp; image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">2</span>) == <span class="number">0</span> &amp;&amp; image3x<span class="number">3.</span><span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">1</span>) == <span class="number">0</span>))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">Mat <span class="title">LWCThinning::FeatureExtraction</span><span class="params">(Mat&amp; Image)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    Mat rgbImage;   <span class="comment">//After PixelAnalyzing</span></span><br><span class="line">    <span class="built_in">cvtColor</span>(Image, rgbImage, COLOR_GRAY2BGR);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> img_width = Image.<span class="built_in">size</span>().width;</span><br><span class="line">    <span class="type">int</span> img_height = Image.<span class="built_in">size</span>().height;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> y = <span class="number">1</span>; y &lt; img_height<span class="number">-1</span>; y++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x = <span class="number">1</span>; x &lt; img_width<span class="number">-1</span>; x++)&#123;</span><br><span class="line">            Mat kernel_nowscanning = Mat::<span class="built_in">zeros</span>(<span class="number">3</span>,<span class="number">3</span>,CV_8UC1);   </span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">0</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">-1</span>,x<span class="number">+1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x);     <span class="comment">//center-pixel</span></span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y,x<span class="number">+1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">2</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;uchar&gt;(y<span class="number">+1</span>,x<span class="number">+1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> check_iso = <span class="number">0</span>;       <span class="comment">//isolated point</span></span><br><span class="line">            <span class="type">int</span> check_endpoint = <span class="number">0</span>;  <span class="comment">//end point</span></span><br><span class="line">            <span class="type">int</span> check_3branchpoint = <span class="number">0</span>;  <span class="comment">//3branchpoint</span></span><br><span class="line">            <span class="type">int</span> check_4branchpoint = <span class="number">0</span>;  <span class="comment">//4branchpoint</span></span><br><span class="line">            <span class="keyword">if</span>(kernel_nowscanning.<span class="built_in">at</span>&lt;uchar&gt;(<span class="number">1</span>,<span class="number">1</span>) == <span class="number">0</span>)&#123;</span><br><span class="line">                check_iso = <span class="built_in">CheckEdge</span>(kernel_nowscanning);</span><br><span class="line">                check_endpoint = <span class="built_in">CheckEndPoint</span>(kernel_nowscanning);</span><br><span class="line">                check_3branchpoint = <span class="built_in">Check_3BranchPoint</span>(kernel_nowscanning);</span><br><span class="line">                check_4branchpoint = <span class="built_in">Check_4BranchPoint</span>(kernel_nowscanning);</span><br><span class="line">                <span class="keyword">if</span>(check_iso == <span class="number">0</span>)&#123;</span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">0</span>] = <span class="number">0</span>;    </span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">1</span>] = <span class="number">0</span>;  </span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">2</span>] = <span class="number">255</span>;  <span class="comment">//Red</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(check_endpoint == <span class="number">0</span>)&#123;</span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">0</span>] = <span class="number">0</span>;    </span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">1</span>] = <span class="number">255</span>;  <span class="comment">//Green</span></span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">2</span>] = <span class="number">0</span>;  </span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(check_3branchpoint == <span class="number">1</span>)&#123;</span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">0</span>] = <span class="number">255</span>;  <span class="comment">//Blue</span></span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">1</span>] = <span class="number">0</span>;  </span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">2</span>] = <span class="number">0</span>;  </span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span>(check_4branchpoint == <span class="number">1</span>)&#123;</span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">0</span>] = <span class="number">0</span>;  </span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">1</span>] = <span class="number">255</span>;  </span><br><span class="line">                    rgbImage.<span class="built_in">at</span>&lt;Vec3b&gt;(y, x)[<span class="number">2</span>] = <span class="number">255</span>;  </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> rgbImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="利用“特性点提取”消除直线"><a href="#利用“特性点提取”消除直线" class="headerlink" title="利用“特性点提取”消除直线"></a>利用“特性点提取”消除直线</h3><p>仍然使用3x3的扫描核kernel（中心像素为注目像素），如果kernel内不存在彩色像素，即不存在特征点，那么就删去这个中心像素。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Mat <span class="title">LWCThinning::removeLinesUseFeatureExtraction</span><span class="params">(Mat&amp; Image)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> img_width = Image.<span class="built_in">size</span>().width;</span><br><span class="line">    <span class="type">int</span> img_height = Image.<span class="built_in">size</span>().height;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> y = <span class="number">1</span>; y &lt; img_height<span class="number">-1</span>; y++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> x = <span class="number">1</span>; x &lt; img_width<span class="number">-1</span>; x++)&#123;</span><br><span class="line">            Mat kernel_nowscanning = Mat::<span class="built_in">zeros</span>(<span class="number">3</span>,<span class="number">3</span>,CV_8UC3);   </span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">0</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y<span class="number">-1</span>,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">0</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y<span class="number">-1</span>,x);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">0</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y<span class="number">-1</span>,x<span class="number">+1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">1</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">1</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x);     <span class="comment">//center-pixel</span></span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">1</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x<span class="number">+1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">2</span>,<span class="number">0</span>) = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y<span class="number">+1</span>,x<span class="number">-1</span>);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">2</span>,<span class="number">1</span>) = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y<span class="number">+1</span>,x);</span><br><span class="line">            kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">2</span>,<span class="number">2</span>) = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y<span class="number">+1</span>,x<span class="number">+1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">1</span>,<span class="number">1</span>)[<span class="number">0</span>] == <span class="number">0</span> &amp;&amp; kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">1</span>,<span class="number">1</span>)[<span class="number">1</span>] == <span class="number">0</span> &amp;&amp; kernel_nowscanning.<span class="built_in">at</span>&lt;Vec3b&gt;(<span class="number">1</span>,<span class="number">1</span>)[<span class="number">2</span>] == <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="type">int</span> is_coloured = <span class="built_in">ColorPixelDetect</span>(kernel_nowscanning);</span><br><span class="line">                <span class="keyword">if</span>(!is_coloured)&#123;</span><br><span class="line">                    <span class="comment">//remove(change to W)</span></span><br><span class="line">                    Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">0</span>] = <span class="number">255</span>;</span><br><span class="line">                    Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">1</span>] = <span class="number">255</span>;</span><br><span class="line">                    Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">2</span>] = <span class="number">255</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Image;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">LWCThinning::ColorPixelDetect</span><span class="params">(Mat&amp; image3x3)</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;  </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">3</span>; j++) &#123;  </span><br><span class="line">            Vec3b pixel = image3x<span class="number">3.</span><span class="built_in">at</span>&lt;Vec3b&gt;(i, j);</span><br><span class="line">            <span class="type">int</span> B = pixel[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> G = pixel[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> R = pixel[<span class="number">2</span>];</span><br><span class="line">            <span class="comment">//have colour</span></span><br><span class="line">            <span class="keyword">if</span> (!((B == <span class="number">255</span> &amp;&amp; G == <span class="number">255</span> &amp;&amp; R == <span class="number">255</span>) || (B == <span class="number">0</span> &amp;&amp; G == <span class="number">0</span> &amp;&amp; R == <span class="number">0</span>))) &#123;  </span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="优化结果-1"><a href="#优化结果-1" class="headerlink" title="优化结果"></a>优化结果</h3><h4 id="动漫人物图片：ShinonomeEnana"><a href="#动漫人物图片：ShinonomeEnana" class="headerlink" title="动漫人物图片：ShinonomeEnana"></a>动漫人物图片：ShinonomeEnana</h4><ul><li>原图：</li></ul><img src="https://s2.loli.net/2024/12/18/XNl32ypMYd9gP7s.jpg"/><ul><li>初步骨架提取：</li></ul><img src="https://s2.loli.net/2024/12/18/F9CB5bufxeZYcNI.png"/><ul><li>特征点提取：</li></ul><img src="https://s2.loli.net/2024/12/18/sT7AdPFawf8m4ro.png"/><ul><li>利用特征点去直线：</li></ul><img src="https://s2.loli.net/2024/12/18/i9fBzcWmwqEebhO.png"/><h4 id="环境景色图片：ひびきの南"><a href="#环境景色图片：ひびきの南" class="headerlink" title="环境景色图片：ひびきの南"></a>环境景色图片：ひびきの南</h4><ul><li>原图：</li></ul><img src="https://s2.loli.net/2024/12/18/TRED91LvNKAZwWh.jpg"/><ul><li>初步骨架提取：</li></ul><img src="https://s2.loli.net/2024/12/18/wFKiSWHX79nQNtG.png"/><ul><li>特征点提取：</li></ul><img src="https://s2.loli.net/2024/12/18/oFV19ucJZSjyK8R.png"/><ul><li>利用特征点去直线：</li></ul><img src="https://s2.loli.net/2024/12/18/7iYMDKBCyeFuQ6R.png"/><h4 id="包含大量文字的图片：日本年号对照表"><a href="#包含大量文字的图片：日本年号对照表" class="headerlink" title="包含大量文字的图片：日本年号对照表"></a>包含大量文字的图片：日本年号对照表</h4><ul><li>原图：</li></ul><img src="https://s2.loli.net/2024/12/18/THtpLUYydkmP5oE.jpg"/><ul><li>初步骨架提取：</li></ul><img src="https://s2.loli.net/2024/12/18/6ayND9HbGQCIAtg.png"/><ul><li>特征点提取：</li></ul><img src="https://s2.loli.net/2024/12/18/nCmiPc8FYEzSafL.png"/><p>我们发现对文字进行处理后效果已经很好了，因此无需再继续优化。</p>]]></content>
      
      
      <categories>
          
          <category> LAB EXERCISE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
            <tag> Tough-Transform </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>如何区分使用「ないで」和「なくて」</title>
      <link href="/2024/11/15/nihongo-nakutenaide/"/>
      <url>/2024/11/15/nihongo-nakutenaide/</url>
      
        <content type="html"><![CDATA[<h2 id="问题思考"><a href="#问题思考" class="headerlink" title="问题思考"></a>问题思考</h2><p>当我们学习日语接触到“接续”这个概念时，我们会用到<strong>各种词性的テ形</strong>，比如：</p><ul><li>形容词接续形容词(即…又…)： 寂<strong>しくて</strong>辛い &#x2F; きれい<strong>で</strong>明るい</li><li>动词接续动词（先做…后做…）： 学校から帰って(から)勉強します。</li><li>名词接续名词(是…又是…)： 彼は会社員<strong>で</strong>、３人の子供の父親です。</li></ul><p>但不难发现，上述例子中均是正向表达。如果使用“否定”那又将如何表达呢？如果与此同时使用原形，对于初学者来说非常难以在第一时间想到如何表达。前几天，我在和日本人日常交流时，突然遇到了以下几个问题：</p><ul><li><strong>动词否定接续时到底用「ないで」还是「なくて」？</strong></li><li><strong>一类形容词“过去否定”「なかった」如何接续？</strong></li></ul><p>经过我的学习和查阅，现在我可以来解释我提出的这些疑问。</p><hr><h2 id="否定「ない」接续时到底变「ないで」还是「なくて」？"><a href="#否定「ない」接续时到底变「ないで」还是「なくて」？" class="headerlink" title="否定「ない」接续时到底变「ないで」还是「なくて」？"></a>否定「ない」接续时到底变「ないで」还是「なくて」？</h2><p>其实早在N5时期，我们就接触到了很多使用到「ないで」和「なくて」的文法，诸如：</p><ul><li>～しないでください！   请不要做….。</li><li>～しなくてもいいです。　  不做….也可以。</li></ul><p>只不过我们当时没有多去考虑这两个句型中为什么前者用「ないで」后者用「なくて」。</p><h3 id="「ないで」只能动词接，而「なくて」动词名词形容词均可"><a href="#「ないで」只能动词接，而「なくて」动词名词形容词均可" class="headerlink" title="「ないで」只能动词接，而「なくて」动词名词形容词均可"></a>「ないで」只能动词接，而「なくて」动词名词形容词均可</h3><p><strong>在表达否定「ない」的接续(テ形)时，日语中存在「ないで」和「なくて」两种表达。</strong></p><ul><li><p><strong>对于形容词和名词而言，一定有「ない」-&gt; 「なくて」。</strong>如：</p><blockquote><p>暑くない -&gt; 暑くなくて：　この部屋が暑くなくてきれいだと思う。<br>有名じゃない -&gt; 有名じゃなくて：　この町が有名じゃなくて、景色も他の町に比べ物にならない。<br>学生じゃない -&gt; 学生じゃなくて：　彼は学生じゃなくて会社員じゃない。</p></blockquote></li><li><p><strong>对于动词而言，「ない」-&gt; 「なくて」&#x2F;「ないで」均可。</strong>如：</p><blockquote><p>食べない -&gt; 食べなくて：　朝ご飯を食べなくて学校へ行きます。<br>食べない -&gt; 食べないで：　朝ご飯を食べないで学校へ行きます。</p></blockquote></li></ul><p>显然，上面两个句子表达的含义是不一样的，光光是读出来给人的感觉就不一样了。因此，动词「ない」-&gt; 「なくて」或者「ない」-&gt; 「ないで」的含义不同。</p><h3 id="动词「ないで」-「なくて」接续动词的区别：前者状态，后者因果。"><a href="#动词「ないで」-「なくて」接续动词的区别：前者状态，后者因果。" class="headerlink" title="动词「ないで」&#x2F;「なくて」接续动词的区别：前者状态，后者因果。"></a>动词「ないで」&#x2F;「なくて」接续动词的区别：前者状态，后者因果。</h3><ul><li>「ないで」</li></ul><p>从语感上或者说从文法上，<strong>助词「で」给人一种“基于…状态”，“在…状态下”的感觉。</strong>比如我在超市里付钱时，我会说「現金で」表示我要用现金支付，这里的「で」是手段；又比如每次打舞萌都做公交车出勤，我会说「バスで行く」，这里的「で」是交通工具。</p><p>我们迁移到「ないで」上：<strong>我们可以认为「ないで」其实就是简单的「ない」加了一个助词「で」，表示“在没有(做)….的情况下,….”，“在…状态下…”。</strong>我们还可以顺水推舟地发现，「ないで」严格意义上并不是「ない」的テ形，表义的功劳都在助词「で」上。</p><p>在网络上看到一个评论感觉说的相当有道理：<strong>で就是 with, ないで就是without。</strong> 意思和我上面长篇大论表述的如出一辙。</p><blockquote><p>　朝ご飯を食べ<strong>ないで</strong>学校へ行きます。<br>　在没有吃早饭的情况下就直接去了学校。</p></blockquote><p>这个句子里的「朝ご飯を食べないで」就是表达了：其后「学校へ行きます」动作发生的条件&#x2F;状态是「朝ご飯を食べないで」。下面有更多的例句，可以自行体会语感。</p><blockquote><p>　シートベルトをつけないで運転することが危ないです！<br>　在不系安全带的状态下开车是危险的</p></blockquote><blockquote><p>　教科書を見ないで答えてみます。<br>　在不看课本的状态下试着回答一下。</p></blockquote><blockquote><p>　毎日ゲームばっかり勉強しないで、試験に合格するわけがないだろう！<br>　每天只顾玩游戏不学习，不可能通过考试吧！</p></blockquote><ul><li>「なくて」</li></ul><p>前面说「ないで」严格意义上并不是「ない」的テ形，那么「なくて」就是严格意义上「ない」的テ形了。<strong>当前后有因果关系时，会使用到「なくて」。</strong>比如下面这个例句，出自番剧《间谍过家家》里可爱的阿尼亚：</p><blockquote><p>　アニヤ、母いなくて寂しい～<br>　阿尼亚没有妈妈好寂寞~</p></blockquote><p>这里阿尼亚感到寂寞是因为没有妈妈，所以这里有因果关系。如果用「ないで」就变成阿尼亚说自己在没有妈妈的状态下寂寞了，让人感觉怪怪的。还有一些例句：</p><blockquote><p>　お金がなくて旅行できない。<br>　(因为)没钱(所以)没法出去旅游。</p></blockquote><h3 id="「ないで」-「ずに」"><a href="#「ないで」-「ずに」" class="headerlink" title="「ないで」&#x3D;「ずに」"></a>「ないで」&#x3D;「ずに」</h3><p>在N3的语法中我们还学过，<strong>动词否定还有一种形式是以「ず」结尾，即「ないで」&#x3D;「ずに」</strong>。这里的「ずに」明显是与其后接续的另外一个动词有关联性，如：</p><blockquote><p>　遠慮しないでいきましょう！　＝　遠慮せずに行きましょう！<br>　遠慮しなくていきましょう！　×<br>　不用担心，就这样上吧！（碧蓝幻想relink中夏洛特的副本出发语音。）　</p></blockquote><hr><h2 id="一类形容词“过去否定”「なかった」如何接续？"><a href="#一类形容词“过去否定”「なかった」如何接续？" class="headerlink" title="一类形容词“过去否定”「なかった」如何接续？"></a>一类形容词“过去否定”「なかった」如何接续？</h2><p>以「面白い」为例：「面白い」接续变テ形「面白くて」，其一般否定形式「面白くない」接续变テ形「面白くなくて」。那么问题来了，其过去否定形式「面白くなかった」接续怎么变テ形呢？<strong>我想破了脑袋也没想出来「なかった」怎么变テ形，因为「なかった」准确来说已经是一个タ形了。</strong></p><p>其实，<strong>如果真想在「なかった」后面接续，直接分成两个句子并用「が」&#x2F;「けれど」等助词连接即可，不用テ形。</strong> 比如：</p><blockquote><p>　この映画は面白くなかったけど、映像は綺麗だった。<br>　(昨天看的)这部电影不有趣，但画面很漂亮。</p></blockquote><blockquote><p>　昨日のプレゼンは緊張感がなく、あまり印象的ではなかったが、今日のプレゼンはとても説得力があって素晴らしかった。<br>　昨天的演讲没有紧张感，也不是很有印象深刻，但今天的演讲非常有说服力，非常出色。</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>关于「させていただきます」的几点理解</title>
      <link href="/2024/11/14/nihongo-itadaku/"/>
      <url>/2024/11/14/nihongo-itadaku/</url>
      
        <content type="html"><![CDATA[<h2 id="问题引发"><a href="#问题引发" class="headerlink" title="问题引发"></a>问题引发</h2><p>今天上日语中级会话课的时候，看到了几个用到了敬语「いただく」的句子。</p><blockquote><p>（お店の張り紙）本日は定休日につき、<strong>休ませていただきます。</strong></p></blockquote><blockquote><p>　ー　ぜひ鈴木さんの下でプロジェクトを<strong>担当させていただきたい</strong>と思っておいます。</p></blockquote><p>从一开始学习日语我就比较头疼敬语，尤其是「いただく」这种与其他语法亦有繁多组合的敬语文法（比如可以组合成「させていただいてもいいですか」、「いただきたい」等等），这让我有一丝的畏惧，因此我一直没有理解这一部分。今天正好有兴致研究这一部分，趁此机会或许可以透析一下这个文法。</p><hr><h2 id="「いただきます」是「もらう」的自谦语"><a href="#「いただきます」是「もらう」的自谦语" class="headerlink" title="「いただきます」是「もらう」的自谦语"></a>「いただきます」是「もらう」的自谦语</h2><p>在N4学习“授受关系”时，书上或者老师肯定会提到三个“授受关系”动词的敬语形态。</p><ul><li>あげる：我给别人。　　—&gt;　差し上げます（さしあげます）</li><li>もらう：我&#x2F;别人收到。   —&gt;　頂きます（いただきます）</li><li>くれる：我收到。(私にくれる)   —&gt; くださいます</li></ul><p>虽然是简单的N4语法，也有必要重新说明一下： <strong>「いただきます」是「もらう」的自谦语，表示主语是动作的接收方。</strong> 比如：「彼に手伝ってもらう」表示接收到了他的帮助；「母にパソコンを買ってもらう」表示妈妈帮我买了电脑(我接受到了妈妈买电脑的动作)。</p><p>当然，对于二次元来说「いただきます」可谓是再熟悉不过了，因为日本人吃饭前都会说一句：“いただきます！”，字幕通常把他翻译成：“我开动了！”。<strong>这是因为「いただきます」还是「食べる」和「飲む」的自谦形式。</strong> 我自己说我自己要吃&#x2F;喝了，那按道理就要用谦让语了。至于为什么要在开饭前对着家人或者朋友说敬语，这只能解释为日本人几百年来养成的语言习惯了。不过，「させていただきます」中的「いただきます」是「もらう」的自谦语，并不是「食べる」或者「飲む」的自谦语，因此本博客主要还是讨论前者。</p><hr><h2 id="「させてもらう」-「させていただきます」：请允许我做"><a href="#「させてもらう」-「させていただきます」：请允许我做" class="headerlink" title="「させてもらう」-&gt;「させていただきます」：请允许我做"></a>「させてもらう」-&gt;「させていただきます」：请允许我做</h2><ul><li><strong>「させていただきます」表达一种“征求对方同意”的语义，可以翻译成“请允许我(做)……”，是一个自谦语表达。他的原形是「させてもらう」。</strong></li><li><strong>过去式「させていただきました」并不是为了表示时间上的过去，而是出于礼貌，表示自己已经领受或得到了对方的许可，从而更加尊重对方的心意。</strong>日语中，尤其是敬语表达时，过去式并不一定是指时间上的过去，而更多是表达一种「完了」的状态，以传达谦逊和礼貌。</li></ul><p>如果从文法的角度思考，「させる」是使役形（让…做），其テ形后续接动词 「いただく」。从文法上的理解，「させていただきます」的意思是”让我获得…”，或者说”让我得到做…（的允许）”。如果使用过去式「させていただきした」，难道要理解成过去已经允许我做过某些事？这样理解起来还是有些别扭。</p><p>其实我们没有必要一味追求语法的思考，我认为首先我们需要记住他的意思并记忆一些例句，积累语感。我们从「させてもらう」开始，转变到「させていただきます」。</p><blockquote><p>　紹介させてもらいます。<br>　電話させてもらいました。<br>　食べさせてもらった。</p></blockquote><blockquote><p>　紹介させていただきます。<br>　電話させていただきました。<br>　食べさせていただきました。</p></blockquote><blockquote><p>　请允许我介绍一下。<br>　承蒙您的允许，我给您打电话了。  —&gt;  我给您打电话，打扰您了。<br>　承蒙您的允许，我吃了。   —&gt;  多谢您的款待。</p></blockquote><p>理解了上面几个例句，这时候我们再看第一节中的第一个句子，就非常清晰明了了。</p><blockquote><p>（お店の張り紙）本日は定休日につき、<strong>休ませていただきます。</strong><br>（商店门口的贴纸）今天是休息日，请允许我们今天停业。</p></blockquote><hr><h2 id="诸如「させていただいてもいいですか」的引申"><a href="#诸如「させていただいてもいいですか」的引申" class="headerlink" title="诸如「させていただいてもいいですか」的引申"></a>诸如「させていただいてもいいですか」的引申</h2><p>下面介绍几组基于「させていただきます」的几个引申文法，理解起来也并不困难。但这里肯定不可能总结所有的引申文法，也没有这个必要，只需要理解常见的即可，积累预感。</p><h3 id="第一组：-いいですか"><a href="#第一组：-いいですか" class="headerlink" title="第一组：+いいですか"></a>第一组：+いいですか</h3><p>-　させてもらってもいいですか<br>-　させていただいてもいいですか<br>-　させていただいてもよろしいでしょうか</p><p>上述三个文法在「させていただきます」的基础上接续了「てもいいですか」。<strong>增加「てもいいですか」本质上是表达更加礼貌的一种请求，意思仍然是“请允许我…”</strong>，无需过多揣测其文法逻辑。另外，上述三个文法礼貌程度逐渐增加，这是因为「もらう」变「いただく」、「いいですか」变「よろしいでしょうか」都是更加尊敬的表达。</p><h3 id="第二组：-たい"><a href="#第二组：-たい" class="headerlink" title="第二组：-たい"></a>第二组：-たい</h3><p>-　させていただきたい</p><p>由于文法主体仍然是「させていただきます」，因此「させていただきたい」表达的仍然是一种请求，只不过最后的「たい」表达了 <strong>“我想要做某事”的愿望</strong>。我们甚至可以更加<strong>简单地认为「させていただきたい」就是「～したい」&#x2F;「～することがほしいです」的礼貌自谦形式。</strong></p><p>我们回到问题引发中的句子，发现已经可以理解了。在这里，「担当させていただきたい」表达了说话人对担任项目负责人的强烈愿望，同时使用了非常礼貌和谦逊的语气。通过使用「させていただく」，说话人显得既尊重对方，也表达了对机会的渴望。整体上，这种表达方式在正式场合或职场中非常合适，特别是向上司或领导表达希望得到某项任务或责任的请求时。</p><blockquote><p>ー　ぜひ鈴木さんの下でプロジェクトを<strong>担当させていただきたい</strong>と思っておいます。<br>  —— 我非常希望能够在铃木先生的领导下负责这个项目。</p></blockquote><h3 id="第三组：可能形"><a href="#第三组：可能形" class="headerlink" title="第三组：可能形"></a>第三组：可能形</h3><p>-　させていただけませんか<br>-　させていただけないでょうか</p><p>文法上，「いただけます」是「いただく」的可能形。但 <strong>「させていただけませんか」其实也表示“能不能让我做……”的请求，可以视为「させていただきます」的另一种说法。</strong></p><p><strong>「させていただけないでしょうか」是「させていただけませんか」的稍微更正式或更委婉的说法，意思是几乎相同。</strong>语感上「ないでしょうか」带有更强的请求语气，通常用于非常正式或需要特别委婉表达的场合。</p><hr><h2 id="很好的视频"><a href="#很好的视频" class="headerlink" title="很好的视频"></a>很好的视频</h2><iframe     src="//player.bilibili.com/player.html?isOutside=true&aid=512275586&bvid=BV1Ng41197SN&cid=742559217&p=1"     width="900"     height="550"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     allowfullscreen="true"></iframe>]]></content>
      
      
      <categories>
          
          <category> 日本語 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日本語 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>用原生opencv代码实现霍夫变换(Tough-Transform)</title>
      <link href="/2024/11/10/opencv/"/>
      <url>/2024/11/10/opencv/</url>
      
        <content type="html"><![CDATA[<h2 id="基本要求"><a href="#基本要求" class="headerlink" title="基本要求"></a>基本要求</h2><blockquote><p>Hough transform is a very classic and useful method for the detection of curves or lines. It uses the transformation of two coordinate spaces (the image space and the Hough space) to map curves or straight lines to points in another coordinate space to vote and form peaks, thus transforming the problem of detecting arbitrary shapes into a statistical peak problem.<br>In this task, you can draw some lines or circles by yourself and use Hough Transform to detect the figure you drew (you can try for lines firstly and then for circles). MUST implement it yourself!</p></blockquote><h2 id="代码框架"><a href="#代码框架" class="headerlink" title="代码框架"></a>代码框架</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ToughTransform</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">LineDetection</span><span class="params">(Mat&amp; Image)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">CircleDetection</span><span class="params">(Mat&amp; Image)</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">ShowParameterSpace</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; PS_AfterFilter, string file_name, <span class="type">int</span> thetaScale)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">DrawLineDetectedImage</span><span class="params">(Mat&amp; Image, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; PS_AfterFilter, <span class="type">int</span> row_max, <span class="type">int</span> theta_max , <span class="type">int</span> second_filter_threshold)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">ShowParameterSpace_Circle</span><span class="params">(vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt;&amp; PS_AfterFilter, string file_name, <span class="type">int</span> thetaScale)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">DrawCircleDetectedImage</span><span class="params">(Mat&amp; Image,vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt;&amp; PS_AfterFilter, <span class="type">int</span> max_a, <span class="type">int</span> max_b, <span class="type">int</span> max_r, <span class="type">int</span> second_filter_threshold)</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><hr><h2 id="直线检测"><a href="#直线检测" class="headerlink" title="直线检测"></a>直线检测</h2><ul><li><strong>void LineDetection(Mat&amp; Image):</strong> 算法主流程。包括将图像转化到二维参数空间(row,theta),对参数空间矩阵进行初次阈值过滤,以及调用ShowParameterSpace和DrawLineDetectedImage方法。</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    LineDetection: ShowParameterSpace + DrawLineDetectedImage</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::LineDetection</span><span class="params">(Mat&amp; Image)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> img_width = Image.<span class="built_in">size</span>().width;</span><br><span class="line">    <span class="type">int</span> img_height = Image.<span class="built_in">size</span>().height;</span><br><span class="line">    <span class="comment">//ParameterSpace[row][theta]</span></span><br><span class="line">    <span class="type">double</span> row_max = <span class="built_in">sqrt</span>(img_width * img_width + img_height * img_height);</span><br><span class="line">    <span class="type">int</span> theta_max = <span class="number">180</span>;   <span class="comment">//theta: step_length = 1</span></span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;  <span class="built_in">PatameterSpace</span>(<span class="number">2</span> * <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row_max)),</span><br><span class="line">                                        <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(theta_max, <span class="number">0</span>));</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ImageSize:&quot;</span> &lt;&lt; img_height &lt;&lt; <span class="string">&quot;*&quot;</span> &lt;&lt; img_width &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;PatameterSpace:&quot;</span> &lt;&lt; <span class="number">2</span>*row_max &lt;&lt; <span class="string">&quot;*&quot;</span> &lt;&lt; theta_max &lt;&lt; <span class="string">&quot; --&gt; &quot;</span> &lt;&lt; <span class="number">2</span> * <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row_max)) &lt;&lt; <span class="string">&quot;*&quot;</span> &lt;&lt; theta_max &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> y = <span class="number">0</span>; y &lt; img_height; y++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x = <span class="number">0</span>; x &lt; img_width; x++)&#123;</span><br><span class="line">            <span class="type">int</span> B = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> G = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> R = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">2</span>]; </span><br><span class="line">            <span class="keyword">if</span>(B == <span class="number">0</span> &amp;&amp; G == <span class="number">0</span> &amp;&amp; R == <span class="number">0</span>)&#123;   <span class="comment">//Edge is black-pixel</span></span><br><span class="line">                <span class="comment">//!!!look through theta, calc row than write into parameter-space!!!</span></span><br><span class="line">                <span class="comment">//遍历theta，计算row，存入参数空间</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> theta = <span class="number">0</span>; theta &lt;= theta_max; theta++)&#123;  </span><br><span class="line">                    <span class="type">double</span> theta_rad = theta * PI / <span class="number">180.0</span>;</span><br><span class="line">                    <span class="type">double</span> row = x * <span class="built_in">cos</span>(theta_rad) + y * <span class="built_in">sin</span>(theta_rad);</span><br><span class="line">                    <span class="comment">//row可能是负的,row_max作为偏移量. 将偏移量row_max加到row上，转为非负索引</span></span><br><span class="line">                    <span class="comment">//cout &lt;&lt; &quot;row = &quot; &lt;&lt; row &lt;&lt; &quot; ---&gt; &quot; &lt;&lt; row + row_max  &lt;&lt; &quot; ---&gt; &quot; &lt;&lt; ceil(row) + ceil(row_max) &lt;&lt; endl;</span></span><br><span class="line">                    PatameterSpace[<span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row) + <span class="built_in">ceil</span>(row_max))][theta]++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> threshold = <span class="number">10</span>;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;  <span class="built_in">PS_AfterFilter</span>(<span class="number">2</span> * <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row_max)),</span><br><span class="line">                                        <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(theta_max, <span class="number">0</span>));</span><br><span class="line">    <span class="comment">//threshold-filter</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; PatameterSpace.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; PatameterSpace[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(PatameterSpace[i][j] &gt;= threshold)</span><br><span class="line">                PS_AfterFilter[i][j] = PatameterSpace[i][j];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                PS_AfterFilter[i][j] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">ShowParameterSpace</span>(PS_AfterFilter,<span class="string">&quot;source/line-result/EnhancedHoughSpaceImage-FirstFilter.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> second_filter_threshold = <span class="number">500</span>;</span><br><span class="line">    <span class="built_in">DrawLineDetectedImage</span>(Image,PS_AfterFilter,<span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row_max)),theta_max,second_filter_threshold);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>ShowParameterSpace(vector&lt;vector<int>&gt;&amp; PS_AfterFilter, string file_name, int thetaScale)：</strong> 在LineDetection和DrawLineDetectedImage中被调用，可以描绘出二维参数空间PS_AfterFilter(row,theta)的点分布。其中file_name是图片保存地址；thetaScale将theta轴拉伸，以达到更好的可视化效果。</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">    ShowParameterSpace:</span></span><br><span class="line"><span class="comment">        描绘(row,theta)参数空间的图像。此时的参数矩阵PS_AfterFilter只经历了初步的阈值筛选。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::ShowParameterSpace</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; PS_AfterFilter, string file_name, <span class="type">int</span> thetaScale = <span class="number">15</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> rows = PS_AfterFilter.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> cols = PS_AfterFilter[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function">Mat <span class="title">houghSpaceImage</span><span class="params">(rows, cols, CV_8UC1, Scalar(<span class="number">0</span>))</span></span>;</span><br><span class="line">    <span class="type">int</span> maxVal = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; row : PS_AfterFilter) &#123;</span><br><span class="line">        maxVal = <span class="built_in">max</span>(maxVal, *<span class="built_in">max_element</span>(row.<span class="built_in">begin</span>(), row.<span class="built_in">end</span>()));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line">            houghSpaceImage.<span class="built_in">at</span>&lt;uchar&gt;(i, j) = <span class="built_in">static_cast</span>&lt;uchar&gt;(<span class="number">255.0</span> * PS_AfterFilter[i][j] / maxVal);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Mat enlargedHoughSpace;</span><br><span class="line">    <span class="built_in">resize</span>(houghSpaceImage, enlargedHoughSpace, <span class="built_in">Size</span>(cols * thetaScale, rows), <span class="number">0</span>, <span class="number">0</span>, INTER_LINEAR);</span><br><span class="line">    Mat colorHoughSpace;</span><br><span class="line">    <span class="built_in">applyColorMap</span>(enlargedHoughSpace, colorHoughSpace, COLORMAP_JET);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">namedWindow</span>(<span class="string">&quot;Enhanced Hough Space&quot;</span>, WINDOW_NORMAL);</span><br><span class="line">    <span class="built_in">imshow</span>(<span class="string">&quot;Enhanced Hough Space&quot;</span>, colorHoughSpace);</span><br><span class="line">    <span class="built_in">imwrite</span>(file_name, colorHoughSpace);</span><br><span class="line">    <span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>DrawLineDetectedImage(Mat&amp; Image, vector&lt;vector<int>&gt;&amp; PS_AfterFilter, int row_max, int theta_max , int second_filter_threshold):</strong> 将二维参数空间矩阵PS_AfterFilter进行更深层次的阈值筛选(阈值更大，筛选剩下的点更少)，然后反变换到”x,y直角坐标系”，描绘出检测出的直线。</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    DrawDetectedImage: </span></span><br><span class="line"><span class="comment">        二次过滤参数空间(row,theta)矩阵，然后在原图image上描绘出直线。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::DrawLineDetectedImage</span><span class="params">(Mat&amp; Image, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; PS_AfterFilter, <span class="type">int</span> row_max, <span class="type">int</span> theta_max = <span class="number">180</span>, <span class="type">int</span> second_filter_threshold = <span class="number">100</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//threshold-filter-second</span></span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">PS_FinalFilter</span>(<span class="number">2</span> * <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row_max)),</span><br><span class="line">                                       <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(theta_max, <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; PS_AfterFilter.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; PS_AfterFilter[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(PS_AfterFilter[i][j] &gt;= second_filter_threshold)</span><br><span class="line">                PS_FinalFilter[i][j] = PS_AfterFilter[i][j];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                PS_FinalFilter[i][j] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">ShowParameterSpace</span>(PS_FinalFilter,<span class="string">&quot;source/line-result/EnhancedHoughSpaceImage-FinalFilter.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> rows = PS_FinalFilter.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> cols = PS_FinalFilter[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> row = <span class="number">0</span>; row &lt; rows; row++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> theta = <span class="number">0</span>; theta &lt; cols; theta++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (PS_FinalFilter[row][theta] != <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">double</span> this_theta_rad = theta * PI / <span class="number">180.0</span>;  </span><br><span class="line">                <span class="type">double</span> this_row = row - row_max;</span><br><span class="line"></span><br><span class="line">                Point pt1, pt2;</span><br><span class="line">                <span class="type">double</span> a = <span class="built_in">cos</span>(this_theta_rad);</span><br><span class="line">                <span class="type">double</span> b = <span class="built_in">sin</span>(this_theta_rad);</span><br><span class="line">                <span class="type">double</span> x0 = a * this_row;</span><br><span class="line">                <span class="type">double</span> y0 = b * this_row;</span><br><span class="line">                pt<span class="number">1.</span>x = <span class="built_in">cvRound</span>(x0 + <span class="number">1000</span> * (-b));</span><br><span class="line">                pt<span class="number">1.</span>y = <span class="built_in">cvRound</span>(y0 + <span class="number">1000</span> * (a));</span><br><span class="line">                pt<span class="number">2.</span>x = <span class="built_in">cvRound</span>(x0 - <span class="number">1000</span> * (-b));</span><br><span class="line">                pt<span class="number">2.</span>y = <span class="built_in">cvRound</span>(y0 - <span class="number">1000</span> * (a));</span><br><span class="line"></span><br><span class="line">                <span class="built_in">line</span>(Image, pt1, pt2, <span class="built_in">Scalar</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>, LINE_AA);</span><br><span class="line">            &#125;    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">namedWindow</span>(<span class="string">&quot;Detected Lines&quot;</span>, WINDOW_NORMAL);</span><br><span class="line">    <span class="built_in">imshow</span>(<span class="string">&quot;Detected Lines&quot;</span>, Image);</span><br><span class="line">    <span class="built_in">imwrite</span>(<span class="string">&quot;source/line-result/DetectedLinesImage.png&quot;</span>, Image);</span><br><span class="line">    <span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>调试方法：</strong> 调整阈值second_filter_threshold直到合适。如果阈值太低，描绘的直线就会过多，图上一片混乱；如果阈值太高，则不会有检测结果。</li></ul><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p>输入测试图片，主函数调用LineDetection(Mat&amp; Image)即可。</p><ul><li>测试图像如下。</li></ul><img src="https://s2.loli.net/2024/11/10/tnT7CJQDNgLraUR.png"/><ul><li>霍夫变换并初步阈值过滤(threshold&#x3D;10)后，检测出的直线二维参数空间(row,theta)图像。</li></ul><img src="https://s2.loli.net/2024/11/10/zdjCqyXa6QkMBp1.png"/><ul><li>二次深度阈值过滤(threshold&#x3D;500)后，检测出的直线二维参数空间(row,theta)图像。</li></ul><img src="https://s2.loli.net/2024/11/10/J4VF9xdLYpwrayU.png"/><ul><li>反变换到直角坐标，原图上描绘出检测到的直线。</li></ul><img src="https://s2.loli.net/2024/11/10/IBofUtDdhnNelWx.png"/><hr><h2 id="圆检测"><a href="#圆检测" class="headerlink" title="圆检测"></a>圆检测</h2><ul><li><strong>CircleDetection(Mat&amp; Image):</strong> 算法主流程。包括将图像转化到三维参数空间(a,b,r)，其中圆心坐标为(a,b)，圆的半径是r。对参数空间矩阵进行初次阈值过滤,以及调用ShowParameterSpace_Circle和DrawCircleDetectedImage方法。</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    CircleDetection: ShowParameterSpace_Circle + DrawCircleDetectedImage</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::CircleDetection</span><span class="params">(Mat&amp; Image)</span></span>&#123;</span><br><span class="line">    <span class="comment">//在霍夫变换中，我们通过三个参数来描述一个圆：圆心的坐标(a,b)和半径r.</span></span><br><span class="line">    <span class="type">int</span> img_width = Image.<span class="built_in">size</span>().width;</span><br><span class="line">    <span class="type">int</span> img_height = Image.<span class="built_in">size</span>().height;</span><br><span class="line">    <span class="comment">//ParameterSpace[b][a][r]   b---&gt;height---&gt;y | a---&gt;width---&gt;x</span></span><br><span class="line">    <span class="type">int</span> max_a = img_width;</span><br><span class="line">    <span class="type">int</span> max_b = img_height;</span><br><span class="line">    <span class="type">int</span> max_r = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="number">0.5</span>* <span class="built_in">min</span>(max_a,max_b));</span><br><span class="line">    vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt; <span class="built_in">ParameterSpace</span>(max_b,</span><br><span class="line">                                               vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;(max_a,</span><br><span class="line">                                               <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(max_r)</span><br><span class="line">                                               ));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> y = <span class="number">0</span>; y &lt; img_height; y++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x = <span class="number">0</span>; x &lt; img_width; x++)&#123;</span><br><span class="line">            <span class="type">int</span> B = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> G = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> R = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">2</span>]; </span><br><span class="line">            <span class="keyword">if</span>(B == <span class="number">0</span> &amp;&amp; G == <span class="number">0</span> &amp;&amp; R == <span class="number">0</span>)&#123;   <span class="comment">//Edge is black-pixel</span></span><br><span class="line">                <span class="comment">//遍历r，计算row，存入参数空间: min_r = 20 --&gt; max_r</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> r = <span class="number">20</span>; r &lt;= max_r; r++)&#123;</span><br><span class="line">                    <span class="comment">//遍历每个r情况下的theta(一周)，计算a&amp;b，存入参数空间</span></span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> theta = <span class="number">0</span>; theta &lt; <span class="number">360</span>; theta++)&#123;</span><br><span class="line">                        <span class="type">double</span> theta_rad = theta * PI / <span class="number">180.0</span>;</span><br><span class="line">                        <span class="type">int</span> a = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(x - r * <span class="built_in">cos</span>(theta_rad));</span><br><span class="line">                        <span class="type">int</span> b = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(y - r * <span class="built_in">sin</span>(theta_rad));</span><br><span class="line">                        <span class="keyword">if</span>(a &gt;= <span class="number">0</span> &amp;&amp; a &lt; max_a &amp;&amp; b &gt;= <span class="number">0</span> &amp;&amp; b &lt; max_b)&#123;</span><br><span class="line">                            ParameterSpace[b][a][r]++;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//threshold-filter</span></span><br><span class="line">    <span class="type">int</span> threshold = <span class="number">10</span>;</span><br><span class="line">    vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt; <span class="built_in">PS_AfterFilter</span>(max_b,</span><br><span class="line">                                               vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;(max_a,</span><br><span class="line">                                               <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(max_r)</span><br><span class="line">                                               ));</span><br><span class="line">    <span class="comment">//threshold-filter</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ParameterSpace.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; ParameterSpace[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; ParameterSpace[<span class="number">0</span>][<span class="number">0</span>].<span class="built_in">size</span>(); k++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(ParameterSpace[i][j][k] &gt;= threshold)</span><br><span class="line">                    PS_AfterFilter[i][j][k] = ParameterSpace[i][j][k];</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    PS_AfterFilter[i][j][k] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">ShowParameterSpace_Circle</span>(PS_AfterFilter,<span class="string">&quot;source/circle-result/EnhancedHoughSpaceImage-FirstFilter.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> second_filter_threshold = <span class="number">300</span>;</span><br><span class="line">    <span class="built_in">DrawCircleDetectedImage</span>(Image,PS_AfterFilter,max_a,max_b,max_r,second_filter_threshold);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>ShowParameterSpace_Circle(vector&lt;vector&lt;vector<int>&gt;&gt;&amp; PS_AfterFilter, string file_name, int thetaScale)：</strong> 传入三维参数矩阵PS_AfterFilter，描绘图像。其中file_name是图片保存地址；thetaScale将theta轴拉伸，以达到更好的可视化效果。</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::ShowParameterSpace_Circle</span><span class="params">(vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt;&amp; PS_AfterFilter, string file_name, <span class="type">int</span> thetaScale = <span class="number">1</span>)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> height = PS_AfterFilter.<span class="built_in">size</span>();     <span class="comment">//row的范围</span></span><br><span class="line">    <span class="type">int</span> width = PS_AfterFilter[<span class="number">0</span>].<span class="built_in">size</span>();   <span class="comment">// theta的范围</span></span><br><span class="line">    <span class="type">int</span> num_r = PS_AfterFilter[<span class="number">0</span>][<span class="number">0</span>].<span class="built_in">size</span>(); <span class="comment">// 半径r的数量</span></span><br><span class="line">    <span class="function">Mat <span class="title">parameter_space_image</span><span class="params">(height, width, CV_8UC1, cv::Scalar(<span class="number">0</span>))</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> b = <span class="number">0</span>; b &lt; height; b++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> a = <span class="number">0</span>; a &lt; width; a++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> r = <span class="number">0</span>; r &lt; num_r; r++) &#123;</span><br><span class="line">                <span class="type">int</span> accumulator_value = PS_AfterFilter[b][a][r];</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// 将累积值映射到0-255的范围（可以根据实际情况调整比例）</span></span><br><span class="line">                <span class="type">int</span> intensity = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="number">255.0</span> * accumulator_value / <span class="number">255.0</span>); </span><br><span class="line">                parameter_space_image.<span class="built_in">at</span>&lt;uchar&gt;(b, a) = intensity;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Mat enlargedHoughSpace;</span><br><span class="line">    <span class="built_in">resize</span>(parameter_space_image, enlargedHoughSpace, <span class="built_in">Size</span>(width * thetaScale, height), <span class="number">0</span>, <span class="number">0</span>, INTER_LINEAR);</span><br><span class="line">    Mat colorHoughSpace;</span><br><span class="line">    <span class="built_in">applyColorMap</span>(enlargedHoughSpace, colorHoughSpace, COLORMAP_JET);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">namedWindow</span>(<span class="string">&quot;Detected Circles&quot;</span>, WINDOW_NORMAL);</span><br><span class="line">    <span class="built_in">imshow</span>(<span class="string">&quot;Detected Circles&quot;</span>, colorHoughSpace);</span><br><span class="line">    <span class="built_in">imwrite</span>(file_name, colorHoughSpace);</span><br><span class="line">    <span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>DrawCircleDetectedImage(Mat&amp; Image,vector&lt;vector&lt;vector<int>&gt;&gt;&amp; PS_AfterFilter, int max_a, int max_b, int max_r, int second_filter_threshold)：</strong> 传入三维参数空间PS_AfterFilter，利用second_filter_threshold进行二次阈值筛选后，反变换到直角坐标。由于是圆检测，只需要取出圆心(x,y)和半径r的值，然后进行描绘即可。</li></ul><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::DrawCircleDetectedImage</span><span class="params">(Mat&amp; Image,vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt;&amp; PS_AfterFilter, <span class="type">int</span> max_a, <span class="type">int</span> max_b, <span class="type">int</span> max_r, <span class="type">int</span> second_filter_threshold)</span></span>&#123;</span><br><span class="line">    <span class="comment">//threshold-filter-second</span></span><br><span class="line">    vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt; <span class="built_in">PS_FinalFilter</span>(max_b,</span><br><span class="line">                                               vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;(max_a,</span><br><span class="line">                                               <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(max_r)</span><br><span class="line">                                               ));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; PS_AfterFilter.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; PS_AfterFilter[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; PS_AfterFilter[<span class="number">0</span>][<span class="number">0</span>].<span class="built_in">size</span>(); k++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(PS_AfterFilter[i][j][k] &gt;= second_filter_threshold)</span><br><span class="line">                    PS_FinalFilter[i][j][k] = PS_AfterFilter[i][j][k];</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    PS_FinalFilter[i][j][k] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">ShowParameterSpace_Circle</span>(PS_FinalFilter,<span class="string">&quot;source/circle-result/EnhancedHoughSpaceImage-FinalFilter.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; PS_FinalFilter.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; PS_FinalFilter[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; PS_FinalFilter[<span class="number">0</span>][<span class="number">0</span>].<span class="built_in">size</span>(); k++)&#123;</span><br><span class="line">                <span class="comment">//draw circle</span></span><br><span class="line">                <span class="keyword">if</span>(PS_FinalFilter[i][j][k] != <span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="function">Point <span class="title">center</span><span class="params">(j, i)</span></span>;</span><br><span class="line">                    <span class="built_in">circle</span>(Image, center, k, cv::<span class="built_in">Scalar</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>);  <span class="comment">//红色圆圈</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">namedWindow</span>(<span class="string">&quot;Detected Circles&quot;</span>, WINDOW_NORMAL);</span><br><span class="line">    <span class="built_in">imshow</span>(<span class="string">&quot;Detected Circles&quot;</span>, Image);</span><br><span class="line">    <span class="built_in">imwrite</span>(<span class="string">&quot;source/circle-result/DrawCircleDetectedImage.png&quot;</span>, Image);</span><br><span class="line">    <span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>调试方法：</strong> <ul><li>调整阈值second_filter_threshold直到合适。如果阈值太低，描绘的圆就会过多，图上一片混乱；如果阈值太高，则不会有检测结果。</li><li>调整参数计算时，半径的遍历上下限的r_min和r_max。r_max一般直接取图像height和width中的较小值。r_min如果取0，那么有宽度的直线也会被检测成一长串的迷你圆；r_min取得太小，可能会把交点也检测成小圆。</li></ul></li></ul><h3 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h3><p>输入测试图片，主函数调用CircleDetection(Mat&amp; Image)即可。</p><ul><li>测试图像如下。</li></ul><img src="https://s2.loli.net/2024/11/10/tnT7CJQDNgLraUR.png"/><ul><li>霍夫变换并初步阈值(threshold&#x3D;10)过滤后，检测出的参数空间图像。</li></ul><img src="https://s2.loli.net/2024/11/10/PhSj2sOoIez7MfV.png"/><ul><li>二次深度阈值过滤(threshold&#x3D;300)后，检测出的圆参数空间图像。</li></ul><img src="https://s2.loli.net/2024/11/10/Ou8HU2AxKkST4bN.png"/><ul><li>反变换到直角坐标，原图上描绘出检测到的圆。</li></ul><img src="https://s2.loli.net/2024/11/10/B68dTPnk1OAIpMh.png"/><hr><h2 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span>  </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/core.hpp&gt;</span>     <span class="comment">// Basic OpenCV structures (cv::Mat)</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/videoio.hpp&gt;</span>  <span class="comment">// Video write</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/imgcodecs.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/imgproc.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/videoio.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/highgui.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;opencv2/video.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> cv;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> PI = <span class="number">3.14159265358979323846</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ToughTransform</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">LineDetection</span><span class="params">(Mat&amp; Image)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">CircleDetection</span><span class="params">(Mat&amp; Image)</span></span>;</span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">ShowParameterSpace</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; PS_AfterFilter, string file_name, <span class="type">int</span> thetaScale)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">DrawLineDetectedImage</span><span class="params">(Mat&amp; Image, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; PS_AfterFilter, <span class="type">int</span> row_max, <span class="type">int</span> theta_max , <span class="type">int</span> second_filter_threshold)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">ShowParameterSpace_Circle</span><span class="params">(vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt;&amp; PS_AfterFilter, string file_name, <span class="type">int</span> thetaScale)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">DrawCircleDetectedImage</span><span class="params">(Mat&amp; Image,vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt;&amp; PS_AfterFilter, <span class="type">int</span> max_a, <span class="type">int</span> max_b, <span class="type">int</span> max_r, <span class="type">int</span> second_filter_threshold)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">    ShowParameterSpace:</span></span><br><span class="line"><span class="comment">        描绘(row,theta)参数空间的图像。此时的参数矩阵PS_AfterFilter只经历了初步的阈值筛选。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::ShowParameterSpace</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; PS_AfterFilter, string file_name, <span class="type">int</span> thetaScale = <span class="number">15</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> rows = PS_AfterFilter.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> cols = PS_AfterFilter[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">    <span class="function">Mat <span class="title">houghSpaceImage</span><span class="params">(rows, cols, CV_8UC1, Scalar(<span class="number">0</span>))</span></span>;</span><br><span class="line">    <span class="type">int</span> maxVal = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; row : PS_AfterFilter) &#123;</span><br><span class="line">        maxVal = <span class="built_in">max</span>(maxVal, *<span class="built_in">max_element</span>(row.<span class="built_in">begin</span>(), row.<span class="built_in">end</span>()));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line">            houghSpaceImage.<span class="built_in">at</span>&lt;uchar&gt;(i, j) = <span class="built_in">static_cast</span>&lt;uchar&gt;(<span class="number">255.0</span> * PS_AfterFilter[i][j] / maxVal);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Mat enlargedHoughSpace;</span><br><span class="line">    <span class="built_in">resize</span>(houghSpaceImage, enlargedHoughSpace, <span class="built_in">Size</span>(cols * thetaScale, rows), <span class="number">0</span>, <span class="number">0</span>, INTER_LINEAR);</span><br><span class="line">    Mat colorHoughSpace;</span><br><span class="line">    <span class="built_in">applyColorMap</span>(enlargedHoughSpace, colorHoughSpace, COLORMAP_JET);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">namedWindow</span>(<span class="string">&quot;Enhanced Hough Space&quot;</span>, WINDOW_NORMAL);</span><br><span class="line">    <span class="built_in">imshow</span>(<span class="string">&quot;Enhanced Hough Space&quot;</span>, colorHoughSpace);</span><br><span class="line">    <span class="built_in">imwrite</span>(file_name, colorHoughSpace);</span><br><span class="line">    <span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    DrawDetectedImage: </span></span><br><span class="line"><span class="comment">        二次过滤参数空间(row,theta)矩阵，然后在原图image上描绘出直线。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::DrawLineDetectedImage</span><span class="params">(Mat&amp; Image, vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; PS_AfterFilter, <span class="type">int</span> row_max, <span class="type">int</span> theta_max = <span class="number">180</span>, <span class="type">int</span> second_filter_threshold = <span class="number">100</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//threshold-filter-second</span></span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">PS_FinalFilter</span>(<span class="number">2</span> * <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row_max)),</span><br><span class="line">                                       <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(theta_max, <span class="number">0</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; PS_AfterFilter.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; PS_AfterFilter[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(PS_AfterFilter[i][j] &gt;= second_filter_threshold)</span><br><span class="line">                PS_FinalFilter[i][j] = PS_AfterFilter[i][j];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                PS_FinalFilter[i][j] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">ShowParameterSpace</span>(PS_FinalFilter,<span class="string">&quot;source/line-result/EnhancedHoughSpaceImage-FinalFilter.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> rows = PS_FinalFilter.<span class="built_in">size</span>();</span><br><span class="line">    <span class="type">int</span> cols = PS_FinalFilter[<span class="number">0</span>].<span class="built_in">size</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> row = <span class="number">0</span>; row &lt; rows; row++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> theta = <span class="number">0</span>; theta &lt; cols; theta++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (PS_FinalFilter[row][theta] != <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">double</span> this_theta_rad = theta * PI / <span class="number">180.0</span>;  </span><br><span class="line">                <span class="type">double</span> this_row = row - row_max;</span><br><span class="line"></span><br><span class="line">                Point pt1, pt2;</span><br><span class="line">                <span class="type">double</span> a = <span class="built_in">cos</span>(this_theta_rad);</span><br><span class="line">                <span class="type">double</span> b = <span class="built_in">sin</span>(this_theta_rad);</span><br><span class="line">                <span class="type">double</span> x0 = a * this_row;</span><br><span class="line">                <span class="type">double</span> y0 = b * this_row;</span><br><span class="line">                pt<span class="number">1.</span>x = <span class="built_in">cvRound</span>(x0 + <span class="number">1000</span> * (-b));</span><br><span class="line">                pt<span class="number">1.</span>y = <span class="built_in">cvRound</span>(y0 + <span class="number">1000</span> * (a));</span><br><span class="line">                pt<span class="number">2.</span>x = <span class="built_in">cvRound</span>(x0 - <span class="number">1000</span> * (-b));</span><br><span class="line">                pt<span class="number">2.</span>y = <span class="built_in">cvRound</span>(y0 - <span class="number">1000</span> * (a));</span><br><span class="line"></span><br><span class="line">                <span class="built_in">line</span>(Image, pt1, pt2, <span class="built_in">Scalar</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>, LINE_AA);</span><br><span class="line">            &#125;    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">namedWindow</span>(<span class="string">&quot;Detected Lines&quot;</span>, WINDOW_NORMAL);</span><br><span class="line">    <span class="built_in">imshow</span>(<span class="string">&quot;Detected Lines&quot;</span>, Image);</span><br><span class="line">    <span class="built_in">imwrite</span>(<span class="string">&quot;source/line-result/DetectedLinesImage.png&quot;</span>, Image);</span><br><span class="line">    <span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    LineDetection: ShowParameterSpace + DrawLineDetectedImage</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::LineDetection</span><span class="params">(Mat&amp; Image)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> img_width = Image.<span class="built_in">size</span>().width;</span><br><span class="line">    <span class="type">int</span> img_height = Image.<span class="built_in">size</span>().height;</span><br><span class="line">    <span class="comment">//ParameterSpace[row][theta]</span></span><br><span class="line">    <span class="type">double</span> row_max = <span class="built_in">sqrt</span>(img_width * img_width + img_height * img_height);</span><br><span class="line">    <span class="type">int</span> theta_max = <span class="number">180</span>;   <span class="comment">//theta: step_length = 1</span></span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;  <span class="built_in">PatameterSpace</span>(<span class="number">2</span> * <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row_max)),</span><br><span class="line">                                        <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(theta_max, <span class="number">0</span>));</span><br><span class="line">    </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;ImageSize:&quot;</span> &lt;&lt; img_height &lt;&lt; <span class="string">&quot;*&quot;</span> &lt;&lt; img_width &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;PatameterSpace:&quot;</span> &lt;&lt; <span class="number">2</span>*row_max &lt;&lt; <span class="string">&quot;*&quot;</span> &lt;&lt; theta_max &lt;&lt; <span class="string">&quot; --&gt; &quot;</span> &lt;&lt; <span class="number">2</span> * <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row_max)) &lt;&lt; <span class="string">&quot;*&quot;</span> &lt;&lt; theta_max &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> y = <span class="number">0</span>; y &lt; img_height; y++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x = <span class="number">0</span>; x &lt; img_width; x++)&#123;</span><br><span class="line">            <span class="type">int</span> B = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> G = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> R = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">2</span>]; </span><br><span class="line">            <span class="keyword">if</span>(B == <span class="number">0</span> &amp;&amp; G == <span class="number">0</span> &amp;&amp; R == <span class="number">0</span>)&#123;   <span class="comment">//Edge is black-pixel</span></span><br><span class="line">                <span class="comment">//!!!look through theta, calc row than write into parameter-space!!!</span></span><br><span class="line">                <span class="comment">//遍历theta，计算row，存入参数空间</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> theta = <span class="number">0</span>; theta &lt;= theta_max; theta++)&#123;  </span><br><span class="line">                    <span class="type">double</span> theta_rad = theta * PI / <span class="number">180.0</span>;</span><br><span class="line">                    <span class="type">double</span> row = x * <span class="built_in">cos</span>(theta_rad) + y * <span class="built_in">sin</span>(theta_rad);</span><br><span class="line">                    <span class="comment">//row可能是负的,row_max作为偏移量. 将偏移量row_max加到row上，转为非负索引</span></span><br><span class="line">                    <span class="comment">//cout &lt;&lt; &quot;row = &quot; &lt;&lt; row &lt;&lt; &quot; ---&gt; &quot; &lt;&lt; row + row_max  &lt;&lt; &quot; ---&gt; &quot; &lt;&lt; ceil(row) + ceil(row_max) &lt;&lt; endl;</span></span><br><span class="line">                    PatameterSpace[<span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row) + <span class="built_in">ceil</span>(row_max))][theta]++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> threshold = <span class="number">10</span>;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;  <span class="built_in">PS_AfterFilter</span>(<span class="number">2</span> * <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row_max)),</span><br><span class="line">                                        <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(theta_max, <span class="number">0</span>));</span><br><span class="line">    <span class="comment">//threshold-filter</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; PatameterSpace.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; PatameterSpace[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(PatameterSpace[i][j] &gt;= threshold)</span><br><span class="line">                PS_AfterFilter[i][j] = PatameterSpace[i][j];</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                PS_AfterFilter[i][j] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">ShowParameterSpace</span>(PS_AfterFilter,<span class="string">&quot;source/line-result/EnhancedHoughSpaceImage-FirstFilter.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> second_filter_threshold = <span class="number">500</span>;</span><br><span class="line">    <span class="built_in">DrawLineDetectedImage</span>(Image,PS_AfterFilter,<span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">ceil</span>(row_max)),theta_max,second_filter_threshold);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::ShowParameterSpace_Circle</span><span class="params">(vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt;&amp; PS_AfterFilter, string file_name, <span class="type">int</span> thetaScale = <span class="number">1</span>)</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> height = PS_AfterFilter.<span class="built_in">size</span>();     <span class="comment">//row的范围</span></span><br><span class="line">    <span class="type">int</span> width = PS_AfterFilter[<span class="number">0</span>].<span class="built_in">size</span>();   <span class="comment">// theta的范围</span></span><br><span class="line">    <span class="type">int</span> num_r = PS_AfterFilter[<span class="number">0</span>][<span class="number">0</span>].<span class="built_in">size</span>(); <span class="comment">// 半径r的数量</span></span><br><span class="line">    <span class="function">Mat <span class="title">parameter_space_image</span><span class="params">(height, width, CV_8UC1, cv::Scalar(<span class="number">0</span>))</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> b = <span class="number">0</span>; b &lt; height; b++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> a = <span class="number">0</span>; a &lt; width; a++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> r = <span class="number">0</span>; r &lt; num_r; r++) &#123;</span><br><span class="line">                <span class="type">int</span> accumulator_value = PS_AfterFilter[b][a][r];</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// 将累积值映射到0-255的范围（可以根据实际情况调整比例）</span></span><br><span class="line">                <span class="type">int</span> intensity = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="number">255.0</span> * accumulator_value / <span class="number">255.0</span>); </span><br><span class="line">                parameter_space_image.<span class="built_in">at</span>&lt;uchar&gt;(b, a) = intensity;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Mat enlargedHoughSpace;</span><br><span class="line">    <span class="built_in">resize</span>(parameter_space_image, enlargedHoughSpace, <span class="built_in">Size</span>(width * thetaScale, height), <span class="number">0</span>, <span class="number">0</span>, INTER_LINEAR);</span><br><span class="line">    Mat colorHoughSpace;</span><br><span class="line">    <span class="built_in">applyColorMap</span>(enlargedHoughSpace, colorHoughSpace, COLORMAP_JET);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">namedWindow</span>(<span class="string">&quot;Detected Circles&quot;</span>, WINDOW_NORMAL);</span><br><span class="line">    <span class="built_in">imshow</span>(<span class="string">&quot;Detected Circles&quot;</span>, colorHoughSpace);</span><br><span class="line">    <span class="built_in">imwrite</span>(file_name, colorHoughSpace);</span><br><span class="line">    <span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::DrawCircleDetectedImage</span><span class="params">(Mat&amp; Image,vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt;&amp; PS_AfterFilter, <span class="type">int</span> max_a, <span class="type">int</span> max_b, <span class="type">int</span> max_r, <span class="type">int</span> second_filter_threshold)</span></span>&#123;</span><br><span class="line">    <span class="comment">//threshold-filter-second</span></span><br><span class="line">    vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt; <span class="built_in">PS_FinalFilter</span>(max_b,</span><br><span class="line">                                               vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;(max_a,</span><br><span class="line">                                               <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(max_r)</span><br><span class="line">                                               ));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; PS_AfterFilter.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; PS_AfterFilter[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; PS_AfterFilter[<span class="number">0</span>][<span class="number">0</span>].<span class="built_in">size</span>(); k++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(PS_AfterFilter[i][j][k] &gt;= second_filter_threshold)</span><br><span class="line">                    PS_FinalFilter[i][j][k] = PS_AfterFilter[i][j][k];</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    PS_FinalFilter[i][j][k] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">ShowParameterSpace_Circle</span>(PS_FinalFilter,<span class="string">&quot;source/circle-result/EnhancedHoughSpaceImage-FinalFilter.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; PS_FinalFilter.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; PS_FinalFilter[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; PS_FinalFilter[<span class="number">0</span>][<span class="number">0</span>].<span class="built_in">size</span>(); k++)&#123;</span><br><span class="line">                <span class="comment">//draw circle</span></span><br><span class="line">                <span class="keyword">if</span>(PS_FinalFilter[i][j][k] != <span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="function">Point <span class="title">center</span><span class="params">(j, i)</span></span>;</span><br><span class="line">                    <span class="built_in">circle</span>(Image, center, k, cv::<span class="built_in">Scalar</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>);  <span class="comment">//红色圆圈</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">namedWindow</span>(<span class="string">&quot;Detected Circles&quot;</span>, WINDOW_NORMAL);</span><br><span class="line">    <span class="built_in">imshow</span>(<span class="string">&quot;Detected Circles&quot;</span>, Image);</span><br><span class="line">    <span class="built_in">imwrite</span>(<span class="string">&quot;source/circle-result/DrawCircleDetectedImage.png&quot;</span>, Image);</span><br><span class="line">    <span class="built_in">waitKey</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    CircleDetection: ShowParameterSpace_Circle + DrawCircleDetectedImage</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToughTransform::CircleDetection</span><span class="params">(Mat&amp; Image)</span></span>&#123;</span><br><span class="line">    <span class="comment">//在霍夫变换中，我们通过三个参数来描述一个圆：圆心的坐标(a,b)和半径r.</span></span><br><span class="line">    <span class="type">int</span> img_width = Image.<span class="built_in">size</span>().width;</span><br><span class="line">    <span class="type">int</span> img_height = Image.<span class="built_in">size</span>().height;</span><br><span class="line">    <span class="comment">//ParameterSpace[b][a][r]   b---&gt;height---&gt;y | a---&gt;width---&gt;x</span></span><br><span class="line">    <span class="type">int</span> max_a = img_width;</span><br><span class="line">    <span class="type">int</span> max_b = img_height;</span><br><span class="line">    <span class="type">int</span> max_r = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="number">0.5</span>* <span class="built_in">min</span>(max_a,max_b));</span><br><span class="line">    vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt; <span class="built_in">ParameterSpace</span>(max_b,</span><br><span class="line">                                               vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;(max_a,</span><br><span class="line">                                               <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(max_r)</span><br><span class="line">                                               ));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> y = <span class="number">0</span>; y &lt; img_height; y++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> x = <span class="number">0</span>; x &lt; img_width; x++)&#123;</span><br><span class="line">            <span class="type">int</span> B = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> G = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> R = Image.<span class="built_in">at</span>&lt;Vec3b&gt;(y,x)[<span class="number">2</span>]; </span><br><span class="line">            <span class="keyword">if</span>(B == <span class="number">0</span> &amp;&amp; G == <span class="number">0</span> &amp;&amp; R == <span class="number">0</span>)&#123;   <span class="comment">//Edge is black-pixel</span></span><br><span class="line">                <span class="comment">//遍历r，计算row，存入参数空间: min_r = 20 --&gt; max_r</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> r = <span class="number">20</span>; r &lt;= max_r; r++)&#123;</span><br><span class="line">                    <span class="comment">//遍历每个r情况下的theta(一周)，计算a&amp;b，存入参数空间</span></span><br><span class="line">                    <span class="keyword">for</span>(<span class="type">int</span> theta = <span class="number">0</span>; theta &lt; <span class="number">360</span>; theta++)&#123;</span><br><span class="line">                        <span class="type">double</span> theta_rad = theta * PI / <span class="number">180.0</span>;</span><br><span class="line">                        <span class="type">int</span> a = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(x - r * <span class="built_in">cos</span>(theta_rad));</span><br><span class="line">                        <span class="type">int</span> b = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(y - r * <span class="built_in">sin</span>(theta_rad));</span><br><span class="line">                        <span class="keyword">if</span>(a &gt;= <span class="number">0</span> &amp;&amp; a &lt; max_a &amp;&amp; b &gt;= <span class="number">0</span> &amp;&amp; b &lt; max_b)&#123;</span><br><span class="line">                            ParameterSpace[b][a][r]++;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//threshold-filter</span></span><br><span class="line">    <span class="type">int</span> threshold = <span class="number">10</span>;</span><br><span class="line">    vector&lt;vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&gt; <span class="built_in">PS_AfterFilter</span>(max_b,</span><br><span class="line">                                               vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;(max_a,</span><br><span class="line">                                               <span class="built_in">vector</span>&lt;<span class="type">int</span>&gt;(max_r)</span><br><span class="line">                                               ));</span><br><span class="line">    <span class="comment">//threshold-filter</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; ParameterSpace.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; ParameterSpace[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; ParameterSpace[<span class="number">0</span>][<span class="number">0</span>].<span class="built_in">size</span>(); k++)&#123;</span><br><span class="line">                <span class="keyword">if</span>(ParameterSpace[i][j][k] &gt;= threshold)</span><br><span class="line">                    PS_AfterFilter[i][j][k] = ParameterSpace[i][j][k];</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    PS_AfterFilter[i][j][k] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">ShowParameterSpace_Circle</span>(PS_AfterFilter,<span class="string">&quot;source/circle-result/EnhancedHoughSpaceImage-FirstFilter.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> second_filter_threshold = <span class="number">300</span>;</span><br><span class="line">    <span class="built_in">DrawCircleDetectedImage</span>(Image,PS_AfterFilter,max_a,max_b,max_r,second_filter_threshold);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    ToughTransform handle;</span><br><span class="line">    <span class="comment">//Mat img = imread(&quot;source/line.png&quot;);</span></span><br><span class="line">    <span class="comment">//LineDetection(img);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Mat img2 = imread(&quot;source/testline_cross.png&quot;);</span></span><br><span class="line">    <span class="comment">//LineDetection(img2);</span></span><br><span class="line"></span><br><span class="line">    Mat img3 = <span class="built_in">imread</span>(<span class="string">&quot;source/line_circle.png&quot;</span>);</span><br><span class="line">    <span class="comment">//handle.LineDetection(img3);</span></span><br><span class="line">    handle.<span class="built_in">CircleDetection</span>(img3);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> LAB EXERCISE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
            <tag> Tough-Transform </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>寄存器堆(RegisterFile)的设计和仿真验证</title>
      <link href="/2024/11/03/RegisterFile/"/>
      <url>/2024/11/03/RegisterFile/</url>
      
        <content type="html"><![CDATA[<h2 id="RF4x8模块硬件描述"><a href="#RF4x8模块硬件描述" class="headerlink" title="RF4x8模块硬件描述"></a>RF4x8模块硬件描述</h2><p>基本功能描述：</p><ul><li>读写全双工。<strong>写入数据</strong>需要①拉高一位使能信号en_wr并②给定地址Addr_wr和③数据Data_wr；<strong>读取数据</strong>需要给定地址Addr_rd_X，并支持两路读取(X&#x3D;A&#x2F;B)。</li><li>数据位宽：8bit；地址位宽：4bit，地址总数2^4&#x3D;16个。即<strong>本RF4x8中可以存放16个8bit数据</strong>。</li><li>时序：clk上升沿检测钟控；rst下降沿检测，异步复位。</li></ul><img src="https://s2.loli.net/2024/11/03/9FjlhLSgbz2spkI.jpg" width="400" height="800"><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">module</span> RF4x8 #( <span class="keyword">parameter</span></span><br><span class="line">    DATA_WIDTH = <span class="number">8</span>,</span><br><span class="line">    ADDR_WIDTH = <span class="number">4</span></span><br><span class="line">)(</span><br><span class="line">    <span class="keyword">input</span>   <span class="keyword">wire</span>    clk,</span><br><span class="line">    <span class="keyword">input</span>   <span class="keyword">wire</span>    rst,</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">input</span>   <span class="keyword">wire</span>    en_wr,</span><br><span class="line">    <span class="keyword">input</span>   <span class="keyword">wire</span>[DATA_WIDTH-<span class="number">1</span>:<span class="number">0</span>]   Data_wr,    <span class="comment">//写数据：位宽为8bit</span></span><br><span class="line">    <span class="keyword">input</span>   <span class="keyword">wire</span>[ADDR_WIDTH-<span class="number">1</span>:<span class="number">0</span>]   Addr_wr,    <span class="comment">//写地址：地址位宽为4bit,因此总地址数量为2^4 = 16</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">input</span>   <span class="keyword">wire</span>[ADDR_WIDTH-<span class="number">1</span>:<span class="number">0</span>]   Addr_rd_A,  <span class="comment">//读地址A</span></span><br><span class="line">    <span class="keyword">input</span>   <span class="keyword">wire</span>[ADDR_WIDTH-<span class="number">1</span>:<span class="number">0</span>]   Addr_rd_B,  <span class="comment">//读地址B</span></span><br><span class="line">    <span class="keyword">output</span>  <span class="keyword">reg</span>[DATA_WIDTH-<span class="number">1</span>:<span class="number">0</span>]    Data_rd_A,</span><br><span class="line">    <span class="keyword">output</span>  <span class="keyword">reg</span>[DATA_WIDTH-<span class="number">1</span>:<span class="number">0</span>]    Data_rd_B</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">reg</span>[<span class="number">2</span>**ADDR_WIDTH-<span class="number">1</span>:<span class="number">0</span>]  addr;</span><br><span class="line"><span class="keyword">reg</span>[DATA_WIDTH-<span class="number">1</span>:<span class="number">0</span>]  data[<span class="number">0</span>:<span class="number">2</span>**ADDR_WIDTH-<span class="number">1</span>];   <span class="comment">//[7:0] data[0:15] -&gt; 16个地址，每个地址下存储一个8bit数据</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//reset:清空数据</span></span><br><span class="line"><span class="keyword">integer</span> i;</span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">if</span>(!rst)    <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">2</span>**ADDR_WIDTH; i=i+<span class="number">1</span>)    data[i] &lt;= <span class="number">8&#x27;b0000_0000</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//写数据</span></span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">if</span>(en_wr)           <span class="comment">//写使能en_wr==1&#x27;b1  </span></span><br><span class="line">        data[Addr_wr] &lt;= Data_wr;</span><br><span class="line">    <span class="keyword">else</span>    </span><br><span class="line">        data[Addr_wr] &lt;= data[Addr_wr];</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//读数据</span></span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    Data_rd_A &lt;= data[Addr_rd_A];   <span class="comment">//A通道</span></span><br><span class="line">    Data_rd_B &lt;= data[Addr_rd_B];   <span class="comment">//B通道</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><hr><h2 id="RF4x8仿真分析"><a href="#RF4x8仿真分析" class="headerlink" title="RF4x8仿真分析"></a>RF4x8仿真分析</h2><h3 id="仿真模块RF4x8-tb"><a href="#仿真模块RF4x8-tb" class="headerlink" title="仿真模块RF4x8_tb"></a>仿真模块RF4x8_tb</h3><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">`<span class="keyword">timescale</span> 1ns / 10ps</span></span><br><span class="line"><span class="keyword">module</span> RF4x8_tb();</span><br><span class="line"></span><br><span class="line"><span class="keyword">parameter</span> DATA_WIDTH = <span class="number">8</span>;</span><br><span class="line"><span class="keyword">parameter</span> ADDR_WIDTH = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">reg</span> clk,rst;</span><br><span class="line"><span class="keyword">reg</span> en_wr;</span><br><span class="line"><span class="keyword">reg</span>[DATA_WIDTH-<span class="number">1</span>:<span class="number">0</span>] Data_wr;</span><br><span class="line"><span class="keyword">reg</span>[ADDR_WIDTH-<span class="number">1</span>:<span class="number">0</span>] Addr_wr;</span><br><span class="line"><span class="keyword">reg</span>[ADDR_WIDTH-<span class="number">1</span>:<span class="number">0</span>] Addr_rd_A,Addr_rd_B;</span><br><span class="line"><span class="keyword">wire</span>[DATA_WIDTH-<span class="number">1</span>:<span class="number">0</span>] Data_rd_A,Data_rd_B;</span><br><span class="line"></span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    clk &lt;= <span class="number">1&#x27;b0</span>;</span><br><span class="line">    rst &lt;= <span class="number">1&#x27;b1</span>;</span><br><span class="line">    en_wr &lt;= <span class="number">1&#x27;b0</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">always</span> #<span class="number">10</span>  clk &lt;= ~clk;</span><br><span class="line"></span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    <span class="built_in">$monitor</span>(<span class="string">&quot;%t Data_rd_A=%b Data_rd_B=%b&quot;</span>,<span class="built_in">$time</span>,Data_rd_A,Data_rd_B);</span><br><span class="line">    #<span class="number">10</span> rst &lt;= <span class="number">1&#x27;b0</span>;</span><br><span class="line">    #<span class="number">10</span> rst &lt;= <span class="number">1&#x27;b1</span>;</span><br><span class="line">    <span class="comment">//测试写入</span></span><br><span class="line">    #<span class="number">20</span> en_wr &lt;= <span class="number">1&#x27;b1</span>;  Addr_wr &lt;= <span class="number">4&#x27;b0000</span>;  Data_wr &lt;= <span class="number">8&#x27;b1001_0011</span>;</span><br><span class="line">    #<span class="number">20</span> en_wr &lt;= <span class="number">1&#x27;b1</span>;  Addr_wr &lt;= <span class="number">4&#x27;b0001</span>;  Data_wr &lt;= <span class="number">8&#x27;b1111_0000</span>;</span><br><span class="line">    #<span class="number">20</span> en_wr &lt;= <span class="number">1&#x27;b1</span>;  Addr_wr &lt;= <span class="number">4&#x27;b1100</span>;  Data_wr &lt;= <span class="number">8&#x27;b0000_1011</span>;</span><br><span class="line">    #<span class="number">20</span> en_wr &lt;= <span class="number">1&#x27;b1</span>;  Addr_wr &lt;= <span class="number">4&#x27;b1111</span>;  Data_wr &lt;= <span class="number">8&#x27;b0100_1111</span>;</span><br><span class="line">    <span class="comment">//测试读取</span></span><br><span class="line">    en_wr &lt;= <span class="number">1&#x27;b0</span>;</span><br><span class="line">    #<span class="number">20</span> Addr_rd_A &lt;= <span class="number">4&#x27;b0000</span>;   Addr_rd_B &lt;= <span class="number">4&#x27;b0000</span>;</span><br><span class="line">    #<span class="number">20</span> Addr_rd_A &lt;= <span class="number">4&#x27;b0000</span>;   Addr_rd_B &lt;= <span class="number">4&#x27;b0001</span>;</span><br><span class="line">    #<span class="number">20</span> Addr_rd_A &lt;= <span class="number">4&#x27;b1111</span>;   Addr_rd_B &lt;= <span class="number">4&#x27;b1100</span>;</span><br><span class="line">    <span class="comment">//测试读写双全工</span></span><br><span class="line">    #<span class="number">20</span> en_wr &lt;= <span class="number">1&#x27;b1</span>;  Addr_wr &lt;= <span class="number">4&#x27;b0101</span>;  Data_wr &lt;= <span class="number">8&#x27;b1111_1111</span>;</span><br><span class="line">    #<span class="number">20</span> Addr_rd_A &lt;= <span class="number">4&#x27;b0101</span>;   Addr_rd_B &lt;= <span class="number">4&#x27;b0101</span>;</span><br><span class="line">    #<span class="number">50</span></span><br><span class="line">    <span class="comment">//测试复位</span></span><br><span class="line">    #<span class="number">10</span> rst &lt;= <span class="number">1&#x27;b0</span>;    en_wr &lt;= <span class="number">1&#x27;b0</span>;  Addr_wr &lt;= <span class="number">4&#x27;bx</span>;  Data_wr &lt;= <span class="number">8&#x27;bx</span>;</span><br><span class="line">    #<span class="number">10</span> rst &lt;= <span class="number">1&#x27;b1</span>;</span><br><span class="line">    #<span class="number">20</span> Addr_rd_A &lt;= <span class="number">4&#x27;b0101</span>;   Addr_rd_B &lt;= <span class="number">4&#x27;b0101</span>;</span><br><span class="line">    #<span class="number">20</span></span><br><span class="line">    <span class="built_in">$finish</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">RF4x8 RF4x8_for_simultion(</span><br><span class="line">    <span class="variable">.clk</span>(clk),</span><br><span class="line">    <span class="variable">.rst</span>(rst),</span><br><span class="line">    </span><br><span class="line">    <span class="variable">.en_wr</span>(en_wr),</span><br><span class="line">    <span class="variable">.Data_wr</span>(Data_wr),  </span><br><span class="line">    <span class="variable">.Addr_wr</span>(Addr_wr),  </span><br><span class="line">          </span><br><span class="line">    <span class="variable">.Addr_rd_A</span>(Addr_rd_A),</span><br><span class="line">    <span class="variable">.Addr_rd_B</span>(Addr_rd_B),</span><br><span class="line">    <span class="variable">.Data_rd_A</span>(Data_rd_A),</span><br><span class="line">    <span class="variable">.Data_rd_B</span>(Data_rd_B) </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></table></figure><h3 id="仿真结果时序分析"><a href="#仿真结果时序分析" class="headerlink" title="仿真结果时序分析"></a>仿真结果时序分析</h3><ul><li><strong>40ns,60ns,80ns,100ns时写数据：</strong>拉高写使能信号en_wr,分别向地址0000,0001,1100和1111写入数据10010011,11110000,00001011和01001111。写地址和写数据信号分别在50ns,70ns,90ns和110ns时刻的clk上升沿被捕捉到。</li><li><strong>120ns时读数据：</strong>给出A&#x2F;B端口读数据地址0000和0000,并在130ns的clk上升沿被捕捉(图1中粉色虚线所在位置),Data_rd_A&#x2F;Data_rd_B分别读取到地址0000处的数据10010011。</li><li><strong>130ns时读数据：</strong>改变B端口读地址为0001,在140ns的clk上升沿被捕捉,Data_rd_B读取到地址0001处的数据11110000。</li><li><strong>260ns时发生复位：</strong>rst被拉低(图2中黄色实线所在位置)，此时再读地址0101的数据，发现被重置为00000000。</li></ul><img src="https://s2.loli.net/2024/11/03/qA7xGedVZCSsin6.jpg"><img src="https://s2.loli.net/2024/11/03/R4EmpAqacloZKdJ.jpg"><p><strong>注</strong>：</p><ul><li>本测试例中，读地址给出后需要等待半个时钟周期才能读出数据，这是因为读地址信号刚好和clk错开(读地址信号给出时正好是clk下降沿)，需要等待clk到达上升沿才能捕捉到读地址信号。如果读写信号再延时半个时钟周期，那么不会出现这样的情况。</li><li>关于写使能信号en_wr：虽然支持读写双工，但在<strong>读数据时最好要把en_wr拉低</strong>。否则当RF与其他模块级联时，可能会导致RF在被读的同时被写入不正确的数据，这在后面的RF_ALU级联测试中会提到。</li></ul>]]></content>
      
      
      <categories>
          
          <category> Course Assignment </category>
          
          <category> System LSI Design </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Verilog </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>有关日语中「と」和「という」文法的一些理解</title>
      <link href="/2024/10/28/hinongo01/"/>
      <url>/2024/10/28/hinongo01/</url>
      
        <content type="html"><![CDATA[<h2 id="日本人说话时句末的「と」是什么意思？"><a href="#日本人说话时句末的「と」是什么意思？" class="headerlink" title="日本人说话时句末的「と」是什么意思？"></a>日本人说话时句末的「と」是什么意思？</h2><p>这个问题是我在做JLPT-N2的完形填空时发现的，当时文章中有这么一句话：</p><blockquote><p>時には、「陰口」が聞こえてくるかもしれない。「彼は、わがままだよな」「あいつはいつも定時だね」など<strong>と</strong>。</p></blockquote><p>当时我就很不理解这个「など」后面的「と」是什么意思，导致整段理解吃力。后来我去问了实验室里一个日本语上手的学长，才明白了这个用法的实际含义。</p><p><strong>「と」放在句末：转述别人说的话，或者是引用别人说的话。可以理解成「と言います」的省略。</strong> </p><p>在N4语法中有这么一条，叫 <strong>「と言います」表示“传闻，听说…”。</strong> 而省略后的「と」<strong>更多地用在转述他人说的话的场合上</strong>。因此，「と言います」与句尾的「と」的含义还是有细微的区别，但可以连携记忆。下面举一个「と言います」表示“传闻，听说…”的例文，同样也是出现在N2考题中的：</p><blockquote><p>　最近はインタネットを通じて知り合った人と結婚することも多い<strong>という</strong>。<br> （翻译）<br>  (听说)进来通过网络认识并结婚的人也很多。</p></blockquote><p>理解了这一点，我们就知道了文章中这句话的意思：</p><blockquote><p>時には、「陰口」が聞こえてくるかもしれない。「彼は、わがままだよな」「あいつはいつも定時だね」など<strong>と</strong>。<br>很多时候，我们可能会听到别人在暗地里的议论之词，“他这个人可真是任性啊”“那个家伙每次可都准时(下班)呢”种种。</p></blockquote><p>因为「彼は、わがままだよな」「あいつはいつも定時だね」这两句话是从别人口中说出的，文章引用他们的话，所以最后加了个「と」，表示“别人说……”</p><p>我们可以再举几个简单的情景对话例子，来理解这个句末的「と」。</p><ul><li><p>由于上周太浪的缘故，导致你的科研毫无进展，这周组会上被教授严厉地批评了一通。组会结束后，你的同学和你交谈了起来：</p><blockquote><p>　ー　なんでそんなに元気がない様子？<br>　ー　だって、先生が「来週頑張らなければ学校辞めろう！」<strong>と</strong>。<br>（翻译）<br> —— 为什么看起来这么没精神？<br> —— 因为老师说“下周再不努力的话就退学吧！”</p></blockquote></li><li><p>你有个好哥们暗恋一个女生，想送她生日礼物，但是他太怂了不敢问她喜欢什么东西，因此拜托你去打听一下。打听结束后，你们在交谈：</p><blockquote><p>　ー　何が情報があるんだか？<br>　ー　「可愛いウサギのバックが好きだ」<strong>と</strong>。<br>(翻译)<br> —— 得到什么情报没有？<br> —— 她说她喜欢可爱兔兔的包包。</p></blockquote></li><li><p>在原神的角色PV：纳西妲「生日快乐」中，纳西妲念的诗歌也用到了这个「と」：</p><blockquote><p>花車が揺らぎ、ナヒーダは目を開ける。そして言う、夢を見ていた<strong>と</strong>。ナヒーダの誕生日は今日なのだ<strong>と</strong>。<br>(翻译)<br>花车摇呀摇，纳西妲睁开眼。她说：刚刚做了梦，梦见纳西妲的生日就是今天。</p></blockquote></li></ul><iframe     src="//player.bilibili.com/player.html?isOutside=true&aid=774457097&bvid=BV1e14y157yY&cid=1052688695&p=1"     width="900"     height="550"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     allowfullscreen="true"></iframe><p>这个文法(或许也不能称之为文法)大概率是不会出现在语法书上的，但是在日本人<strong>日常的对话中非常常见</strong>，来日本的这一个多月里也时常会听到身边的日本人说。</p><hr><h2 id="日本人的口癖：「というふうに」・「という感じで」"><a href="#日本人的口癖：「というふうに」・「という感じで」" class="headerlink" title="日本人的口癖：「というふうに」・「という感じで」"></a>日本人的口癖：「というふうに」・「という感じで」</h2><p>这几周每周三晚上我都会有一节Digital Circuit的课，我发现教授在上课时经常会说这样几个短语：</p><blockquote><p>（哔哩吧啦解释一大堆专业性概念后）…というふうになって…<br>（哔哩吧啦解释一大堆专业性概念后）…という感じで…</p></blockquote><p>于是我就去搜索了一下「というふうに」的意思，发现它是很多很多日本人说话时都会有的口癖。</p><p>首先，「ふう」的汉字是「風」，在字典里有解释是“样子；方法”。因此,<strong>「というふうに」就可以解释成 “就像说的这个样子一样…”，“就像这样…” 。</strong></p><p>其次，在文法层面 <strong>「ふうに」＝「ように」</strong>，「感じで」也有类似的感觉。因此可以用几个最常用的句型来记忆它。</p><blockquote><p>　こんな<strong>ふうに</strong>やってみます！<br>　こんな<strong>感じで</strong>やってみます！<br>　この<strong>ように</strong>やってみます！<br>   (翻译)<br>   就这样做做看吧！</p></blockquote><p>另外，「というふうに」虽然是口癖，给人一种非常口语化、不正式的感觉，但其实现在很多正式的场合也会用到「というふうに」。可能是语言也在慢慢地演化吧。</p><img src="https://s2.loli.net/2024/10/28/9WMIRrgQTlamADq.png" style="zoom:65%;" /><p>下面这个视频可以很好地进行解释： </p><iframe     src="//player.bilibili.com/player.html?isOutside=true&aid=113334019951909&bvid=BV1DDCdYtEL1&cid=26365005117&p=1"     width="900"     height="550"     scrolling="no"     border="0"     frameborder="no"     framespacing="0"     allowfullscreen="true"></iframe><hr><h2 id="「という」视作前置定语的引导词：概述前面，修饰后面"><a href="#「という」视作前置定语的引导词：概述前面，修饰后面" class="headerlink" title="「という」视作前置定语的引导词：概述前面，修饰后面"></a>「という」视作前置定语的引导词：概述前面，修饰后面</h2><p>在前两节，我们提到了由「といいます」简化而成的口语「と」，也总结了日本人的口癖用法「というふうに」。但他们归根结底的词根用法是「という」。研究过N2&#x2F;N1语法书的人都知道，由「という」引申出去的文法实在是多的可怕，比如「というより…」「~ということ」。这些复杂且需要额外区分的复杂文法总结，放在了这一节的最后部分。在这一节的主体部分，我只想讨论「という」最基础的含义。</p><p>「いう」写作汉字是「言う」，意思是“说”，只要是学过日语的人都知道。因此，不难理解 <strong>「という」的本意就是「叫做…」「称作…」。</strong> </p><p>与「という」组合而成的文法看似纷繁复杂，其实只要抓住一点就不难理解了，以下面这个句子为例：</p><blockquote><p>勝つのは難しいかもしれないが、まったく可能性がない<strong>というわけでもない</strong>。</p></blockquote><p>此处的「という」很显然是<strong>对前面「勝つ可能性がない」这个事情&#x2F;观点的总结，然后修饰后面的「わけ」</strong>。“没有赢的可能性”这样的“情况”，也并非如此。人话就是虽然难赢但还是可能赢的。当然，把「～というわけでもない」当做一个固定短语“并不是说…”记忆也可以，但重要的是要理解语法现象。</p><p><strong>「という」概述前面，修饰后面的名词。从前面的描述&#x2F;观点一直到「という」为止，都可以试做后面名词的前置定语。我们可以这样认为：「という」是一种前置定语的引导词。</strong> 从这一观点出发，再去思考上一节的「というふうに」，发现也是如此。类似的还可以举出很多例句：</p><blockquote><p>私の趣味は旅行<strong>ということ</strong>です。<br>彼が言ったことを信じるのは難しいが、それが真実だ<strong>という可能性</strong>もある<br>彼女が新しいプロジェクトのリーダーになる<strong>という話</strong>を聞いたが、具体的な詳細はまだ不明だ。</p></blockquote><hr><h2 id="「という」在口语中省略为「って」"><a href="#「という」在口语中省略为「って」" class="headerlink" title="「という」在口语中省略为「って」"></a>「という」在口语中省略为「って」</h2><p>另外，<strong>「という」在口语里常常会省略成「って」</strong>,这里的「という」则是「と言います」<strong>表示“传闻，听说…”。</strong>这是一个N4的语法，再此稍作复习，不做具体展开讨论。</p><blockquote><p>彼女は先月結婚した<strong>って</strong>知ってるか？  &#x2F;  彼女は先月結婚した<strong>という</strong>。<br>彼は本当にすごい人だ<strong>って</strong>。   &#x2F;  彼は本当にすごい人だ<strong>という</strong>。</p></blockquote><blockquote><p>私は字がきれいです<strong>って</strong>。きれいなもんですか。<br><strong>你说</strong>我的字写的好看？哪儿好看了。</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 日本語 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日本語 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VOCALOID调教之十二大参数</title>
      <link href="/2024/10/27/VOCALOID%E8%B0%83%E6%95%99%E4%B9%8B%E5%8D%81%E4%BA%8C%E5%A4%A7%E5%8F%82%E6%95%B0/"/>
      <url>/2024/10/27/VOCALOID%E8%B0%83%E6%95%99%E4%B9%8B%E5%8D%81%E4%BA%8C%E5%A4%A7%E5%8F%82%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="VOCALOID调教之十二大参数"><a href="#VOCALOID调教之十二大参数" class="headerlink" title="VOCALOID调教之十二大参数"></a>VOCALOID调教之十二大参数</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>​在钢琴窗口之下的调参区，左侧点击Edit，可以切换选择待调整的参数。</p><img src="https://s2.loli.net/2024/10/28/W3dYeKOXfVbmvth.png" style="zoom:50%;" /><h2 id="VEL：速度"><a href="#VEL：速度" class="headerlink" title="VEL：速度"></a>VEL：速度</h2><p>​VEL参数主要<strong>调整“辅音长度”，即咬字的清晰度</strong>。辅音往往先于整个字的音所在节拍而发出的。换句话讲，任何一个字在歌唱时，辅音先发声，并且辅音的发声要略早于整个音符的起点。</p><ul><li>VEL调高：咬字比较轻，基本听不到辅音的发声。</li><li>VEL调低：咬字很重，用于强调本音。</li></ul><p>​全曲的VEL参数建议<strong>错落有致地进行设置</strong>，最好不要连续地将VEL拉高或者拉低。如果VEL连续地拉高，那么这一段的每个字都听上去轻飘飘的，连续的咬字不清也会带来听不懂的问题；如果VEL连续地拉低，听上去像是一个字一个字顿着发出的声音，MIKU或者洛天依像是在咬牙切齿地唱。如果不是为了风格有意而为之，建议不要这样。</p><h2 id="DYN：动态"><a href="#DYN：动态" class="headerlink" title="DYN：动态"></a>DYN：动态</h2><p>​DYN参数最直观的影响是<strong>音符的响度</strong>，调教初期可以不调整这个参数。刻意地进行DYN的调整，某些歌姬可能会出现非常不好的效果。比如可能造成歌姬人声的响度忽高忽低，时而盖过伴奏时而又被伴奏淹没。这样听上去就非常的难受了。</p><p>​有时通过DYN的调整，也可以实现个人独特的风格。但难度较大。</p><h2 id="BRE：呼吸度"><a href="#BRE：呼吸度" class="headerlink" title="BRE：呼吸度"></a>BRE：呼吸度</h2><p>​BRE参数调整<strong>音色的“粗糙程度”</strong>。默认值为0。</p><ul><li>BRE调高：声音变得干涩，沙哑。</li><li>BRE调低：声音变得明亮一些。</li></ul><p>​一般而言，要求全段BRE保持一致。</p><h2 id="BRI：明亮度"><a href="#BRI：明亮度" class="headerlink" title="BRI：明亮度"></a>BRI：明亮度</h2><p>​BRI参数调整声音的<strong>“明亮度”</strong>。声音明暗的变化可以<strong>调整歌姬演唱情绪的起伏</strong>，要经常进行调教。</p><ul><li>BRI调高：声音变得明亮，像是张大嘴巴放声歌唱。</li><li>BRI调低：声音变得低沉，像是压在喉咙里放不开的声音。</li></ul><p>​在调整BRI时，一个音的响度和频率都发生了较大的变化。具体而言，声音调整的越明亮，频谱整体就会向高频偏移；反之亦然。另外，BRI的调整基本不会影响辅音，但是BRI太低可能会导致齿音较重的问题（尤其是洛天依）。</p><h2 id="CLE：清晰度"><a href="#CLE：清晰度" class="headerlink" title="CLE：清晰度"></a>CLE：清晰度</h2><p>​CLE调高后，声音会变得锋利。基本不作调整。</p><h2 id="OPE：开口度"><a href="#OPE：开口度" class="headerlink" title="OPE：开口度"></a>OPE：开口度</h2><p>​OPE默认拉满，只能向下降低调整。但是如果将一整个音的开口度都设置小，运用于某些长音就不适合，歌姬就像是含着东西在发声一样，听起来很奇怪。如果想要调整全曲歌姬演唱的口型，单纯设置OPE不能解决问题，只能拆音。</p><h2 id="GEN：性别值"><a href="#GEN：性别值" class="headerlink" title="GEN：性别值"></a>GEN：性别值</h2><p>​调整歌姬音色的共振峰，让声音<strong>更偏向于男声或者女声</strong>。这个参数通常全段一致处理，不对每个字进行单修。</p><ul><li>GEN调高：声音变粗，更像男声。但是鼻音增大，声音会变软一些。</li><li>GEN降低：声音变细，更像女声。</li></ul><h2 id="POR：滑音时间"><a href="#POR：滑音时间" class="headerlink" title="POR：滑音时间"></a>POR：滑音时间</h2><p>​在音符与音符之间的衔接处，会有衔接的滑音。比如从C3-do升高到mi，歌姬的音调并不是阶跃式的抬升，而是平滑地向上增加。调整POR前可以先开启“音高渲染”，将音高线显示在音符上，会更加直观。</p><img src="https://s2.loli.net/2024/10/28/9wcrpn1agUEP4hB.png" style="zoom:50%;" /><ul><li>POR调高：前一个音符会更慢地划向后一个。</li><li>POR调低：前一个音符会更快地划向后一个。</li></ul><p>​POR一般不需要大动，个别字精修就行了，整体调整会导致歌姬发声的不自然。</p><h2 id="XSY：交叉演奏参数"><a href="#XSY：交叉演奏参数" class="headerlink" title="XSY：交叉演奏参数"></a>XSY：交叉演奏参数</h2><p>​XSY参数用于混合两个歌姬的声线，其常规用法是<strong>混合同一个歌姬的不同声线</strong>。比如，用不同比例混合洛天依的meng和ning的音色。XSY主要用于解决一个歌姬的<strong>音域</strong>问题，比如洛天依可以在高音部分混合一些乐正绫进行改善。</p><p>​调整前首先需要设置“第二歌手”：【设置】–【当前歌手属性(A)】–【双击当前歌手】–【第二歌手】</p><img src="https://s2.loli.net/2024/10/28/jUJFMZL5iWytNI7.png" style="zoom:50%;" /><ul><li>XSY越大：第二歌手的影响就更大。</li></ul><p>​一个歌姬的第二歌手由官方给定并限制，如果我们想要混合其他同语种的歌姬，可以在V4编辑器的声库管理工具Vocaloid Voice Management中进行解锁。另外，这是V4编辑器特有的功能，在V5和V6编辑器中反而删除了这个功能。</p><h2 id="GWL：咆哮声"><a href="#GWL：咆哮声" class="headerlink" title="GWL：咆哮声"></a>GWL：咆哮声</h2><h2 id="PIT：滑音"><a href="#PIT：滑音" class="headerlink" title="PIT：滑音"></a>PIT：滑音</h2><p>​PIT参数用于<strong>调整“音高”</strong>，是最重要的参数。其直观效果是：</p><ul><li>从中线向下拉低一半：降低一个半音。</li><li>从中线向下拉低到底：降低两个半音。</li></ul><p>​PIT的调教是VOCALOID调教的核心，也是一个调教师水平和风格的最直观体现。PIT的变化对歌曲的情绪等方面都有着很大的影响。其它参数多如牛毛的微调，有时可能还没有PIT的一笔来得有效果。PIT还可以控制转音和颤音。</p><p>​另外，PIT的功能很强大，比如我们可以用PIT手绘颤音：</p><img src="https://s2.loli.net/2024/10/28/hUp6St9TmlMuBg8.png" style="zoom:50%;" />]]></content>
      
      
      <categories>
          
          <category> VOCALOID </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vocaloid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CPP实现蚁群算法(ACO)并解决TSP问题</title>
      <link href="/2024/10/22/TSP-CPP/"/>
      <url>/2024/10/22/TSP-CPP/</url>
      
        <content type="html"><![CDATA[<h2 id="问题简述"><a href="#问题简述" class="headerlink" title="问题简述"></a>问题简述</h2><p>Given a set of n nodes and distances for each pair of nodes, find aroundtrip of minimal total length visiting each node exactly once. The distance from node i to node j is the same as from node j to node i.</p><p>Berlin52 – 52 locations in Berlin (Germany)</p><h2 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Super-Parameters</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> ITERATION_TIMES = <span class="number">200</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> ANT_NUMBER = <span class="number">100</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> CITY_NUMBER = <span class="number">50</span>;    <span class="comment">//DataSet: Berin52</span></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> ALPHA = <span class="number">2.0</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> BETA = <span class="number">1.0</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">double</span> ROW = <span class="number">0.4</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">double</span> information_init = <span class="number">1.14</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> vector&lt;vector&lt;<span class="type">double</span>&gt;&gt;  Matrix;   </span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Ant</span></span><br><span class="line">&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; route;           <span class="comment">//(目前为止)路径</span></span><br><span class="line">    <span class="type">double</span>  TotalRouteLength;    <span class="comment">//(目前为止)路径的总长度</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TSP</span>&#123;</span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">TSP</span>(Matrix DistancesMatrix) : <span class="built_in">DistancesMatrix</span>(DistancesMatrix)&#123;</span><br><span class="line">            city_number = DistancesMatrix.<span class="built_in">size</span>();   <span class="comment">//城市数量：通过距离矩阵获取</span></span><br><span class="line">            InformationMatrix = <span class="built_in">Matrix</span>(city_number,<span class="built_in">vector</span>&lt;<span class="type">double</span>&gt;(city_number,information_init));   <span class="comment">//初始化信息素矩阵</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">solve</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="comment">//获取最佳情况</span></span><br><span class="line">        <span class="function"><span class="type">double</span> <span class="title">GetBestRouteLength</span><span class="params">()</span></span>;</span><br><span class="line">        <span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">GetBestRoute</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>:</span><br><span class="line">        <span class="comment">//存储最佳情况</span></span><br><span class="line">        <span class="type">double</span> BestRouteLength = numeric_limits&lt;<span class="type">double</span>&gt;::<span class="built_in">max</span>();    <span class="comment">//初始值需要赋予一个很大的值</span></span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; BestRoute;</span><br><span class="line">        <span class="comment">//一般参数</span></span><br><span class="line">        <span class="type">int</span> city_number;</span><br><span class="line">        <span class="comment">//距离矩阵，信息素矩阵</span></span><br><span class="line">        Matrix DistancesMatrix;</span><br><span class="line">        Matrix InformationMatrix;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//三个核心方法</span></span><br><span class="line">        <span class="function"><span class="type">int</span> <span class="title">Select_NextCity</span><span class="params">(Ant&amp; this_ant)</span></span>;           <span class="comment">//传入Ant结构体的一个对象</span></span><br><span class="line">        <span class="function"><span class="type">double</span> <span class="title">Calculate_TotalLength</span><span class="params">(Ant&amp; this_ant)</span></span>;</span><br><span class="line">        <span class="function"><span class="type">void</span> <span class="title">Update_Information</span><span class="params">(vector&lt;Ant&gt;&amp; ants)</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    TSP的主要算法流程---------------------------------</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TSP::solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> iter=<span class="number">0</span>; iter&lt;ITERATION_TIMES; iter++)&#123;</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;------第&quot;</span> &lt;&lt; iter<span class="number">+1</span> &lt;&lt; <span class="string">&quot;次算法迭代&quot;</span> &lt;&lt; <span class="string">&quot;------&quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="function">vector&lt;Ant&gt; <span class="title">ants</span><span class="params">(ANT_NUMBER)</span></span>;       <span class="comment">//####创建存放Ant结构体变量的数组，开辟的空间数量为ANT_NUMBER</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; ANT_NUMBER; i++)&#123;        <span class="comment">//第i只蚂蚁</span></span><br><span class="line">            ants[i].route.<span class="built_in">push_back</span>(<span class="built_in">rand</span>() % city_number);   <span class="comment">//Step1:初始化蚂蚁所在节点（随机）</span></span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;|||第&quot;</span> &lt;&lt; i<span class="number">+1</span> &lt;&lt; <span class="string">&quot;只蚂蚁：初始位置为&quot;</span> &lt;&lt; ants[i].route.<span class="built_in">back</span>() &lt;&lt; <span class="string">&quot;|||&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; city_number - <span class="number">1</span>; j++)&#123;   <span class="comment">//第j步移动</span></span><br><span class="line">                <span class="type">int</span> nextCity = <span class="built_in">Select_NextCity</span>(ants[i]);     <span class="comment">//Step2:选择下一个前往的节点,结果push到route集合中去。重复直到走遍所有节点。#核心：Select_NextCity()方法</span></span><br><span class="line">                ants[i].route.<span class="built_in">push_back</span>(nextCity);</span><br><span class="line">                cout &lt;&lt; <span class="string">&quot;!!!第&quot;</span> &lt;&lt; j<span class="number">+1</span> &lt;&lt; <span class="string">&quot;步:移动到&quot;</span> &lt;&lt; nextCity &lt;&lt; endl;</span><br><span class="line">            &#125;</span><br><span class="line">            ants[i].TotalRouteLength = <span class="built_in">Calculate_TotalLength</span>(ants[i]);  <span class="comment">//Step3:计算该蚂蚁(i)当前路径下的总距离，然后看看是不是最佳情况。#核心：Calculate_TotalLength()方法</span></span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;--&gt;路径长：&quot;</span> &lt;&lt; ants[i].TotalRouteLength &lt;&lt; endl;</span><br><span class="line">            <span class="keyword">if</span>(ants[i].TotalRouteLength &lt; BestRouteLength)</span><br><span class="line">            &#123;</span><br><span class="line">                BestRouteLength = ants[i].TotalRouteLength;</span><br><span class="line">                BestRoute = ants[i].route;</span><br><span class="line">            &#125;</span><br><span class="line">            cout &lt;&lt; <span class="string">&quot;目前为止最佳的路径长：&quot;</span> &lt;&lt; BestRouteLength &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//Step4:所有蚂蚁的情况运行结束，现在开始根据ants所有成员存储的route信息，更新信息素矩阵。#核心：Update_Information()方法</span></span><br><span class="line">        <span class="built_in">Update_Information</span>(ants);</span><br><span class="line">        <span class="comment">//Step5:本次迭代结束，进入下一个迭代。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Select_NextCity:路径选择</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">TSP::Select_NextCity</span><span class="params">(Ant&amp; this_ant)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//this_ant.route存储了已经经过的结点，类型是vector&lt;int&gt;。在选择下一个目的节点时，需要跳过这些节点。</span></span><br><span class="line">    <span class="comment">//创建概率列表Probabilities：从当前节点i往其他节点走的概率p_k(i,j)</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">double</span>&gt; <span class="title">Probabilities</span><span class="params">(city_number,<span class="number">0.0</span>)</span></span>;   </span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> NowCity = this_ant.route.<span class="built_in">back</span>();    <span class="comment">//NowCity：当前所在的节点，即route列表的最后一项</span></span><br><span class="line">    <span class="type">double</span> totalProbabilities = <span class="number">0.0</span>;</span><br><span class="line">    <span class="comment">//Step1: 计算每个情况的概率(分子)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> NextCity = <span class="number">0</span>; NextCity &lt; city_number; NextCity++)&#123;</span><br><span class="line">        <span class="comment">//需要跳过已经访问的节点,前往他们的概率保持为0.0</span></span><br><span class="line">        <span class="keyword">auto</span> visited = <span class="built_in">find</span>(this_ant.route.<span class="built_in">begin</span>(), this_ant.route.<span class="built_in">end</span>(), NextCity);  </span><br><span class="line">        <span class="keyword">if</span>(visited != this_ant.route.<span class="built_in">end</span>())     </span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> information_goto_nextcity = InformationMatrix[NowCity][NextCity];</span><br><span class="line">        <span class="type">double</span> distance_goto_nextcity = DistancesMatrix[NowCity][NextCity];</span><br><span class="line">        Probabilities[NextCity] = <span class="built_in">pow</span>(information_goto_nextcity, ALPHA) * <span class="built_in">pow</span>(<span class="number">1.0</span>/distance_goto_nextcity, BETA);</span><br><span class="line">        totalProbabilities += Probabilities[NextCity];</span><br><span class="line">        <span class="comment">//cout &lt;&lt; &quot;#Probabilities:[Before]&quot; &lt;&lt; Probabilities[NextCity] &lt;&lt; endl;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; &quot;#totalProbabilities:&quot; &lt;&lt; totalProbabilities &lt;&lt; endl;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step2:计算每个情况的条件概率p_k(i,j)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> NextCity = <span class="number">0</span>; NextCity &lt; city_number; NextCity++)&#123;</span><br><span class="line">        <span class="keyword">auto</span> visited = <span class="built_in">find</span>(this_ant.route.<span class="built_in">begin</span>(), this_ant.route.<span class="built_in">end</span>(), NextCity);  </span><br><span class="line">        <span class="keyword">if</span>(visited != this_ant.route.<span class="built_in">end</span>())     </span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        Probabilities[NextCity] = Probabilities[NextCity] / totalProbabilities;</span><br><span class="line">        <span class="comment">//cout &lt;&lt; &quot;#Probabilities:[After]&quot; &lt;&lt; Probabilities[NextCity] &lt;&lt; endl;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step3:轮盘赌选择去往的下一个节点</span></span><br><span class="line">    <span class="type">double</span>  randVal = (<span class="type">double</span>)<span class="built_in">rand</span>() / RAND_MAX * totalProbabilities;</span><br><span class="line">    <span class="comment">//cout &lt;&lt; &quot;#randVal:&quot; &lt;&lt; randVal &lt;&lt; endl;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> NextCity = <span class="number">0</span>; NextCity &lt; city_number; NextCity++)&#123;</span><br><span class="line">        <span class="keyword">auto</span> visited = <span class="built_in">find</span>(this_ant.route.<span class="built_in">begin</span>(), this_ant.route.<span class="built_in">end</span>(), NextCity);  </span><br><span class="line">        <span class="keyword">if</span>(visited != this_ant.route.<span class="built_in">end</span>())     </span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        randVal -= Probabilities[NextCity] * totalProbabilities;</span><br><span class="line">        <span class="keyword">if</span> (randVal &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> NextCity;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;    <span class="comment">//ERROR</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Calculate_TotalLength:计算路径总长</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">TSP::Calculate_TotalLength</span><span class="params">(Ant&amp; this_ant)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">double</span> totalLength = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; this_ant.route.<span class="built_in">size</span>()<span class="number">-1</span>; i++)&#123;</span><br><span class="line">        totalLength += DistancesMatrix[this_ant.route[i]][this_ant.route[i<span class="number">+1</span>]];</span><br><span class="line">    &#125;</span><br><span class="line">    totalLength += DistancesMatrix[this_ant.route.<span class="built_in">back</span>()][this_ant.route[<span class="number">0</span>]];  <span class="comment">//终点回到起点</span></span><br><span class="line">    <span class="keyword">return</span> totalLength;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    Update_Information:更新信息素矩阵</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">TSP::Update_Information</span><span class="params">(vector&lt;Ant&gt;&amp; ants)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//Step1: 信息素蒸发</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; InformationMatrix[<span class="number">0</span>].<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; InformationMatrix[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            InformationMatrix[i][j] = InformationMatrix[i][j] * (<span class="number">1</span> - ROW);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step2: 信息素释放：每只蚂蚁经过的路径上，都会留下一定的信息素。留下信息素的量规定为距离的倒数</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; ants.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; ants[i].route.<span class="built_in">size</span>() - <span class="number">1</span>; j++)&#123;</span><br><span class="line">            <span class="type">int</span> StartPoint = ants[i].route[j];</span><br><span class="line">            <span class="type">int</span> Destination = ants[i].route[j<span class="number">+1</span>];</span><br><span class="line">            InformationMatrix[StartPoint][Destination] += <span class="number">1.0</span> / ants[i].TotalRouteLength;</span><br><span class="line">        &#125;</span><br><span class="line">        InformationMatrix[ants[i].route.<span class="built_in">back</span>()][ants[i].route[<span class="number">0</span>]] += <span class="number">1.0</span> / ants[i].TotalRouteLength;   <span class="comment">//终点回到起点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">vector&lt;<span class="type">int</span>&gt; <span class="title">TSP::GetBestRoute</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> BestRoute;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">double</span> <span class="title">TSP::GetBestRouteLength</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> BestRouteLength;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">srand</span>(<span class="built_in">static_cast</span>&lt;<span class="type">unsigned</span>&gt;(<span class="built_in">time</span>(<span class="number">0</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//测试集要求：主对角线全0，其他元素不能出现0（否则两点就重合了，必定报错）</span></span><br><span class="line">    <span class="comment">/* Test: 5-CITY</span></span><br><span class="line"><span class="comment">    Matrix distances = &#123;</span></span><br><span class="line"><span class="comment">        &#123;0, 2, 9, 10, 7&#125;,</span></span><br><span class="line"><span class="comment">        &#123;1, 0, 6, 4, 3&#125;,</span></span><br><span class="line"><span class="comment">        &#123;15, 7, 0, 8, 6&#125;,</span></span><br><span class="line"><span class="comment">        &#123;6, 3, 12, 0, 5&#125;,</span></span><br><span class="line"><span class="comment">        &#123;10, 4, 8, 7, 0&#125;</span></span><br><span class="line"><span class="comment">    &#125;;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    Matrix distances = &#123;</span><br><span class="line">        &#123;<span class="number">0</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">15</span>, <span class="number">14</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">8</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">15</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">9</span>&#125;,</span><br><span class="line">        &#123;<span class="number">2</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>&#125;,</span><br><span class="line">        &#123;<span class="number">9</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">15</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">16</span>, <span class="number">15</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>&#125;,</span><br><span class="line">        &#123;<span class="number">10</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">11</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">14</span>, <span class="number">13</span>, <span class="number">12</span>, <span class="number">15</span>, <span class="number">14</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">7</span>&#125;,</span><br><span class="line">        &#123;<span class="number">7</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>&#125;,</span><br><span class="line">        &#123;<span class="number">4</span>, <span class="number">7</span>, <span class="number">12</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>&#125;,</span><br><span class="line">        &#123;<span class="number">8</span>, <span class="number">5</span>, <span class="number">14</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>&#125;,</span><br><span class="line">        &#123;<span class="number">12</span>, <span class="number">8</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">0</span>, <span class="number">14</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>&#125;,</span><br><span class="line">        &#123;<span class="number">5</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">14</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">9</span>&#125;,</span><br><span class="line">        &#123;<span class="number">6</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">14</span>, <span class="number">13</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>&#125;,</span><br><span class="line">        &#123;<span class="number">3</span>, <span class="number">11</span>, <span class="number">15</span>, <span class="number">8</span>, <span class="number">11</span>, <span class="number">14</span>, <span class="number">14</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>&#125;,</span><br><span class="line">        &#123;<span class="number">15</span>, <span class="number">12</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>&#125;,</span><br><span class="line">        &#123;<span class="number">14</span>, <span class="number">13</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">8</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">10</span>&#125;,</span><br><span class="line">        &#123;<span class="number">11</span>, <span class="number">14</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>&#125;,</span><br><span class="line">        &#123;<span class="number">13</span>, <span class="number">15</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">15</span>, <span class="number">14</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>&#125;,</span><br><span class="line">        &#123;<span class="number">9</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">11</span>, <span class="number">14</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>&#125;,</span><br><span class="line">        &#123;<span class="number">8</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>&#125;,</span><br><span class="line">        &#123;<span class="number">7</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>&#125;,</span><br><span class="line">        &#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">4</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>&#125;,</span><br><span class="line">        &#123;<span class="number">6</span>, <span class="number">4</span>, <span class="number">15</span>, <span class="number">12</span>, <span class="number">6</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>&#125;,</span><br><span class="line">        &#123;<span class="number">4</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>&#125;,</span><br><span class="line">        &#123;<span class="number">3</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>&#125;,</span><br><span class="line">        &#123;<span class="number">2</span>, <span class="number">12</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>&#125;,</span><br><span class="line">        &#123;<span class="number">1</span>, <span class="number">11</span>, <span class="number">11</span>, <span class="number">15</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">11</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>&#125;,</span><br><span class="line">        &#123;<span class="number">8</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">14</span>, <span class="number">15</span>&#125;,</span><br><span class="line">        &#123;<span class="number">9</span>, <span class="number">8</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>&#125;,</span><br><span class="line">        &#123;<span class="number">7</span>, <span class="number">6</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">11</span>, <span class="number">7</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>&#125;,</span><br><span class="line">        &#123;<span class="number">6</span>, <span class="number">5</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>&#125;,</span><br><span class="line">        &#123;<span class="number">5</span>, <span class="number">6</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>&#125;,</span><br><span class="line">        &#123;<span class="number">4</span>, <span class="number">3</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>&#125;,</span><br><span class="line">        &#123;<span class="number">3</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">14</span>, <span class="number">8</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>&#125;,</span><br><span class="line">        &#123;<span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">16</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>&#125;,</span><br><span class="line">        &#123;<span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">15</span>, <span class="number">8</span>, <span class="number">8</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>&#125;,</span><br><span class="line">        &#123;<span class="number">2</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">15</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">10</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">12</span>, <span class="number">10</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="function">TSP <span class="title">tsp</span><span class="params">(distances)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">auto</span> start = chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">    tsp.<span class="built_in">solve</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Running the algorithm...\n&quot;</span> &lt;&lt; flush;</span><br><span class="line">    <span class="keyword">auto</span> end = chrono::high_resolution_clock::<span class="built_in">now</span>();</span><br><span class="line">    chrono::duration&lt;<span class="type">double</span>&gt; duration = end - start;   <span class="comment">//程序运行时间</span></span><br><span class="line"></span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; BestRoute = tsp.<span class="built_in">GetBestRoute</span>();</span><br><span class="line">    <span class="type">double</span>  BestRouteLength = tsp.<span class="built_in">GetBestRouteLength</span>();</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//Test Ouput</span></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Algorithm completed!&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\n\n==============最终结果==============\n&quot;</span>;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;最佳路径：&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span> ; i &lt; BestRoute.<span class="built_in">size</span>() - <span class="number">1</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cout &lt;&lt; BestRoute[i] &lt;&lt; <span class="string">&quot; -&gt; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; BestRoute.<span class="built_in">back</span>();</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\n最佳(最短)路径长：&quot;</span>;</span><br><span class="line">    cout &lt;&lt; BestRouteLength &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;============================||END.&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;(本次运行超参数：&quot;</span> &lt;&lt; <span class="string">&quot;--ITERATION_TIMES=&quot;</span> &lt;&lt; ITERATION_TIMES </span><br><span class="line">                               &lt;&lt; <span class="string">&quot;--ANT_NUMBER&quot;</span> &lt;&lt; ANT_NUMBER</span><br><span class="line">                               &lt;&lt; <span class="string">&quot;--ALPHA=&quot;</span> &lt;&lt; ALPHA</span><br><span class="line">                               &lt;&lt; <span class="string">&quot;--BETA=&quot;</span> &lt;&lt; BETA</span><br><span class="line">                               &lt;&lt; <span class="string">&quot;--ROW=&quot;</span> &lt;&lt; ROW</span><br><span class="line">                               &lt;&lt; <span class="string">&quot;)&quot;</span> &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;(程序运行时长：&quot;</span> &lt;&lt; duration &lt;&lt; <span class="string">&quot; seconds)&quot;</span> &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="代码逻辑和解析—-2024-10-25更新完毕"><a href="#代码逻辑和解析—-2024-10-25更新完毕" class="headerlink" title="代码逻辑和解析—-&gt;2024.10.25更新完毕"></a>代码逻辑和解析—-&gt;2024.10.25更新完毕</h2><h3 id="算法载体“蚂蚁”的结构体表征"><a href="#算法载体“蚂蚁”的结构体表征" class="headerlink" title="算法载体“蚂蚁”的结构体表征"></a>算法载体“蚂蚁”的结构体表征</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Ant</span></span><br><span class="line">&#123;</span><br><span class="line">    vector&lt;<span class="type">int</span>&gt; route;           <span class="comment">//(目前为止)路径</span></span><br><span class="line">    <span class="type">double</span>  TotalRouteLength;    <span class="comment">//(目前为止)路径的总长度</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ul><li><strong>route</strong>: 路径，是一个存放int的一维vector。比如{3,2,1,4,5}，表示该蚂蚁的行走路径是3-&gt;2-&gt;1-&gt;4-&gt;5，蚂蚁当前正位于节点5。算法的运行过程中，在每只蚂蚁、每一次根据概率选择完毕下一个节点后，route需要在末尾实时存入(push_back)这个目的节点。</li><li><strong>TotalRouteLength</strong>：每一次迭代完成后(即一只蚂蚁走遍了所有节点)，存放route路径的总长度。</li></ul><h3 id="距离矩阵和信息素矩阵"><a href="#距离矩阵和信息素矩阵" class="headerlink" title="距离矩阵和信息素矩阵"></a>距离矩阵和信息素矩阵</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> vector&lt;vector&lt;<span class="type">double</span>&gt;&gt;  Matrix;</span><br><span class="line"><span class="comment">//距离矩阵，信息素矩阵</span></span><br><span class="line">Matrix DistancesMatrix;</span><br><span class="line">Matrix InformationMatrix;</span><br></pre></td></tr></table></figure><ul><li>矩阵的第i行第j列元素，表示从i节点到j节点“路径的距离”&#x2F;“路径上信息素的含量”。</li><li>DistancesMatrix是算法的输入，他反映了当前TSP问题的城市个数和它们之间的位置关系(彼此间的距离)；</li><li>i-&gt;j与j-&gt;i路径相同只是方向相反，同一条路径上的距离和信息素都应该相同。因此，DistancesMatrix和InformationMatrix都是主对角线全0的对称矩阵。</li></ul><h3 id="算法主逻辑solve"><a href="#算法主逻辑solve" class="headerlink" title="算法主逻辑solve()"></a>算法主逻辑solve()</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">TSP::solve</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> iter=<span class="number">0</span>; iter&lt;ITERATION_TIMES; iter++)&#123;</span><br><span class="line">        <span class="function">vector&lt;Ant&gt; <span class="title">ants</span><span class="params">(ANT_NUMBER)</span></span>;       <span class="comment">//####创建存放Ant结构体变量的数组，开辟的空间数量为ANT_NUMBER</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; ANT_NUMBER; i++)&#123;        <span class="comment">//第i只蚂蚁</span></span><br><span class="line">            ants[i].route.<span class="built_in">push_back</span>(<span class="built_in">rand</span>() % city_number);   <span class="comment">//Step1:初始化蚂蚁所在节点（随机）</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; city_number - <span class="number">1</span>; j++)&#123;   <span class="comment">//第j步移动</span></span><br><span class="line">                <span class="type">int</span> nextCity = <span class="built_in">Select_NextCity</span>(ants[i]);     <span class="comment">//Step2:选择下一个前往的节点,结果push到route集合中去。重复直到走遍所有节点。#核心：Select_NextCity()方法</span></span><br><span class="line">                ants[i].route.<span class="built_in">push_back</span>(nextCity);</span><br><span class="line">            &#125;</span><br><span class="line">            ants[i].TotalRouteLength = <span class="built_in">Calculate_TotalLength</span>(ants[i]);  <span class="comment">//Step3:计算该蚂蚁(i)当前路径下的总距离，然后看看是不是最佳情况。#核心：Calculate_TotalLength()方法</span></span><br><span class="line">            <span class="keyword">if</span>(ants[i].TotalRouteLength &lt; BestRouteLength)</span><br><span class="line">            &#123;</span><br><span class="line">                BestRouteLength = ants[i].TotalRouteLength;</span><br><span class="line">                BestRoute = ants[i].route;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//Step4:所有蚂蚁的情况运行结束，现在开始根据ants所有成员存储的route信息，更新信息素矩阵。#核心：Update_Information()方法</span></span><br><span class="line">        <span class="built_in">Update_Information</span>(ants);</span><br><span class="line">        <span class="comment">//Step5:本次迭代结束，进入下一个迭代。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>三重循环：最外层循环控制算法总迭代次数；i循环遍历每只蚂蚁；j循环控制每只蚂蚁进行寻路。</li><li>核心方法调用：<ul><li><strong>Select_NextCity</strong>：传入当前蚂蚁(结构体)。因为结构体中包含了蚂蚁现在的位置信息now(route的末尾元素)，因此可以遍历计算概率p(now,next)，并通过轮盘赌选择下一步的节点编号next。</li><li><strong>Calculate_TotalLength</strong>：最内j循环运行完毕，即当前蚂蚁已经走遍所有节点，运算总路径长。随后确认是否是最佳情况。</li><li><strong>Update_Information</strong>：所有蚂蚁寻路完毕，本次迭代完成，根据每只蚂蚁的路径route更新信息素矩阵。</li></ul></li><li>另外：ants为所有蚂蚁的集合，数据类型是存放结构体对象的一维vector。</li></ul><p>*算法主逻辑手写版：<br><img src="https://s2.loli.net/2024/10/25/sdcKDOQLRIMgqbt.jpg" width="500" height="1200"></p><h3 id="核心方法·其一：Select-NextCity路径选择"><a href="#核心方法·其一：Select-NextCity路径选择" class="headerlink" title="核心方法·其一：Select_NextCity路径选择"></a>核心方法·其一：Select_NextCity路径选择</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">TSP::Select_NextCity</span><span class="params">(Ant&amp; this_ant)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//this_ant.route存储了已经经过的结点，类型是vector&lt;int&gt;。在选择下一个目的节点时，需要跳过这些节点。</span></span><br><span class="line">    <span class="comment">//创建概率列表Probabilities：从当前节点i往其他节点走的概率p_k(i,j)</span></span><br><span class="line">    <span class="function">vector&lt;<span class="type">double</span>&gt; <span class="title">Probabilities</span><span class="params">(city_number,<span class="number">0.0</span>)</span></span>;   </span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> NowCity = this_ant.route.<span class="built_in">back</span>();    <span class="comment">//NowCity：当前所在的节点，即route列表的最后一项</span></span><br><span class="line">    <span class="type">double</span> totalProbabilities = <span class="number">0.0</span>;</span><br><span class="line">    <span class="comment">//Step1: 计算每个情况的概率(分子)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> NextCity = <span class="number">0</span>; NextCity &lt; city_number; NextCity++)&#123;</span><br><span class="line">        <span class="comment">//需要跳过已经访问的节点,前往他们的概率保持为0.0</span></span><br><span class="line">        <span class="keyword">auto</span> visited = <span class="built_in">find</span>(this_ant.route.<span class="built_in">begin</span>(), this_ant.route.<span class="built_in">end</span>(), NextCity);  </span><br><span class="line">        <span class="keyword">if</span>(visited != this_ant.route.<span class="built_in">end</span>())     </span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> information_goto_nextcity = InformationMatrix[NowCity][NextCity];</span><br><span class="line">        <span class="type">double</span> distance_goto_nextcity = DistancesMatrix[NowCity][NextCity];</span><br><span class="line">        Probabilities[NextCity] = <span class="built_in">pow</span>(information_goto_nextcity, ALPHA) * <span class="built_in">pow</span>(<span class="number">1.0</span>/distance_goto_nextcity, BETA);</span><br><span class="line">        totalProbabilities += Probabilities[NextCity];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step2:计算每个情况的条件概率p_k(i,j)</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> NextCity = <span class="number">0</span>; NextCity &lt; city_number; NextCity++)&#123;</span><br><span class="line">        <span class="keyword">auto</span> visited = <span class="built_in">find</span>(this_ant.route.<span class="built_in">begin</span>(), this_ant.route.<span class="built_in">end</span>(), NextCity);  </span><br><span class="line">        <span class="keyword">if</span>(visited != this_ant.route.<span class="built_in">end</span>())     </span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        Probabilities[NextCity] = Probabilities[NextCity] / totalProbabilities;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step3:轮盘赌选择去往的下一个节点</span></span><br><span class="line">    <span class="type">double</span>  randVal = (<span class="type">double</span>)<span class="built_in">rand</span>() / RAND_MAX * totalProbabilities;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> NextCity = <span class="number">0</span>; NextCity &lt; city_number; NextCity++)&#123;</span><br><span class="line">        <span class="keyword">auto</span> visited = <span class="built_in">find</span>(this_ant.route.<span class="built_in">begin</span>(), this_ant.route.<span class="built_in">end</span>(), NextCity);  </span><br><span class="line">        <span class="keyword">if</span>(visited != this_ant.route.<span class="built_in">end</span>())     </span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        randVal -= Probabilities[NextCity] * totalProbabilities;</span><br><span class="line">        <span class="keyword">if</span> (randVal &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> NextCity;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;    <span class="comment">//ERROR</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>计算每条路径的**概率p_k(i,j)**。注意需要事先排除已经走过的节点。</li><li><strong>轮盘赌</strong>选择去往的下一个节点。</li></ul><img src="https://s2.loli.net/2024/10/25/QaX1brEvRJWwD4y.jpg"><h3 id="核心方法·其二：Calculate-TotalLength计算总长"><a href="#核心方法·其二：Calculate-TotalLength计算总长" class="headerlink" title="核心方法·其二：Calculate_TotalLength计算总长"></a>核心方法·其二：Calculate_TotalLength计算总长</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">double</span> <span class="title">TSP::Calculate_TotalLength</span><span class="params">(Ant&amp; this_ant)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">double</span> totalLength = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; this_ant.route.<span class="built_in">size</span>()<span class="number">-1</span>; i++)&#123;</span><br><span class="line">        totalLength += DistancesMatrix[this_ant.route[i]][this_ant.route[i<span class="number">+1</span>]];</span><br><span class="line">    &#125;</span><br><span class="line">    totalLength += DistancesMatrix[this_ant.route.<span class="built_in">back</span>()][this_ant.route[<span class="number">0</span>]];  <span class="comment">//终点回到起点</span></span><br><span class="line">    <span class="keyword">return</span> totalLength;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>为了简化代码，solve()在运行时不会让蚂蚁回到起点。但此处我们认为TSP问题仍需要走一个闭环，所以在运算路径总长时需要另外加上从终点(route最后一项)回到起点(route第一项)的距离。</p><h3 id="核心方法·其三：Update-Information信息素更新"><a href="#核心方法·其三：Update-Information信息素更新" class="headerlink" title="核心方法·其三：Update_Information信息素更新"></a>核心方法·其三：Update_Information信息素更新</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">TSP::Update_Information</span><span class="params">(vector&lt;Ant&gt;&amp; ants)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//Step1: 信息素蒸发</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; InformationMatrix[<span class="number">0</span>].<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; InformationMatrix[<span class="number">0</span>].<span class="built_in">size</span>(); j++)&#123;</span><br><span class="line">            InformationMatrix[i][j] = InformationMatrix[i][j] * (<span class="number">1</span> - ROW);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Step2: 信息素释放：每只蚂蚁经过的路径上，都会留下一定的信息素。留下信息素的量规定为距离的倒数</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>; i &lt; ants.<span class="built_in">size</span>(); i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; ants[i].route.<span class="built_in">size</span>() - <span class="number">1</span>; j++)&#123;</span><br><span class="line">            <span class="type">int</span> StartPoint = ants[i].route[j];</span><br><span class="line">            <span class="type">int</span> Destination = ants[i].route[j<span class="number">+1</span>];</span><br><span class="line">            InformationMatrix[StartPoint][Destination] += <span class="number">1.0</span> / ants[i].TotalRouteLength;</span><br><span class="line">        &#125;</span><br><span class="line">        InformationMatrix[ants[i].route.<span class="built_in">back</span>()][ants[i].route[<span class="number">0</span>]] += <span class="number">1.0</span> / ants[i].TotalRouteLength;   <span class="comment">//终点回到起点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>信息素蒸发</strong>：根据超参数ROW，对上一次迭代后的信息素进行衰减操作。</li><li><strong>信息素释放</strong>：根据本轮迭代下每只蚂蚁的路径情况，为每条路径增加信息素。每次增加的信息素量是route总长的倒数(即1&#x2F;TotalRouteLength)。</li></ul><img src="https://s2.loli.net/2024/10/25/mZu5AzcKEdyIqOl.jpg" width="500" height="1200"><h2 id="读取-tsp数据文件—-稍后更新"><a href="#读取-tsp数据文件—-稍后更新" class="headerlink" title="读取.tsp数据文件—-&gt;稍后更新"></a>读取.tsp数据文件—-&gt;稍后更新</h2><h2 id="Berlin52数据集测试情况—-稍后更新"><a href="#Berlin52数据集测试情况—-稍后更新" class="headerlink" title="Berlin52数据集测试情况—-&gt;稍后更新"></a>Berlin52数据集测试情况—-&gt;稍后更新</h2>]]></content>
      
      
      <categories>
          
          <category> Course Assignment </category>
          
          <category> Computational Intelligence </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
            <tag> TSP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cpp实现矩阵操作</title>
      <link href="/2024/10/18/Matrix/"/>
      <url>/2024/10/18/Matrix/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="b5c6a151f7ed793ee9ebc52abd1342ad585ff4ea795ae84ea1bd90f26702de48">216d342401ed8ac277dfe0d7fa75e03a375f7b0846078cf9ff7228ce956d09abe698c675255330711038f9e182ac0ff3a7ccecf3535ba37db00ce48d2d547d764a5e18c8b4311ec6763462ae809af82edf09c68c4f80de08529b845fd2dc4f2009060810e9d1a2596e5083f96ab1ffdebf490493d97c1628864637c1f1e9e28943b0810f3b90935dddbbbc5193458d5fb74064dcb3a60b92ecc2be3857268f4a66e631bb27f17425982b98d428f114b85c59a6718bce37807200a7dc73ed58576bd3f54fa04930ad7971f01cb99be821957f45353d1cd209febf4b9aac4bb408d007da406b102153e5f38a9f69ee14e83dc5e2311fda07465b07a5b6f4c6425f21caadcae3058995eddcf796f77ddb5b3849d828876b96c9a9a237e10a7f63e02d91bd8f7219f7764ec41e31b5dfea44488c2dcd3989608e8c9a9fbf215a9bd9080c2e0edb91f9174aa212dc6592bdb6c644906f5508e869ca5fd66d5147785c7847f8a8adfffc73e28b1d7807ed63df3d5d19ec9d4ae6b8f15d70f25d2fa97ff4b2d00bf7f8f0ceb8e0c652a3a162cb6a6c0a403032e0bf55a510aa2c51b6e97f538ab2e09bf9b756af6fd7b45ceac24ec45fb9c1cc520b6bc678440f2cf037b5a3b927543c3309f6847de7458eb9dd92bab405692b7038aecbb5ba191ccb8e4aa5a05a550eac98a5602582d79f5238e26f7981e32f8b690e56137d2844a5d8c7b903247d3389dc37c463dda2f4a33c5bfc9163078da97f22bafc0d4be241e29ad2a6560af996b73f34a2f594b8677490f7beb00604e7121383111241889fa5c093385648ceec738a50843d2603d1e70976586d26c195f245e0a45e2aadbddf9accb16b2b9433cd450bd187cf4977899fd7398aff2caa272a73e96b88afb5f9eb6d9321c23da726bc1f7dde70c5bf3d6950fd6475812e5bc17f4a77e18724b4e83de64917967c4e7dcd13d6ba726b8a8af9fe8470f14ac3e026ded3204cc93534dbc2f9792f7b28b766f0f4ddaf26ac2dfb9d0f38fcfa675e0dc4252f248c2c3374120f209a392282569c3c7f73afc6ec9e9a14daf2b36cb427ea9100d8d87ef927ca71b57d2871715c34fe8564c5309ce4a5ac143cb10c71a8b6a51be336d87824d917eb08691e0ea31792ad1d6703d3122fac41a28b987146d3c33e037cd5cab00fd0bd1ca32471bb8e3a6a0bf2e510ca4816676dbec206881f96369fc8b596ef0d5f07ff4e34848c5275655aabb2384828bd7b5c809b5f7f2fa0186eb58337ce769eadebee38309255e9b4dd64df2779c10024ed55a6d3459c7b40c04e2eb6e467e95643a227df059a6db1495fa6e297de8d9374af0af326654faa01e195ae21628ed3783c7697561c3eb5d41313702ae70539d0de75dde76514952ee5c25ed216393dab2057d3a36a849592d93c0f42287b44a05ff2a796baccc7e9416057f9dad71efefdbcbf6e273541974f65d69d0eafe542de0362d420dbd5cdd20dc84f8d9e5e67cc93134b46c6df831324da77ea6e5a6f0b8259c6b059bbcac274c8f3fe78d272879d155fd272fdeedaf01317e9fc3eaf86d9f939e08df00128516d84ae231f949a3c0d476d9d81cc72c1a9532aa67b7669be84e2cadb64387bf15e34e04228764da85077e90f2e784300e20e50983682f0d38ce4a83c82310a5a9109799c95b066a0517491d1208577927c76c5437f1102e488f2555bfbb4ccaa926034bb94e050a5ce9cc7ecd4ee0b37db97d3445728ba7ee6c96476da261ea6dc81a0336729a29042b519153242f27ed1093a59f90f316f2bd38d0d1c57bf5df9b9b20a79da7222eaa1c747bf1e15b9fed389697834cd4497082a34ff99a3a1181b8cc3ccc7a5f06231f21b4e89d927fe0f15407f6bdd7a14a4f3910d2d2bd2b4ad4ca80f9f1cb464ff23fc63d39d8f332b83589c1f6c6f3ccd630dc23466b1651a1bdd8b10239d7cb6bb07f6b3872d2ae229a5aabf4c021d95929d5d94d18c15a23a31be7f000ce7165cc7c5ab472124d2656529dcbf55a57f0698a35343a35fde375981c6d0aad9a6f28682e3d1f3ee9d1098c2d8b73e36ebd46fcc4236bd1157610c85f0be821dfbf27ad24f353a32a9d9a92554bf0f556ca20bb75d5b1e2f24dc1fb44e29d3d7723fd4ef1abc345e6e97c42c39b735265c79cca84effc701c3682583501ab3a5f295f5c81a33a2e1e85cce7266ecf4ac88cde051fe8ca5fbdbed9d0eaf613a576c07c58d4698ff3964ac883add1f19d9ea5ed46bd605aab7e88c553d3d3f13a5d1e59f57f83bbb072b4b81048d06247fe49ba0ad8f673cc60e3edab2c8c443900a06bcaa478a71fdabc5657f9dad624b9d30c41e81970384b5a0f705c477a66c19349cce41bd5bcfdb7a5ac6a985b5855dfd8ec18a6f3d2038ecf2434882744d5c1c98cf0a7d87982125113f8454ad6e3f139c97fdd5e98ece0b42e775782b98a7b806d6a95445b4a9b616183da31d34827d0effcb0de43a6443dcb4945d8bd0630f828ba16870a8566e07526626c4212615426039bb95a0bd924f1f2d1a5d661c647a064add6fca5598f39e91ce69863a5f266fb877d287c0f1f7a8eafce8ea8f071b930487a06dca1de8272aade7eb3982d7550413dae5601100a878fb75540d4c9198581818f940d0e1d719cc53e8bc6addd2254a778418f12ab561538cf26e4c48739427518690bf2f2f5f9f6633f2b2284a158276d59d4102274ba11f6b0774ec371eae0c41c8c369d478f1034418294522ee7269ff16b45c2783d23fe5713f188eccc9ba463c5f1d88d066b240a3d439802e891d9dde908e4f96f67d220074b9207474bf8ac69da6a66fbcc6bf6279ae05ead4c046fd083b536faa56cc7a9380a2f0dce44891e7c8b21045718621435dd99f0c9c938a3275019a6561d9189d915a702b2f62b6ae6b6754dfb58cf4eb613629b9bf6e0d198b2a56799c05f65d8e78edb24c751b528b86b3caf13b87a45a5f76c2a2ec80f46119502d755e975ecfb6081a7dab5d3d7b062fef186ab47d1b89dc3fca3857176625a7ad0fde9b4a68e6858bf8c11e005b9ad912d1c67374ea41561dd6a689d37202e4c770881425e089e3b9cffbbe507e49cfecb3177bc71cf56bb3d4fc604ba46507695d044ba1269488a3afa3ed7f7a6d0d0661d83e1d4f386722d86d40ee75e1b353f236025a39651e206aba24257a738a2b7d35fd2b225a08fac6c3ff3fb9a680e28f444063b2d99ccd842df74a4b26a1b62e4b8a0bea38e0f84d9b0116b91f6e3b950a6f2a7d55009c47f7796f34a7c8893ac8f66116079f11fabc418104cffaf2ed9b49c3bbb67dd2320fa28dbb86350cee4f22a527cf597365efe5020cfffe899b46d18a873a7a8b5296fdfcc044cd6a59054fd7e066160db4531b4daa59fbe0f68665504bee31042991759969d17387d74bc7e59f739a5e6a6715dc283ef89fdb6ce95cd4315351e928b0ad097beca11986c6ad173707447167c9534e499974c11530842c52a837b225b43f0c7d3b984110ccc19290e3dd9b343eecc9c5ae98942951c4013049ca7acb0c5afb8676bc5a9feffe0891009942e55ca1c7a8d16158a1ae964c8b4da02876ef22c4367a7fdb9f07bfc326d7823c0b3e4232d3881c1baf476ef7635b857851aeb9a5c430efa73093a39361a277e5e5ddfd4d9c7d10cb701963dcd51de55611ef100985b6e47cf59ddc631ddae886400613bb497b6701ff0617c08cadaab809b7e6134793f4d856a5f7245e9ed83dc4c57e79a6ea71794d33a15c9980c81fd74db5b414d8c559096128672a958e4fbe424388d9ebf6c08cd99c2327c3844ba13659e84ff5943b1734ffbd94fa744fa2a07b5210c482115c351de597d9a021ead9d6c88a519067b8de36d695864b4eec1fd56aa2af80f2deda3ae0899f096a722e9fd4d2333d5ed740e1e5bb95f4500bef6bc96d41832083c50dbc256d90bc343431b77c8920f42347c865be4c875caaa8e485cc29bfac859d1cbb88e60ef6a792d050149115ccf5d67c4b1bf2a9fad8196d0e485e0d0b4dafecfef3ee71b9a13f519ae5cf1543e9193f8ce5c48bfc1b7169f0decd4a7500bba1cdcebf00a3caf99e3f65ac63df90d004a4f36596dc43f439a30523e421d83b1f4175efd462bba2cd13014bec640320e8a1d240e4016657b80da8afcc86dcc1c54866b70a335c1233d3ee99511bfafcd0324d6dad94363119a155781105fd29f4df19fbd4dbc53a5dc8d2ceeb73504c8a3d8937a2609466ce01ec9ab4b5815c2f2cff7b06616929da8f05977803284af5372835361959b760bcfecef51bbc27622e1078cf7139e57898cea35d9a33764de18d8ab7d747788d2683852000703d8d5e98de0056a21ac53fa2e1d7026b2d4e1b80e3438705a760a4c87a3c68ed12d66f7c7716909d81fb68d2ea649ac49dc538eafb83f0fda4cf90e3757bd6cf2f7e9b63dab20c6e79e3b4c75ca4d5b169da7530fcceb6726ac9dc536ae38d1d147c4b9f9bff5bf0de222dde6ce889ee23e0e4eccaa12104cf5e985454daa78298dbd22060a543c63659f093f49bd53dc2e1ae43011673d494a1a24cf4b9299716c7daa4538e2a7f9a0ce0c1b819861248a7baa1fdc7e76d25d0ce13ba07eaa0402dfb572186e42cb0cd5b9059808c74c7cdfeb17f42151e2fde94925f19d42e48be2a7a225c29717685e64a505bc0d8d33cd8841887f2c7f47a2d32d01b62c7b85ce369927d6f39fc4142e4deaa47eaa51d6bf8009da69ddb75d0e1b350fd18a1481fb9061df813f82ca1b196ad4fb60d1a894ed03de124f49555e129d7626d6a84382a57f4212eca22cf6913a3c504e82acc88ceb2b2ba419341390f594bc95c605dd3562f3beffea8308859459f3f39772d6ccb3f22ed8ef3dceae4076a954093bf4ac075b46b6aeccc480adf9aee4a5dfed7311b009c708b027549b0cee1be1da0e4ed3b7ff1a34bf6a80290867c6cbcdaffd73ff3383a05cdd0291d2940dbddbd8a9dd425fe17acd610e1db6c0c6ee6d5da1d2a1e90055bec107396b69df5ed336e70b452c487e13164e8bed975995ac9db56311184f059a948a0fc071422f91b39f691f56c902ae7a064377aebf96955dd38f59e79fd2027f238ae2d1682c50765e24cb6c48abaecc7f504b5e093ad8983a506eeae43c0cf7b5d491d24dd3f7d111dd427350fcb52e8c9e068c4532877d64cda82d2d3d458b3500831584245502ffe799f78ce8d670eddf5127cfd1b32e6ae40716a7d045664de0af2725f28153da895708be391efe5b92ca6654c508be550845afe9abaabb866ad07f24f0413330fe38ff097c517e0538ef675df657719f9e6a8b5bab320de23b7d449f15bdb8083359882779837c4333c04ecd0ed330d8f49b718ee023a38e36c28dce514376398b09009d12be6e45ae863a9dfdba860b21836ef3991b1ae6de73c915c52d9479610b3402ebae421ae91e3cb5785cbddf151ddd77fd65ac4e8c2412b1103f7e22a1d2110efa81f22b13156bcd925f01e7048bcc6bb4b87d8c0028d1feb35695519c30caf35dc28c7779abdf1f66ba2d214dc81f8b19833b47eb6ac2c47aa6dec96dc1526828e08aba556b1ebef49bb3f888a24eb5ccf5518aebda33777b10a87ff2abbd1ae8cd2288e6bafaa18f28777b50345e405592b26d9e24f866c45ae4df3953233e9fa801786529da80f308d1812bc2f2260db6662a4f2e01370db7d96658ab882892d2fda18e5b1e18a01c6851bf14bc8b2dd7128c53477274c8fcfeef48c9dc78aaa04ad114fb2ce11e0f770bb83de32755a3fba60eeb518adc522becdbd69c60fddcb8cfc512ccd4bd6ecf10cb3b13ebfd9ba9b2cfb0060db2adee9ae406f390c4d4c65b182b54d62e3030ef5b2062b98fb98fe67bb1e7c803d320c7094b2ab4a5a308cae38c1f7625ec29ae7f4da7b1fce6dc3a7d61c4c7970ef7eff56178a89096943fa4f299432827eb6cbc59ac57ecf636cd921f722ec70de79bb8d296eb641df7c298adee3add463cb50ed99dc01c07fa3b35e5384917138f69bb87e8371aaa76a13ce2e33210273f7bc6931ffcfa4cd7a3b63b7705a73fe8cd7bc0ea348b43f6233acd9fcc762a5fd57f322be59013d528913c887bf43e1ab78485cebde9c0283745e0fdfa78e507f9b37a0214d94071b2a85d56b72e40fbee01e454bef54c977d3b2ac0c2d0895e9705ed3ea20e49a9edf7d6a15324159afab52f4b3b113bb888efcfd875725aec4dc55fb2d272ab701866551b8b926b67b644d888e1266f5b72eac174440a785940447b004f7e956d9b492664ba2fe31a586f495e44b0088e6093d59c4de270c5d21b8a3873bd611cf17d8cfe18adbd144ccea2490b9e293bfa5fdd5811fa14e82b69430b404102b9db8e85c9af563d4c648c1e4c500dce698999f959b139816d184ec6d0599edb970eff949e6e7da8b5f12b17e221680194ab09900fd3e722e316ddf37218987152e7c128f3a563602a0d9dfc577d8dc011c1ff39d8c8ee0189e86f8f2b325898599b55db6589f3839b19df165df8034de1c0f99d3964952988b1cb46fa3755c429f737a9705164912f9d20aeb4012a85a5f239b297ae915d41b4f4c94a4d86c7b55c6fcac30763fdedda6b7de8448fbfc551ba9da76e58e0b616773ca60d53049496b4b5f1d3db5ec862a34d6e71f5349bc5360c04132399c3b7571d25f5e75b9680f8a7ebb944d03fca87f016061866fdd07e3ae9490245536eac50e3bb88bb4eb01af30ab462c4c227bbdaf9660a4cdc4db910f5bc5a66121c218b1d71c008edd4ac33f5024516e60c03871db6ec6eeddaa4dafa908efcc5e275be0de36a6c6b8bb3ea9c01d150613f093ee82f4dbe7ed23acdcb81835b5495083da0938bc6c56ae9dd20e5af4423a1d1b9de5463f19591c8b2d5225a831c7f7b7076285b0f5388c2dbe85926b8b9eb46c579d6c78320d98ad9b6f127df72400f2e645883e60da4640ff9f56f991756e99a73da285d7c4d7b8610e17b3ad47032b6b731233308ff4cc1d964dfa8307515d963de23d5e2f63b8c7b39569f235c4a52b7687fbcdbd2526909da2da0d3af289dfefe71d9004a54638491c6f9229bbfbe588c440b9fe6153e63d633c1a7df7ce9373f30beb9c03ee97c6eab81fa48178016e61aab3ce9cdf7ebd42fd5906e0b69ae9d9c151e9975c823ca2983f34cffde995b97e45b99690f140e268ccedf19d406a0d30e9335ff531061175473556d5b4e0b9d3fcc9788133429ed9bf87b6aac34ebfcc96b2dbfc3ead8051147758fa5a6b8e6cbf3934b891321a7d1251da72ff2a9833e7a27ad8ec711f0631a88af4e9115539e8c09e5a2302c3f260ef3982676ce8254f3d76a42ec57d3ff17e5d84447d6ea746504ba97fdb3f0084f196a0e6abd9a253c6cdd49eed839df2f4821599c5fb92d0c8a393e6e67b3fcb8aa980518717a4a1f5e8fb6c3a00ae2296dcc0d66a96fb0d8cbdd2f6fe75029f7cd9c5637aa0cb03d6ccee528b30b1a43e194be4b4eecf7f98b2a22c716d0d950c339722d56cea8109570d85bc6c7333d148fc061249deaf566fb664ccd8753a0a91c1b45d57fe1a42cf98504ec12f606de7f46ee757acb6949dc66c5d1e3989dee03fd0b1c9c7e2178a7d4110834fd619094a305dc48b9d4608b9e4caf482188412bfbc7fa3d1788a076190f0669e03ada0add3934d9eff0675882c890d0d0a233fb4d072a12f34baa0d0226b6190458811d131d167926861103227537144912036e45bb582f8cae7afc7e668d3accb876589b53b7c794ac72228247fcba0e1f308966b2e32b1a33f8254621e1723fd66f0cfbc255969345e730b15e20db6db0f8b945d202f61463db188ed63bb80aa48c7c688153fb78be8be47166979c8af30be0a321b39f1bf9c2174d2f8d77f3bd4ae511b86f9dea7ead5985229f2779e1d5caf2f9397ef79bbacc13730772f5dd9a79692463587c6ad8a421118d6e1e3f302b5c0cc3fd7a985636da5c8d9ab9a37184f9be64c6fc612d6701531efab4daf774f90a4a360806ae6eb89990a8cfb9a81ee525cc9ed7e4cb475215d038ee4256a63e5ef24bcc84fec660f4c729432426e3f6c56d14fe01e452882061f3cfb71de58bfef57f2badfa564b59d0e956ce698a4866d2a0d17ef03bad678ddcc3255e299e41af9b7518c413efb16dd09e03681245c26d25ee5287bad4f61d96e6c39364ad3e16982bb297b0a00d662073571d66028b8ee6b154b0db797626e5d475072755e66cc4988a0637984d1b4136d2527d3cf73d26283f2b31c44c07f9ac54e66628b903ffa1dd9585d5be279e1bf3f1ced2730c227dd78710b1f320a69f327e9fb73a79f27dd0a4af3253089c115dde9ae5aec83826877787949c6deb06c45231c1cbaa897db34196de424b611d7611a07e70651adcff68ce5bb6f8d6409aa69496ec8c01c5912d9c42c947367742002e9041b48916ba913a71af301776c1532757c2cb49f9e8d2ecbc4b6c0b426375cff1e1a72568bb4222d8d94db074002b08e7d0fea3a859a77b7219c2a44279f688a384bbff9ba9af0584f99cedb18aca1296cc3c8c80b1dc268ead31414204cc341c88b6c0df3ddd80d33bcd93bd418e1558314a70f23cde10024cf845771134e57db7998396bbd96387399ff269b089c9a0a634b7f5ccc56767517e2eb8178e7dc6d49826951f6320a9b7e675006ebfee9dd00e30ac0de0650486c008a9b186713a5dc337b0a7f4c646251eaa214353a9c084176af09508512156c8246ddde84b154edbad688dea0e7436d4301a20ccac6d9209ef7eef95d1812e861e73dffc62ab75a9e53530458a54463b77ee09cba38ce473d04513b6b454b52b484fae8c80cfa19332e6a395e087729a3f4b6ea67d3569802bbf6f751c0713144e205aecdf3e2954d0757531a049d3f58a6a3f781b235eeb05ce3ae60d94e29085669a72c8617a1d3e76318807c1cd7b660a54337271fb2ac015aae3ea6b1e516db2767fd3336ea4853eb25d3507598eb85956ebe718c95d5fa37cef88a9b00424001e714faa0f5c3e8e63801b09be56984f8b87933e083e5e63b52f74c0b081c29404175407ea1750dad4d74c8426b6ded44c60d31439cbc65574e5c8392a394aa6b594a6669bf8c964be208544e84b845266df0bac0903c4e0e04c42cb06e8550a079edd639ba07b20e5bc711fa18e34f63e67c4c7402b46b330b605086cc38fa3f88e04b232ff53617319e8262c8dd462037bd479b8141e75bb2eca3c5a04c8a5c2fd7c2a1c5f1acc9f3cd5fdb01b3d3d41506446ede8c3a3a0a20cf8fc8b35f4b9c937fac06ff9b96bcc7578ec22be2a62d6b05585038413dcc1873ef7012346313a7e1336f3857944cdf4b65b4b2a3a84a8faa3cb8b492f56a1e278b53487ff4ea541624f2a55b109a8a66f1bfbb3729280823c532fd3f60881bf2ee8390f7f0470d0ebefb28782dd24f3d5bbf6337b6d6dd8edc5a1b1283d1ec96bec9a00b38054ab0ac852abbfca777caef0a5402e58a2d12a0b55ffceadac6a69dc2bab57b52ea8699c68a42ffa201bedc5fc28b8fb41df5d7215a01f85b3fab13f1e88aeccbd2a1b307fe498f6adb7d86f378380b890d5c5e04a224f23e6e71ada0f46bd26fb5bf0d1488a70e3ed0be611ab5e6f365a152245f7d675765134cdbbbac542549e443de6aac3380868bb90a4c525991f1f66b71290bb941c47a07d22d4a83570a597822f8f6b838e9ae9010854c2b2206144b6f3fa21ca230208ed918996066ab076de8ae87abc499239dfdbeb256cb11a9a540d5a664c7a454130043b8cc668426435fd6dce3eb3adb173cc82d3deafe9e2a14bb542d16b70921f33d207e64d3d1c0895d2588527ed358e6dc772bc0a9e6181f3089f80d34c1c75c600b5e14f8fb8f73888be4ff4d033dbc8a331be555093a5a5d431f6c4d27ae1227aad50bb3bf3d4a0bee652771ad3eaf916ef2500e5b69d99e845efdfc07ea73e0a40340334db357a9a6ded898a7920f1ace7a851f3681dc4eb6c125ccf8ff497ecfba7bc03bed57d9b6d1d25b165035bdd744b5bc6a316608ada1b428b62289c817bf26c60de9a9deb45c87c43ac2259544ae5bd41551a5f2fb3e66b003304256499e9b4f43fb903f1becaa00cc8046571db8086a9d8815a946145a2d7fc36e161a20ef2d3cfbbc93466b01e678076e0b2d66a10f7807c796d8c9983c4c6308976f68de9e3de437a1331f1417e0fa63e6260bc7e7e261b69ee72a59dcff4f2dc964e7ba820356e2567c530f1f461c07d3df9a633b5ecfead1b0d9b5970772b9f0409817205c869c326e7ffc7e680d23a3c3f15a15f2f07bce45a80c8029d0119992d4bc30a4c0013980ddec08c4abb2374b039280f59b4b21aa5d970085174460fc7400231b9241ff035e19672e3e23ba2bf1cb9cc272d24ede831f06262dd03c008e0ec9a064fda95d26b7a9ac72c37c9752dad7c4edc606843c8b6e03947701ec3ce233789bdb3e587d6f38add6df2804ac8f8356b256fe804600ccaa4d79d23b42f3ad70279617895c8c4330f926d5acec47d9a650008f53cc75ecfa8e14089724757a6224c08026a2200c8795a583f44c01ff120bac79f1a3c608d6d91d29fd6e55941d4035e147f678a766ebf58ec6e5b1b2fefd8415e655b3b54e1880c6ded5a2ca9e4c4668d5abd19ec39b3be17dfa3907369e8d399fc71c988b08a012e8e3b586288f682c3a75cc4d3f7ac9aeafda63cf5486879e8663e655ae2a9ccf5314c919e69f8c1271d57c6160456a50f6d7633eaf898265d4f9bf78865e9c2fda451b90d7bc76f4965ba03533b33df2541bf0845e6eac60d35f5cc0c68d8b0e93f552dae7af263a43d288d67bd90f79ddaea1a9a2a9384e3dd4445a0b02132f09c732e633b26bb307ccb90426be2fdcd5aab0e9ad1eb8ba58dfbf9b777d8b02c0d25ed7b23356c505ea8cc95dff744765c980df491db4df4d2759389efdbedd4bfcd6dc7769667918cc504de95779432874d7ee00218c1f38dc550b10ad0128ddf1d5eed6fa020e83beddaeba04dca6ff20d28d7ecef18d790e0de0973f20fbb76c016893c42481ecc2be04bd1589915b534cc0a81060c40e9210551e7fa54eee729746d519796047648736107324acd1850e8c4b393b9d63d176086a3e1b24cc201b2bc290c67762fa7d9828220645ca5dd920b48ab0f72392c4433052071d2c474347498b1ec4621b419e709ecd593295168a8b02cdf70a3708870fa01fc5118042ea41dddcd563e1c04011206e5ef9d6c8fa515e90f027378124e5751896ee5791d13bc194e4b0d69cc3403b456f419ddccae34f301d7dbe217250ac05647b7b9e1d26915c2d280603e4e289f868576fe78f99f48133ade6585649b280a170574a7c3f70ab958ae946dffe8d38a8838a4d0d7523d9bd76299ddc8eb373de7b07f766833a82484d62a4de0285c507ccbd9d965c3f061da705295f8b68c58723e2bc2f8a23ae6b92b4e018d6f33914be1d41a4caa920275162b6475761faeb2c80f7d26324b5996547922ec08f79eecaebe2f06911d7767a54ff3dde49079b8b68e25a4bee539331943307163b0be5fca61ab7cf8c18e39a523b695f9e7df7f2d90e10343be54b3fa341ce68b38dbba95c2c9dcd9beb894393a2e425a44204669bd772363c57e51b932023fef9dec07a43b4bfb2bcc4cfc3264f4d5128cf0283312f1483af24b12cc3dc500b2a6c415b61b5b7cd51c69dc3f7d79aa044fa77745dcf062a5d52d6fb31e91265d67dd4e0a339b92514e6c043d36d0dd672be8a39ed191af55616b70b8bcf77c1e45465570b375a030c65a7a000126905835bf7fff5339de666910f03b96a16c0255573ea9e06298c7ad3a3b64c94f13bf88cf96ea5e2f884344f3a0d0b4a5c20a97da70ef7ffce8e124565d4a161e4eba40798b88535d829d88b7a46fdc082e429a70b46dcafb9ff7d2534959861be25371aedd20411a72a7348fd667ffa6eaa84ed4363b83e49efc3a6bf919ce70f7f458d9830755de0d366cc5c04e6739763d94db37df32eb3547d35b2def4aacd2b2813485152b6b07001079ed59c445e091aeb9abd7cbe4e458bd3fcd2c70bbdd00f64e16c84b54fe9217dc34371b690a21c17dd1ab1e561d62af604405314d718d08a121520cf9d42eaf3ef4f57f335814b354b5e27a62ff61730bd9eac394389bc823affca9aa11c01e08dbcd01a75c67e3a2b1f48c245ee2386c45739daca557e74ea9c387fd5ae53ea753e3f87671abab1fb33a832e697dee77e564eb98539e9e3361d76d4fb20ccd57d3cf7eaa9939f1f61d92728a6069b20122735197fcbd79c0f4aebb86aeb12012dd636a6ce945b3874d5aee63404fc1a301caa271a079dd5a8a67aecf59aeb041f40a46a4e4732262628a51b1f0f8e6b4ba4e5f63c8884441c21bd9718be8eb49ffad0848f8ae08853a3e8fc7350029a9d81f8581f237f888470a3a32b123371cd0da3c3b1c7fd67c4a3be54b904aa5c8d13e4c7747980175d85bdbc6afd00c60c6a936fe7e8a4776cffc39ca3fef2fdcd86965e558eae6a6181d5373c39011968810ec34858b541ab5c92892e263a7c3319e1584c9beb82950ec3b22cd1351e573e97b93c7b85016f3ec671945a3315c2decd3a4d028bbf65f46fe0d657b3b719d9c754b37dee0cc68bda0d823a9fb2b8fcb14d60a909c265eed53234aa5895090aef788db9d2f3ad01e74dfdfe30ea6f3d4e7c01f861fcadc872c6067e08fea95a26f75f0326758df66b9c2f35d126408016293a4bd0ad0cf06061082fb7eb42c836743140abff995c2b239532e402f75a43d87cf9d42d111bebe0c49b2ca55f8260a837872d5ace406f1a5c98a0cb5db1d30ab717dc509d4106dc606817a2f78b1314b7dfe70f6710f7bc190371d12ac1b98d7b9bdcffe019d643c6a6520fb962d6c62d369bce3f3e24e63dbe56aaf8c2dd3ba4848d5769207a66372a902253e0ed24af796284f413bd91adbb03cae601b44f3f3c76421ddaf2e71f1a1ecbcec1ddeadc252724408e87c6ffe5074ec5363b8da9d48c0847b753aa7044c9c8a505fbac9f3be463194e19b3ca100702638ddf10c24d96cedfa16b1e6e4b22d3ef98d22343ff6aacffe2ce61aaca14d3d32b2d63c4454990feae18b43990015e6ee49282563fccce61081c4d629b837e19316d8214a59b4de5dbb0155bf0b581dec1aad6f937ed96ead1a3c5d78117d9eb61ffa072893947194010a9f549b457578a803ee7363ada4b80229ca994200010c60b2d8603e1e4b917446ee608cc0a45f7ce6e129c1a7d028f787f7c2f79897ce884c8d186dbeac7e3047f595b9083400adf2bf6f0c0c1d4677b71d91f0053f5ea7f08b6eb0bec8da24540a67999588c8f66b9ea8c5ff8fe9f84fcf88bf302e419507c7f8ffb985913229ac08c5ec669ed2115cc2cca3bccb45d29fff07a95b88615f9e31c2c38dca6a7d27d1172782eb7463ef1607abfeff0d5a1c09bf79049a2cc5e58cfa26075a886f24544634569f82e89059d9b5d8dec546077347952b116de3e5ae2773c5a683ffab3b76c540e32446481ddbdbdc8ab63bf23a0648263523202931164c790cc037cbbd68e1c3d9b0c28e56f48a1090c971e271eeb447af53ad9d82cfbca2d12dcff1b58276186d0a1f30b4325a31804bea187db725ee51afdadde9d85eb31f54ee392ae8ce60cb4a73cabc8a43be52f7512d6210cc50725d82507d872e39a3068531ee93bb732b289693cdd3f63eaa748d47ee5f126fb7a7e7ac4eb0c712b86fb180ac8d30a606de5810b9a7eac5a63c65bb90c953a510e8d5830b6c3d5caded9b52fa465c7971a1da09bd71007031e266f17a6d4a5786dc02f7aed7d30ce29582d289749401f33b70610edf55cbd4455019e82a60b48014d8128fdc758ae3d626d76978be6e46c7b1133dd0f9d2db4e143f4a91ac6047d52b5a1e96fb491256c29ab17471204841093f4ebf3504cd3b8e6d0b071189fe891a1e1ed086312ca80f8396f123e2f0a11530df74afd19c3ff4f7339b7d5dcd286f9dddaefedd59405c72a5ee516a1d257108ad14915b3d53962a2edf8cce7e8808ca2cdf8a87fd189fa3b4ebc02813a6f27e5d848081dbb1f7a3a1fa7e2e96bc359e1ad0630599438162b1859a0e74eb50cadacc1c6377b9a252b54d5ea6948dea1cc2a12a544e01956dc14ef579c4f2c5a129f67f7c98bffb8adb6639829330696bc2614d6f3a40d6dc2479de74381436ea69d5bea641648787d32792986cac45e7845e75073d3d6c2c0afd42d25bfb3876c95d33940d1325936ab678db4bb6333295c05c906bf7d61edc6c55e0b09dc0786660d1789276f21949abbd2d672ec45d2b270a23f6a6a3d68b4253d6b6bd1faa816f5e54f846407fc685be51c8b0c684b062c5174e39a2560c5fdd32b6692a7eea19a2795955cc8d7f6f19f94969bc031881c52af87db65f3b6f096d703b9328f551a7436af0387638d0329776a377391394ed97d9d0ef61af1e7b597c515a06a356cfe3040ace47ce9fe9044e822f5c40c66a43e67b471f3ed007f489381d38386793f38eba31714c321afe774c69d7909dede154b15e3f2b0552e8a1513dbc2d274878dbd2bbf0a8dcd35646776ddef2d45222a7ed40ac996bc34df3c43becccc9e36552be2c3b4f2221f8f1e2f129a1498d2f5e7eaea5835492934d3869d7140f52155e988134ca863d941a648e90c5fcae8ab1d7e64989afdf70ff5f76f6a2610a8ea3588fae6c6800956c17e4e15e6a011d1cf227430b881bb18289fd900bd25d7d395d8623c0d7cc4b054ed18f4f5201682582091ae825b7f98ab0f01cfa3bb44c80ee3bd6fa824a921182bd55612d781c3414daa5390ce7145126b64d08ed069e282096a822f6f815d8fe43f3620eb4221bc11f0df76a83fd7b2a2329e6f40ddb79ed989a2a097183559f2b8a41fb116c079e1efcf8683d1fa1f0224479a6bce6070058df73a47cc83e3ec8f81868348dc937cf24ec913ec79d099d3810cef2ce8f86f8b066bd61acfe63e5ba097f87379c89ed87360d1cf89f3e573f928cae88e6bbe44c0c21f4a7dd2cf429d1ad4a9c6d5dd7c1edcf0de9e02135d664462aaf7dc446071e2b4d4b46cc8431c0f2cdcd0f00c5766c0c51c01b5ca9465d974af5eb2035e5464862a2334b2314c03d6b044c4ea460298d777c52b208d8cc454e7ff7737030d520ba23def33b412784548d2002262b4ba2ea46c8ea5cabde260d1f90a3e07e2516c11e3a088619d12b4cc8c6986661175b53cb219066bc724d639e870bfee64cb83e231260f063d28258fdaefd07dea716055b65b9a242bd9623930741234fae42500bac9cb8ab1aa4af255d26d49634d4ba52a9c37dbb008d8600141235f7e51d5723c2058cfe7f30a929b0638559f3b96ad8b7b1eb5eb152fe18267924ec55b4d84f7426c994bf82bc5ec8688d2abec910d399d06c8eda62547ef9f2d5c53ce78ff186ecdf7169ec9b12f08295655f81b0c9572381846f2fd4e45de98b88a36a205175941040c74971661bd4c47725e072a29d23db6fae3609f4e58db6f985713ebad8fae91cf74cb38f33aaa0009f2f27cfa62a75bc21b3118426c7662bb10ceb51d5d5a8eeb528a2f0564b105991bee59cbd9483988b3734cb47a841689a6d2f4dd0e698d3720a49cc99299bd1b1e383c897609d22b47b48d52230a5b057783bc3b02468450e0cc0ddd4987a4b9a2adc030619185d3317dcc4a2dac770d663ad36a6e96b5c595f64b2b9ba2698fba90217baa2d07f372af9ef0702254cb914807e4e6352081972fb7a49270972a6ecb5db2d43c0b9c3e594154539c6c51acb889fade1fb0a5c2b496a1f922fa0e06435f5efb8778053febfad855f1e5e7605c18a1f786832e65da3e430da0cf1c1ad4b5f302dcff9c615ce6670044803c7974752479b8f87e8f5d0a1fe6476519acc42c2e7beeb9f2db40024d75e9019d0b139132be932a0bc3fbb5940d88f7670fc4f3c2f3f1834d3d9e2e059dbbc95ccc7012e0e8ee8529f07cb804845254d0f311685d529ee3f2866b5ff462fc6907b16036fc56e9cc0942e410bd8144e1efe27059bcbdf28bd82338179da0eb3629d6e0b5a3bd28a95910161f80a1c5fc7d8a34c2da2a195feedd160efa77236a77a58c8ae01b29ded57104d3d2d7a405d256f50efd79b44d3af4b52bb9f98c204854793128ec1f2715c77a4944009aaf9eea8f804ed9d13d48161a92add4196cc640ec8a732765c0bdd9660950f36b4ff0e939f872333849e2bdaeb344cd70822bcf645a0658ee2714e0235f0949aacf42ee1ee456261dce56519d4cbbee61d32b8d5e486bf30dca94e5aa60544de8b51448ed225df31fc70622bbec5d403cb12e4190842baf3a062ae8e6317ff7713355a66b7d17a4fad75db62dc64f1a3734a11018f9cb5a24be7fd9ac8daa2ff03a7a4d17c95852bb40bf2f125ebc5c5aa8842cf305bf7eb69ee490f531c71a9a2891c8224089930011ba9c2fcd5ca8b5571a38db1780e45a7a7540a1bc6db9ada8971b329c84b01a355599ea5c430b673ffea8f34681aa1382cb399bb6bfeb6ef12d46f26a11ab5d4fd57b3074305510ab5b5b3290bb7631fe159e72afd88a35fb0de0ccda806f8c927c029dd776fd576cff9afda1feb3a045edd5b5b349c14d52d4f5c5424192b75f2247ef8fd84ab18be385365354981987b40918efc7d19237f529f39b40116ab72e7e569a3140b48bf57189c0f190c8a5626b4557e04012f6ff7c87c20d87dccaeb24688d32d5348fb35edb825436a11d342112743a7838b96e2cddcd022363044f392b87284f0e69eb89717e5cff3957ac0111acb9565a52d3de074d462053901fff90984b0794d3535f048672254c14115d1112f6fcddb85668267efabf0ffe638ab096604a39bc8ddcfc8bad5e743cc7c5fd5d07fbabe8ced8aed6e31f2690ef5ad766ac345ee5c5d361cd8ad3635eccb7db3d87a1879e079256bde43cb1aaf7e2fcee66b2452040951c45641f36d4da8dd15ebd89aea092ef9116025fe4f188afafd7e0e3b7c04dec58291b0e3eba16df7f6db82321c66f1016064dd0ff998661a4af22a5b262ffb8a2d17b6b4479ff6b1b761aa38aeac0f6bf75c14c09445e57751530068c916887d676a309c6af8a39a40a02c9f92f7584c1e56647fa50d80128670686d7aa8496c0bc5462b0ac15b10cef58ed72112e1b324f9ee65f6791f23046cf702b821a48c9702aff47d56edaf27b1a15e4c0bc71930f637e6f4daa2af0ecb75c188a336df0ea3fe15d8a107972ad79099401d99469476e12dd9c1bf48d51d8c7ae68b31ea7090819f416f872f3314a7f2ce1f704bfbcafc00feb5204e938f99332b419256392eba9b88ba0f464d899c039c4bbf19af601d50be252085e714d24bb36c89c3830a6a140e41d1223bfd230663941d46d5bf8cb90b6e07c93c00742ef55c9c7ddd9eb466a1dbe74bfb00176b037e70dacbfc84cd8df128302ed4b7c3601f62904293523c51b32fafec904d5a804db01f3a66302f831cc154983e85b7c6ae35f53921327927e075a6dccd3ecc4ae224f37e63f8df5fc2967a91a187714c2f88e85463ef6516ad474d2346f600f40834d791a3c20152e5a9c5704305c58a8384dc2be073e36bd89b694198bd26eda609e488b673c9ee31327a6f1ff90401413adf5079e30c9e416750f080f3ffb7f990d4acf656301bccc48cd97d96c3bc6800bd7bf143bc7000786cc58365a90fa96fbfc87a02e4f96140367fb6701537043094a986a2115b0a1a95c8fa899434c107f16afb8e6007890c3ba060ce9724f57ffbb8d29bdb10c1011a3fab90cf1dfd2bbf5523ea24208a2903cae80dc98505164ca2f2d514328d207100f2e3470d1c46e6a33bf1976dbaabb6dcd4feebe335483c591ff0991e8acfa85797cef650345335292f900eeb8e3c1e8d4edfda0667b50495e332d32818666d8fc20731d99220a2b4ad33a020fa5397d6e45c774288ae9ff975e6c94387224659ee6f4441d5f904c00aea798bb6138db8a870c21025262d24a9e0e404b61638df25dc8bd2beefa3b180e9938cdf691e7212c503b98324bfac5982c1601cd6b9c40e42c9118cd924ff1256be798f3abc3220e4693eb8436a068a889ceef280eb3fff8f2ab18989f4081095b60314900401acbb1571403804193252bfe86a5f0cde41eaf0ad982aa19646b7298d50128fd407ee1aed84828fa33aae3330cd4996a21301fdcd6a1c870ec4f05f4c5f7b8f6e12d7b93e1cd8b17b258cff44fda201ae3082788fc2de8d74184ceb08a49cc0ac4a22794930786102989fd721570db54e897f369ce36278cac41a7ac92fda9b91ed6aad643cc213dba0f6789318056533bbf18cc8f2570e106f794fd6f54218d7511d0632f8ad6cd098fda2514ba49f62462c37893aab7f63127963619248334b4e237838e49de6e07ce21471bb90680abf001e79531a23a3a4c02743ddd414b22bba9c21ecf98f331cda78a8dc9b343fc2e22cc4743d23dbf1ab0dec9511ac2649024d42cf6cb04c12c58c6381a31854044e90532d21cf550d859b999a25939c09b1654652db780f11ee9b39bb70eabf6278e4618d904d10a59fe5947a989c9f418a7eccfe986fc6a69a28f4fe84dfd0b8b37a93f1199337a4bf3d1d220cd83d198f6321a268afce9b9d936b3940ac8ff9ffb7bf7a17c5d5700dfcdbd78cb196422a4a43eff47c5e482a6f1eb65b079ab7d28b6d5a081ee6873b7c61ad6ac0f53e5b587cf4e0a922deb3a0e2210818735ece94236be02b91aa3e442e723146a84ff5a602cd94e44a8042d1f783abafae46d39266c6c991fe216dc0fdd5e8ccc7e2b2302aea026ae483e02fae222f48dc851a7aca6a1d04b59e6ff8a30d245c7a893591ce44b2272800e04e0f7f1b54701c8176f2830b7f0231db469f4ce51d48f6bd2ec156730dcf2140e907ab0bfcee0443dee0fd45f6c211ffe222004b388dec4b9eb0371bd7b5ff7899ba0d76e082bcfa4c6fa07cf5f1ce296e745902bceb7ddef0e0358d2cfd43febdb4ad02ae67c02de8729e441dafcbbc9921648b18a24bb5255fd2fc9c1822c9efa0367b85f28aaeb63178eee5123308574c334c4b38be7f55472017beea08c6a8a40899c825018a3debea1437456b2dc47d9578417b879bf5751878447e41b019a6193759cbf21228dfd0cb572967118ff12ccc12c23e1dfcaf75e8660880fd0f6896660773dcc1683d424da059f2185c59fda1b3b12824810c50cef3e785eeb4763b99d36d21c634223a2380f03c0c6844aa72fe6076adf82cb1ee1ca0c83c841691cc2cba3b31d81fdcf30120495afc08dfcd540c606e7f3e0c44503c3aeaa75df79cc38b2a4353b5bdf4af50085c1ae0de077387606a7f6d91308598fb15e8d2e916dc40c23523f0941129a8ca867b0dd05148f529cfb7a7dcc298e8af756aab263363e7b9f504af50a2b0fcc25f6a8ee0065d2c1219b4a5dbd5fad92e9425339414b2754d24eb1044236c4868b2c109371116f91ed9be943079074f4afb59c32b1186c4c9ab599ee0cce47035c4aa2ba0fcf1f9eccd80992d555b3d4db485e4052ea737e647e9abaccb93b31beede38345ee9c7367d8eb3eab498a99b319bf2bb9f2244845974832b87ffc57f5ab0b739fcbcea6da03b5dcfc7d21224f119ac51cac8652e64a69b52b335ca199e5bb29f7fbd41b84f8386313a245c930953d56fb50a796d9fc9a4aa09e83162f6b87fdb419ab0bdf6d990610f13c39a154c758c955753c1a10d67303852082e627156062f933f15014524a23ddae4106fdcdaf28b88e6f7110c35f75f053701ea9f9a896475e186457e551b305aa469f5c63409188e1cabe84a4c6001d0c3254d5aec4b05cc4479328cf9aaff32bfda7b7e47a404b94f722ba63f9af7a018332e7eda41829ec1b0d61ea87f02f59a8817e236edfae3ada6d83dc058ba26cca3653b2491a28bf26ede59346a8b332da9f5e707a51c0aed45076f9a2899e54e2443c6017572178f043a36c2b7c8551edb4a59e3bc01eb77dba894a531d0a269cdd9c8cfca0ebbd448cf02725960b81ffe1acf2e9d61440d78d4ac156741a43fe6d308805e86c0b748d6f8514b262f026f66bc313fb0f7e74c8832c8bc8ddb484064b2aca6715337ef0cff5538326a2ffa959ef64ff9affdc95c0e09246c22eda4768c5f244b6c2cc78ccfe48e22e8ce84a852f3789141aed601a7e6cfb4ef950036a4f40c16eb8907f120d101849fe2dc1c32e60f3c4a79f881e597c93cd331426170a383e6aff29514fb1037ff093c42270b8cfdf03288b72816df84ed497cb7e373e36d72ff1db9d8ca5f23f2b2b408c89f80a21ec4ac50c41186db33f77e3e5db70c2f14c94dc86278742dc84390755f8a4606275d1db9dcf15736b1cb2d648479420ff03a934e4ca68e0889299bb5d372b5008ce71b311eb79fb458a6b68f74eaf2541c71ebe59ac9ed25785ad75a582f023d129a6ea4693db36f86e8d9b91b42ebdf7a708db99ec0aca3f20c1c617c6f5edd33d7ba3ecdafb0a4683cca532cf2bc610d4ea010fff055e198215c6317b34e88a195c29ce853787716fd42808252e420505e8664421627e4cec07bab17c70ac6a1e80672a511f33b51a191e339415bf153c20a6c5d24bfc3ac3d17c168cfad5b07da8ea21478554b282425930442a971fbec9a7786d854ee16d44efcdad75f00273544df7bcb24a4d2e34e3ab1b4ddfb834021aa3616b3654a74e1a3044e6cff9f427b2729ca42c8a88500ac77efe547131d99a595dd5ede4cbbe4469df811bb083fd5f95fd68d7fbbca9d70765beec5e828a7e25ec03bfb43368e76b5e10d86d5457289ef704b0cb04d54483a846478aa8eeeb483a2ad09ed311d13fced5f14fa24075eba694b66714fa4b022d2ccc2ec7d5cb13ce6efab541c02f336632b34c450637f4b8a9284da6b49075ffadf275b2939e550dbb91376144b973fcebb41a3a00a25ec7c4cb34f463c34621656869450ab1b485c81144e35e85644274eb45639d2a751cfc03c57af2aa89fd0d704084ab4738e07f67efab6c82dc5482a494e29cdb68e3d3b21bf31a6f709e50ca033bac23bf0f1cd595263e50b4a9beb853e93294e0b274ae5f99aee9adc01c5bbfa80c920b77eb3ac3a82565710db4d47bc16c7145ea4b3a4901d9cf55c8e29030445c5fec7600caf7d0fdd371d42e18de9029b240c0027abe497a17ad0e05596c6acbea086df7c3751b08e9eab9354bc14fb6f1a75f5d8584af0d2c9ac0042e7a1d121c9b32ca63454854033bd9a5b6eeadb319f009619a90403e30e8e244be7ab2ac25d15803d790ff370b6579029499cc13f7540d3db908fc9aa202a58398b45ce10eed1966a7008c3e7eb5b09f77021a6033735b7d5a1519ede4f8ada822ca163d3a5556572c11e278a15382cdb2205f55964d6be9fb04f827e33fad3cb88e2332d034597942ab4f7e6bbd1be1584802df68681d2b6ea2030fa28bc66ed8eedd49a68cf33915f5f819d5514a8f36d7377d72579a7dd0ab079d78ac652ba5bf21b684fb808c97d9303e1b6ee22ca9ae6d84421b810cca94af0c3bd3bf561afaabce37604259695abe5ad5927368821e69315dc5269a7b4495befef3b71f568b2f9d9a002cfa7eaf93ae1d9698c33fd460f3e6cb53e29affe7bd056e105b3b88264bc377a8f37fd1d95ce11824052211f343758c6019c27e423ab7dc09d7e71629b21a10e721bb423e0dd77a0a2f5beb50ae66c8180977e142c1a37003ae2e6ec6a6679ae1002f690b0cbe37fe44d0df61cf54a78b320442418638936309d5798835776ff4d1c5045dd70ff7dbc149e7f160df0f6f15d42214d805de3d1077da067bcec2f4f00692b339f0716255aeee20a5ac84c13320faa77df6d7b57309410bcd3f7893270c5a1a8f8dcacaff950643078f623c3f86827171c1bd3425eae7dfefd9fa770a2e5fc8b2e21a82222edb36b9beaa55466effdb4822022c495a3287aabd807e5c0d86a044d6fcbe17e2af3e2864d08b5cc898299749df6dc7060bf5f0d7495a69c5bd815f0ee482aee2dcc1efd33663c4aefe2018eafd120fb0c05740f7b4a8ab93c76a6cd11d3c6135cbe62d420b0e923ff09fab7990a3a6997a803a0117eb10d60ca467aeeac73f9590c6c996d087d077c0356c9c9871d823567b7f907cbc5f700b8dd5bfb46ece618a48fc5a85db60d2d2773efc41785db78d83b33cb4bdaeb46efcf768624a35d90f01c7bb2380830f7680d3995a6d4842c56b4cad17e50a7498724c326519d2f66fae91f1225b29f0996eb60195ea3a090519f450bd33f5475b013728d528cca83dba7f532c9f4b51f3b5bba8b199316e63de9d614cbb6f5a7c0239e27d7046fe8fdb40974804b63753c7863f5abea42e5a02de8fda73c6686032dda8904940f3045c545f392d97e064245c0d80eddcbc4bcc53947903baac1b3e95303aa15f43bf920afe1d8031f64d16b55208a9c609e48f1f4a780eaaeb4e8f50fc9fae2d4757bccf22874bde01276a79e53c602216c19df8b9654eb0a5f35636e20d0eae802f4213a0e2ce48d39af4aec328cc2588ee14259c7772c9a33b1db11be9a620fbd59ecabf49f12d79757545f131ac7a1920a4af3d321d199db63fe4058a38cbb1c2c5d4fa77a38af06b6ef529b68fe48f59e6c4242959117aa9851e018f64bf93633ec135b30d351de0c2df1ed573bc491aca43d63c2285879231634294a1f71eb1749a76f5e29258ec743e58a1f8f498c53a0eb98e9af8d6aad8f7c489fac9578a593c49c4eeada4e93bd408abecfe26bf32b2e69b86a18ebeda28dfbaf5e3fc9f9aa843fcf4859c8d4b8c69f4b6cff5929ce18d5ec93dcc9bfde6cf131e857b296d872a3b907fdf9b44ab904d65dbd4ae5e4710670ba0d375dfd64fb04b59cf3c99e26935d1d357fcf7e87a198ad0a037c9bc126ac02a9bf8e8c72fba40830f541f8508ac5581983b5cf2fe4ccbe9860b347f50f6ab9d7a202d2cdd7995d8c25e364b87315cd3a1cd100ee38f086e8dbb911b3c067b70e8cc3412a23468c44e075547c67feb8f2367b730c0ee1c963124cc515c693db39a9c6b162c0f998048e18ea8975c044e011f162f9a69e1ae80ca3788d8f3d802f29833430330ae7a68416dbc8cfb6cb0ab20e5a3a402c62fc1547dcb7f2d64bc37f8cd565a52fb98ffc866ee85dccd5ff4f226241ee824297fec847d5dff888ac0584d2dadaf8c0c6aec800d433a80b0a47cd1aba9815014ea83e363504c14bebcb4a664eb08d8f69e626439c0fdc0bb1e606856e7cf53f40245789198bb13bf3e94ddf3d67f67d806611b91ef902a351f306a98518f8943307ffde0dcf2796bbfb9d85beb5b219866060dad98505b6fd43dfc8ebfe3a60768b709153f9e3f5fdc099e6f83a6c8ef885a765b60211f68ec97ac168f91e5ce8a599f95383b20db4751e99a39134546b224966985783c04893ed7a63ad4edae345296351ef3c207ceda9046e03bfc9d0a0cd146d4520220de6cba5fac9477389859a02a17218014eb53b4db533272e1be937a5dcc24e23c3b3aa46d763638001b6b06d9781298501239e609e72a2b2f2ec37a4b5672de0198b4835afbca9e78ff4957c82d26dbb38acc94d5f43b90b827c4de4ce5ec7ea753e90dcffaa5f54df6f2e7c93f032eb2468dbbbb64e0e0c6e6bea01057cb7ec68831436f35c21e709540a5d8805d840f1b2344bc3893b9fcf9accb2a03cc9b9c30cf03f3c7edb3032dad20f3ae617600c69724e13fcc3ca75092c47710070ce6b4e58b8046984d1a33443a26ef481867342eb1cac0b0fe274e46781a729f01645a6f0b17f67c844f5713236166fdb9f5fa47ef52e7190fffd954f786603059b0e4d20f07bb963551d4e36776e618c4da661d1cf45976e56bd727c7d2bead095d0833524c749d8ee83195f9cfca687c3c492f990798dd8e1af66c2dd6c24001373b0c7cf841724635f9888225357e813422a429538ae2f5175aeb9e5c808e7e9fd9c71d220f3b8fb3a1c421df8085371071600d2dc69e72d0780a09e963c8c44e202066ab6d8a236877743fab5cecd5a3351f9cb3e3399d0f7ee686403c115ddca32cafce309eb926f4948e4edc3a2e58a4836410b656a705b4d7d26ce9e1d364d58c18851a85258ac189eaafc15f9b27dd55c76d12a2806142656afb6904e65b31ef37c2764434043fabe43f485c71ef9f1da1e0c07b581ad03bb79b46c3b10de7f26632aa391ef8d89f5377c82075933e9f6ecf6b1d5405f62e201def5daaeed373fa6e2d2d6027121f779982e1262d00a49f6553565c532d995543eb8c9cdca7c7d73f00780699a9606f86b0cbc9e0959d0cfb6dc876ff3dbd1e0e47869f8795066cdee128f5f8f289eb8cfe9180b1a8e8eadc96ca2a2da674c4769098125f4a25698d1d0e5352fcb9accea7665ea89c05b13a0fc8c24e77bfec535b2e8ccb8b00682e6627424d0c46b6bb3c2c0aa6feff0c6317654670cf564a74a0631c7b04931228ad5c2a2a38b33adca61a41212de47cc04b13151fd7cff25f4fe2fed0e91cc535c55573efc9f086af74ec5cf0bc8ff16dcea5afb52501f11e1e9f4089f5904b664db98624242186ca35fe24ae568d020929def314d2714cff9f0c3a75c206cb15998b5588d328cb75f86bdcd48619002b18cf8b0978ea8e5108c4bd55346090e77188644bc62fdba7b013b8725ffadefba910fd545cfe53c11a522f2a319dc9a358f10713f8f38538c823e6d269b7eda60f160f6d7cf747d8cbdadb0f63e0f26a5fb942d78311500544eb17f48e89e324b58b52e24f69b8f6fd4376a58c78b55ad6279b68a3a98fb1f158b6cec53e44a8c5ae3b00c0e34488604e39a6822f225b224aadeac6222c16b2da3d8b45e556c78a8bed7d31763910e2507cca7188b6ac11148abd67b34e2c0302c1eb7875ca421f8d828f87056b3ddd0d58c38e46899411805144a67dad9c280d5ab6da069f851538e2101bce9ce12590d092dc3f5d992c98920c46b8356a0925619db4c534fed65af5b8cd6126d8f7a2681f795e14bb513b97b1e9d927cc388cb6d8c663dbf63f4db03eb52af1bbc323f43c39791244a17379fff707ebab6ba5b58b32d726dd59d42a168e6235de253bf92b1d6ccd3b2e2963dfc8ded78414595ee2629650bd6757824ff5f2b1d17f0c0586cac49d12f97096a9296788ef8e40a19e5a62ffd8682980af27cafede3be5088632dcbd601e1ea125e333f2cfaf9079a92b663fe3385bc1182848ee32011a27732191a1eadaa629cbc5ceff84f06aac5eb10236752e1e86ce92c9c6b45e4ab945afdb2dabec4f29b8588b66347810184060173fcfcf1fdc33ad2b57a7b9e1b01f587a7e065a2ff591e8e9f08c37952ca6d1798bfad9470ae6bd925a8bd8aa62416ef5161ff69db0b3d54241db1cd44df679a7a14cfc1ac794610c29b20e08dd1b8152805fcba561f8ef8e05a070678aa5ffe63a24941134dec1b0f2239edd7adefad3b83d1316c07c1c3522415733f091407bbc4c964ea8b60472737704b4a10863e4501c5aba601e4be029e277727dd878a0c4315c979ffad056f13dcdf6690645add1023e843e55dfdc4124b517cb754d10166d03319368d51d5f2aeaf75615a3514f115859bac6aa7307a735acccda445a567ecf4f9c417247394aa49307f4dceac87c1207991eb9cd2ca8e3a690aa3a08787d6360eb3cd78adf85a6d8a17e300f6400ab4e9793e41f16f4c1ab8df644649670dab36da35dbfc2f9f07acd449a5f98b4bd41a7ede659ddf93511b7dd780ed738d44d9a7646b5e4e3ccf6069160ab95ae66f7dee3dc2a4930a31d94834a73371e5a6344840c7af62317e0869f18cbb62e824c4aece167e98dacfb30e2456ad77e24ba6469227283c8e27a29c16a3c198d1a3ee14125db0f780c5412536cecd59c78a3a4736af87f05da977f54270a9f0d6513cc78ca9569b511c31f1513b1e9c24d3f7a0ec4e9726a80189b865ef2054a7c55edcc18d28ffadc6f777416e7b850cd23314a9b54dfde34f521ac35dbc0be1da38737a2f7753d524479563e280e48c3c535d6291687b1903bd455205e08d0230c879a6d1d506f689747442ef46f31d2ac7f7bf7848aa85c6f8881ab1532d3928dec42d30cf149b9f72f592a559c6575b6e133c2efdd209ac4db36d2b1b89303eb3f3e3ab3bbdbf52024fea0cce73a1bb07e5af01e9216606e03dd893a25685e63b7cdefa756a0176692a050242deeb0220b74ca763e561c141d787e6f5a6110e7efe43900b047c34ff2571217210ee022396bac93ac443eb8d5e930175605b64e5e518610d0de558633c14b02cace91f040a8d01d0de453e79c437f56b37673f06319bf964c80baa73453abec2b74ec0fdce5cc38a7288dbdafc9505facb0a515baa5980e48983d44458b3e72073b97d1d6371654f0e5ddb43f05783643e493e913d5538a6c3d828a387652f6b9295d0f866b1996a2773104de814ab465553f4b4a9a87cecf52b7ce79dec47b5f9c598f8e0edf5f78b9be5400afadfa45122f1ad28edee2a98456f09213dc2d64b75a3becad49f534f2c2b942ad4008a39fe9863cee46da7983f519ef354807e48df6228e6cf9c8e605ba5a8a4c92a7aae3a5b0c0bca1e85c70dc4d6476d99b9e52ce49b51a660b090f1a56b930295d920e971ed9589394314ab0d6f7205b6119f787cc8b87f92ef6a9ed9c528af4cf5e921ee5f97cc9bb29bfae21a7e1695cd0aebe7c1a99b856f22422438ea9533d0efd528d1b8c55a72e295c4a98b8668f07666a18042c110ceb8899ab48adf1b71868e8ad65d191511cdbb633ec409c8ce04ca5891cf9d90b81cc2c30faabbcd724807d7f10d68a418277cce5028cee5287d6d4bad95ec8203d476b8bb6e585b30d57670307acd176337dc736d3d1874dac107ab8a4bbb4dfafa42f366941e64bdd9b227036c7d80e53ccf7e3bc52ac7bd33a6d9ab75b975e898c7aa132d1c97037fe62727f324462bde7a055601172703e45bc69351e85b433eb5d0eb5519fa86df2513fb911cd95b56ed7e4c1b2156c4becb0dc35f0d8681b38a3f9fbe324d6627dd37e434dc7615bcfa6e95002901d7b290e5c45ed7a5439fe7f97ee4b134f9c110567c58ecae7250baff7a7455d5e416207d66381f69572e8e6859adfc2a080063877350addefadd574d18e60d9076fda16cc644e2a2b49d32bd20cd1c37b58719fa6599f62b8c77957eba508bc923afb0369089c9b637899291456efcd6a0a51e90c3b7a493b3c952c5e43b31b4e60b8a8395dfb77e3b3a1b418679673ab8b3c88cad2c498e226d931c61ae4d0c5b3db9216205f6d1ead971ff34e74ad5f278dc9d466f6cd84e60d5c0f726640b4546258db183fc5bf6b638f07ca5a95e463955c0fa39842be5897522ada376cedcc8a4092c3f78f95540c8307263ef50bc0c2b5c962fd7b4c7d7b3c2e90c07ac78b8b148a411ff83b235c475240b7bd08c3e29d321bec911a897e87c228cb2ca2f19a79fb9582dcac7227aebc08c7613a78a0e87dd67ff170a56eea2c4bff60cacdcd7bafda31627ab3e8d4d4e8a06285b383b40e79b7a552726229e284160666b7d4dfc350bd13e818d2670bb74f111bfa485770be77705f96a63b2c70a2466edc5155484a05915a239cca08d920e2164ff2a6832e593111ad5d347eb6a83f14870b40d30dc1a2f66d9f2c1d3b096c10d6ba74d14b7f4e802bfad9d4c075916f61949e9a863828900a4f17c068a0418af30df3a1be198c1d4eb5909c7f7c441434d6eb206c4f251c3213af9f3234297969838386a26cd6df94dad9b825a85a15be23005188b0484317d88883177b59a0ea07a6cfecf44e018d38c58dbcc8ef6cfe7b3d8a8861dbf828521a4a9e7d10ee466fc24887309483ba56e363dd70567ea48b3e520ca60f76389a63a12af1f8743a8b1e583d9774562c4b05d5bee431b9e72b976fd2ec1feb8af0902d444c824acedd1209b2c8050ca5e298d89a237865deb5b2b024da447f0625a8d844f34f9a9f97cebe458869ca8421fd7efde697f45e238ba40e682c8e5c56075a61cb9fe11097cd871e8baab345cee8b285ac11be0079c7208124e04d686188ff3fe77fc7313d4b3f5956de4767c35114b02e20d57dd01a0348183052e9b5d10f196db2f37eda6a08f74b42807bfea003e83cb0baa9bdd6018f291024ee6cb4dbf4fa357d7215f0a6d72bbdf347ea272fcbddb1781349a5da5ca7ac706a500356feb09d3afcd831ce77d3fc4f541c15e421f5374d5bd758757c877dace49694ac41edf385b837ecfa065f75f0f8d04e54303236fa1e734e115896a366c77f1a7b5d17ca9d8df141aa3c1ee39a599f61da71a0c73d3f08a2dddc00f2a2e03a8cecbd42a11ebf7b503b6074364e0f3157a35ca512253329df541258bda69530f3fa09edf5bc9736d271f7222e13db6f325b5009a6c89004e0423a5bd82e84b10f5092fa06c5eecbdc477846b2d54b34eb605abb682b3cf6ec2c9fcc492e280da9a6654a2022d4c5c8cbdf1130737f5c2c068caf13c294696fb63ee807b961d2c1a86cce6d783a9675482907d522971436607b21f8fd750c7e658f87c0ca1f0b1f5128cb14a6d4ce7ff6303163ea52bf010ca118c29dd0617e4ea90f5fe68929da94374f1207e3b327658188368e403d7318f5975d3398b0b72403a38760946f68c90f0dae67dfca8b98ff8dd651c900908f2f03a8b80f9e992e69d95efc3595c7c881ac358ab7456d795c88b0a6f35d69a1e5785135b455a79f94b18f67a522183b72a17a09699bb65cd922eb077ad490d5590e210c6f77a9ac24f221d1838b2747f703cf763c89250387fa8eff049327263fe240df53512e5be7025a8f366e42dbf6658ac53493283397aa3ad49c16a64038bd199d5028fb1ff182f681c49fcf4f37ad86e5b88db2c75ddb61fe4ee6976dfe734ddb6f0f230b9b04954d7886a31f0bb5b8b98d3c8806218c5f20341c3898cddad3b3c4badf118c37b710f95965682308a03fba5c1851fe1a56854b1337230d205ec8c566fd04f5f303ecbc063b1fbaea677026afe907239ac3a1ac441ac59d1c93b2e2c84ba8e450e821b51976ebbf22693732c803ff6a055e9af345d26d417967e681e559c9a90572f6e82cded39658b475876d515e1e1358b61d3a0e365d9d2dfdf5a3536d1f8c924b1d2b293b20d13f2c5d8f4983fe57a877f9cd1303f29933e7837b7e71d16db3d019b1bad4497b14712b640009894b271ff4186fe6b7c32f4bf2c67ad57049d31874e6920ad761fcd25f51c6c96089d9382a418cf2a6cd56d07e6f0149fd0a621b82f61ab995f8a434a0da07773a75ec5ba2db5002cea4f8e804739e8f1b9d85e90f420f2b255dc9636fd2e8af5908eca2c755b96e9ace004f99294770f0fa5e9dab1f15a48cc3485ef82eac857fd421c5dede301b025d1b7d652853aa2f42952f883890555751cc1d2833fddbb16f485b2d5b94001dbb345b5ea6e26ebdecae7beae5f048e9ac9fa4d7b55ae7800377d81fbd6b98b16923105b033cbab3f523d3f2e9900571ccdf2874d28fd81e9cb1a24c1640d03f23f4c84fdd58e8edc458a9946384ae2a16ed3e81ac46400f99f2741468e01267bc95184afa3cf9264937d2f0466509c5ca4b05d9eff6b19beeb875c4b1ffc7d6ad59adfb6cd283eb2ce0ce125edeb9ca55b5438be092bfc98f7ecd3b1efcde2e30e69bab25624da902c340d84e3acda4cacb56b43a425110bbb7b66f67393d25915330575444d2d0dca65bc7c5d0582fca812247041f9278299a2da052b825ce20b49ba6830fc88fe76f0f0ab9ba8b2fc88ab33314b3c02d616d6c9625c5583c2ca8519c31a9c963003b3bdf7c18730ae0aef42b60cb50d2997f6f7b38c01cffa3e06bb567831a31156e77b1f696bacac71293f4bf4ae2348776036bd5e3f95a272bd39b2f7474901a6c04e825033695487623c01672ca3e5d167ca5186a1f9293151a4a0d8804bf6f5a42b67618e826a1c73a077f68a18f4fb68b31ce56e5f7267e4686ad20af02f8246446b395ab32cbc45acc65a9278a6b171860b13838ffa5d80fe42a8319af63b305ed1067b17e53ba8b52dfe5382a966c13bd163ee99d7a26bfa76434646de3e48787c2dbeb4f8c150a190df8ed5684c693196234ef647a5b393922b1e7e39910dcb65ff73bb58efcf051fc0b699e13525900a781fd2e67531a47a19a83a394eef938cf87cc4f394b0acf234ccd5ab9907b1e044630e5134d1891ed378b533ec30cd8e509132744066983b14d91a2cce66c285e601486f6586897b4361d8b9bef5697695816063909d88c4b83859cd2e83548340d9b6358b5f6118a3de58e152cee343adf04c6063a962c0f6f82f248c7b6101e898c0a6983215685ed63523832922311816aa9496a669687b9da4736958b575820d12153979771a9cfde0a1f56a3a49f19367d4ea23e529dd6bdc04b5165e5a1d6f7820bf228905a87249211cbe3149a5994c117b8eeb13b4f9d4c8b945d56f2ddf7fd3ece4d08efec9a99740802a042709f1edd27cdb70f0f1b8fb815443d5dbeb49c6d1ff7d669283548a146d47dacb7dfca6dcd3723b901fdb0e2b351a8acf4eae64a4671d78923e2bacb6ecc4d399650c6e00a24a08c2d1ed86023de8cb56c0f8e0fb90357420297bfd973c2bc1520af9a93036477a77183d56c58c496f874b4307f4884768990effbeea876ad4b0bc9d45706496d62cbd12a3b71e5b667609323fc1704410574a9557ea2c1d5177a00da8ba4d964a9e5aa2e5018782bf0f658bed11acb7327e924e31c734f76ebd848f65443cbc6a413c8a9180859fe7839d6def52db89b0faa6f68bcfce1309772c7401804a3984de52e3bbed9c7ad5135426cb1f44b9d5b3c7f2b55324ff1ebcb3302b34635335fe7820d4fa2880e9cd483416a4afb59730614428a50843bbfff686f7c60781e6e8ce521cb512bc84582463ebc38d576f9392c77ea2457ae8cfd909b41add8db0962898b9c596bc490ef61f01d8f8aace8e45d4fea914a46e61b6cd2ad75a2238050a4574d2a681bb91f5ba506044d74ee15e8f4dacc1209b44c34e36e703c6bae9197a142491c9f3c8dfbcaeabd5f74102eb5ca1206b2531fa1690d6ea1429bbdad5121351209ecfbbbf892541e046a06a664063d6a40493b67ee4d6cfca501688d1b5bd9828d207cd3f0c9bd71cc913f65dea72081a1cbf871701537b148fb34a7d33d981eddfd8c48328f2014d490895e52351e6bdcac8a62193161494551556d31a898f30dbb826b137ad57cdf8b89195ce1967955569711b5352d41727930c2512fe0c965e96b53a8b1d08b316f3cedaf12ef3dad5d7703e0685f8b4400ee4238be97ef37bf26cdf35e774c08ccdbbee023d081b8518deeb80628b787480b52dfdede8264df8756887aeafec1dc85dc678721d05f957c3f7fb975b8d9f54daabaddb472109a6ab70ec19b261c9ae15f2a47ee9a55652b065b6e1419dc182678b36cece733ae698e4d27c3b0f0ba86703e5d0b7db9ef212e61ef408b3521a659cd21efdc4a1de66965ac1dc2c47685ee95f29b86ac8685d7dee9d33acee4989f5f3d9bd127fb8f80e601e2f1f186471c315747e68de560ed2ae37366c70fe7bd160d33c457ec292b32523252638cfde13cdf342a596a9eee30c2cb47bc3ac8f10885d0bc5640879ea651d49762dad16546f304c7a4600e4c680fb1f579129b1fb346c597e87a5fdfd8fae597430bc44af1bdd501d93b39228f39808098cecb6c5fede137531bce4ac7779d58840d9c00fad7fcc6baf49e0f860b8729d94839d982d738ce888cf280d3b20bae8d1790c3f70fb979c4ccb21ba28e72407e751c8660e0adcd2d00a8cdebfdb3e7618d213e02ee2172ef2264655e962443bc09ed02dcc7e92129341e636a3ca3fd9a8bde0996e3099d6908c60eadfdb0f8ed2f23b83976e4a3a9ba68a8ca70958f157130fd77e1a1671ac6205d128081d78197dc1bf7fffef08d7f2046d35bbf767f86a146f5148f6b9bab168abf9342d562853c52609a3b2a99aff0728e8fe3b39efa472b7d03656e8754424e662870a8a3ae7e512fd766ca94b8cd9e51e036ec6d1d530a0687aaa85d8df618bd5bba20aec68337e87a5908c9efedf81ee063b6680c9654f2dda0de99098ff18b81f80dede87b2750d3c56d50f2b497bf17115cb123bbd0d89d1e730da65e675efcc342810ffc237f857ac00de9d8980fb25cfa34027c3f2b09d30844e5060f8820f6058ef39d3d310f0f7a2c694c2c74be6a57e77742d9d8800c35ef55e00aacf9dd28eaa7c13346c31c44ab58994c62728b97fcd10552429733af88c3ef2349d2d0201f35e65f0cfac74df0dbd502b3741a3397c3a59661769644a3e7ae0100df42b66f65c3ffe2484103c5cab860f338694e1e28e1592ed11733a7f1476ae3b95edb1c6c231d10df8ac33f30795cc167984d87f5c7af966e50a903c23d8bc21b8095d811bca574bbd1a771d1fee3d59d684f8bd78be2bf1b0ce0d512a729c62852ed1dfd306595c3471ece321df8f3f6ef94799f7387c7cefc1bef80bce7e058bbeea624363ac666207b17ea60200b5513cf1d3b6dd719cc3bde4d251e0f3c88616b41bc34d262490a225c4cfc443d7a2f94a0ba9c9a0be32cab237737eed73b532472fb382823643fe2176e79cafaf1dd8ef988beba2c09ddbd45c7d7b4cfd7654eb5fb90810a024b263d139f1c5d3f5c267ec4f54df39e8c8072d4013ae78b6240cf23a3f1fda8d7adedbded5ac85a25ac25187a61b595c857102af4e9b5dceb1f4905a5aca2e858b753276839efd3e7e09beac13b523ea70d0ef898030ac425015ce2c3a3fa4f15831b9fbaf79fcd6efa27aff221b93e52d47f0d477c8801c3d7fe52460d2f92360c428be16dc844366b5084a7486c179d935683a2f19887cc583ab1d34abd2f6ba87e238c5e72b7893aa1e5f4c9bb8d187d210cbedb44f1f3dbaa511ec88ad7ed1f48dafa9f9136c80018e663c24592354fb0358c4827015de2e8851439d2190c46f59e7e0fecd509e7db747a79add31b46fcc39dc928b7bee9aff53b485c051095e9cdd9937a38ad8e19e926a4240aabf1098caf2bddc94eda287fae1be1c4649ddf1b22b01ee28baa635b17f05e048a830357ef0017ffe4c9fd68130e303a0df25cd8a56186d3008b69d62467190acd21d3545ea50638ffbd854b25a2aa92e6214c19b0b422bb605119bbba1dd85b9aa4e7afc7fffc48f8ac9346e5b183971700b35606d3f8e16d49db7ad2750575567ba38c3068298d4d2cef74c66c8bc3cd6c20162e92ccc636bcf6680f5462f402adc2aecf456962302bc63f30a1748981cdc5f26d174824c891307ae5f4ebc27094676c7aa5baa58abad4fc9c198f905cb778d15b0d730c43741c66bae7c155b18e05a1648e3ac517731e912f85b49886f1cd453fab5ee4d12a20cdc070f88a735b6c8accfbb15d463ea6576232373e7d043e3506ec67e2f0fd6ec9ee6b53479eb214b931970219dfc390cfbd3a243ea17aa41f3502abb1ec3e9ed53447f7d2bb05a08ffde62efc793582e4bae1b536160b281eeb90c9d7dcc26fc63cf37e15a781afab2f5af86b462a9cb87b9c48f0469b030eacbd904ac6fcc726c5f40750b2c2b1fa91fa32694eb17245ceafaa240254c9a4c869cfbd6cc36842370377927b84638065876591282cb3d6a62994abf52b37da97423fc234326ab3fa8dec5388d4aa6f4c225e8167568aa236f3c8233c1598fcbb22ad7d5f14dd0edda2ee101066e064ca611f93a6af27477ceba4a9425854e481db140d518999b66eca11aeed2f65f1db8d56b4ca7bf9b6bc138ae8a5bc836f1cd8ab9dbd18133604b22545a762d20773a488e9fdac0b3e5d2a621ea261086c210fccd487b88405f1a2309b3ca1bc3c96c25091c0b8e1b4678b6bacb2a72e461b84d47d8c346c969d0baca259ac83acca61c9205dd7523454821d23d16b74c1bba2745f0883f4ef3ad861f2de94b74710e0638d01003c4900bf40bd929f13f7d38897d2c8f3449c59a10ef63905e776fe800dc19ff0f596b904e95fdedcc6b5a77bf59cea37b4efeb29cb635537f12fb303a3e068b75eefa7b19a36017c5a7ebb7414fbb79ce2456753fd4144fe89806fc3564d521e3f041fc8cc0a364d4ef37b40263c8ab0a73244d065983241223ffc3e58494af76915e3c4d19aba240cd11751e08d698895fe755e4605b22c35d318c9636ad9cee5dc536b5a0826660e27a19b73bf9a77517f3a1668fedebd9db8447fa0579a3077160ccbe384bc695d0404994c455e19474e274f64dff9bbc1eec69e405ca7d31d6aad452912dbfb976600a96c7fe16120516b45b9c325e1f39ab6cc084b43f92b29004e388c378252864e2aff5abbff96921d2935847f87d03dce003f7ee53a35e072079d56bf2d0eb04c1d9c5f0fa92d1c6d155f611e708b1d1934c55657026c627c114eec24fad1fa9d9cbf8dcb6feba8a4999b5d8d771884a14b297080391b03460e320a42e455aef1e5e9b8cf03446cb37ab7ef0bdeff88f61183a92d00fcb45ea64eb2c5327138d2b0f18f2fc27eea60fa6a2e63785f2b4d5ae174b9a862c0fd3abd8942c10fa155b9cf35a80b13372a65c538caa8b2dec5be01cb5f2c5b110778e9cfa7dd4e3cf20e8425bad97321f36047829866b319b52008816d0b382fd4bd51a03276f9ac35c55a1be4bf28b596de0994d244bdea0d100327097a97ae9fdb6aff9cc4bed6d026edf8c6284410464a104cf8c6b43b3deb9851e316e3079e4e15511b9dc666524112b415ade9f36a502602d6fbd5e8e30f8d6c1f781d42b52a71e325000a42e4baa649f60b339d25f98a62d07a98fadcfb2e0ae59ad87ce1cd8a7ed2ed3eb6bf622b9c151f325f7f0d4bf014231f992328f3e80682f942525ba92a19f8703275431bef54b7e0b3e016922ab2c4e5e30a48c4a30d8b25e271ce1127183cafd3fab3240e9eca997ba9a6857eef3ca5a164c2f560cc18b488c630d14009e9ebe14acb676bc994f7284770cfb28939c35ce4899bc85ed4a43d2e880fbcc92f4b3713e2a5f8813c16f2941c534fdc0818fcc5799c29222f85c137e9394cb0913e52a89d1392223e3c888b2267ab9c34d1bce8cf1de99fa7684132f8e923327addf894e55a268d3286bcfa989d3e086022152dcae02920110e05ea31cb869a8a342a59acf8944925d6d34b466b32a1284269486fbf989eabe384ce34b222dc52a53e3fb7ea99f2c9d815651430ed8e49e7ee2c598076c815b88cf84c5e2b773803bd6cc52c8bbeea7df1293a97e40030e18bb11980fb931fae5997093f4cae679fc6e86a3c0f032abbee4390d5b02e66aae5548d0559312c0201bdcdd77dcb685c9024149d076d30eaffabc9445f01f160d90b567ab2906e8e2d7b0d1fd651590c97f3008da5fdbb6ed68ec4d339c6f2a6a6758c56f23ffece7bcb7c3f796ccbe21f23bee460ff3066f08cb093126b243b898c1b3c1eacc2df987ae2d32727817e5dc51d0ae3e433d17311bec082950226bb5462e79204b8fec4b8128ee290843ce740d43489a22dd52c3949dbb9285344489019aa3f10e08879f20ee81c63b92879632855308bc615b4604c965b383e28a79c4dfa4656a486eef07428d8881d5018c4cfd400bf70bd6776189fb88d3a4148d36db12ab10312fca8598734ec3fe254f927e3ee358e9b7b62f589da12bee5c0fb4b459af43b2a4d9dabc1c9cc7c2c83205916a3d3254accdf648ea4209d9cacc3261d066ee99052b33109941664afa0ff0de9fd9b0dfbdc2519d5dbb3b035ad37b77680e0489456d505b0e7a2c47ffe0269164ef4fbbb828585cb23f8c3807338630d95573aa67a84af6908e07212f421bdaa64e9847acde84f1132a8279fa1127c7cfe25ba280d88812b08435daf0e30ce2f832617e993ddd122a8c9454d6394279a9adf1df87d1eba71d50096c14c4c117668f91bace939b806499430b5ce47de1f01837c2ac8a1319ccafa8a2314d6d275d7fb8d69727572e37a2f11e78158d9028eee8fdd0519b388a7098d460cd6fafc76aaa645d30e1c189b1da68dc6eb50c5d893f02bab7de68a74c4e7c160f88b748d0d7020d728c1e37e37dbaf20950e3b9fc93afbef5a4e000322336eb9e447359c21efaa6bd36680f28fbfbff985e8f790a2b9ca5bf3ae5143b4652760a9877d4a58f923c7fccb56864fc2370c4572a1116625c537847694e723f2506ac2803e688b03f183e964adafc0342c8838e85073b8911b38ee2b817bc1aa9ea8f2638272fb9fe82804a9f5fd2f52d800a7058ba4d12e59ce5529a33b0597ecdf11cf9a8c9bdd91d886304dcbfc95d62167a692641edc25239bbac0c77c7862e9b54e0cf5c9c84280b41b4e373783d5fd113e94d4355dcd7090ebe64f67d829a4f22c3744ac24f7203dcaa3e1dd6c2aebd83ab54b8729fb3ae792e7cc57b5430719911c81c717cbd8ef3da8a5ce79c60bc562a2cf4fbf3ecd7b57679f7cb7f82e81454c1190df648b56ffcfc047370789275fac15cbab523a1f6e18fbf18d0026d9c67006f5245c49083a002325a75dcdc85e82630a87bf9ca657bc4fc0fdf9c718528a32bbc427bf6f80abd5a98c8c93341b1745aae7c4dd480d744979b23356a4782532feaffec63d3eeeb639e229132befef28a53af52577bb3caff80b41effe9adc4b9197a4047cdac48cf2012e4ee250c654764991592422c770ef5f95836007afcf54a6fcb7bb37e724368cb47c82957b9b62338a8e66e98364f5bcdca3d076fa2f801ecfc68c03963a74da1aee5d80984311294ab8f0161e9ee1ca8cd6467545dfbaff4c6b903d17ef5bc27715755ab9ad7766f79aa59470103b3ffa8c9092331b018db2d0f7d9f6b1ec2ed19edc666ea450ec4e729947ba0e5785092cf9d7603219f4680d2995886b62dbccc2a14bb2b026f25691dfe781516dda358940fe08aea5f6128278aa6fbdbaf14d0d56961b5585df0638dfc73d6353eafa632bff618992acc43828113c6bef08a72968009f0634b176dbc07bf65fb2d4142b01f2a0cd234a0c36a58fa8a3657003e5730498902794ea8f7746f33db5117c7d4addf0e0395f687cfdb3745a39dfaaddbf49444836acfefa4fe2eed0d7cfafef16e9246e8d335a924ff863e42382ae3073a44433e5a9ea16291f2d85c6bd6c953058c7c472fb1ed43e16159d22044e2250b58d1d6c5e5a158dfa5187cba405e03ed3733088434d1f3ec25ae7c9670e4ea2dbdd126489a7c8b8e75efa3327704ca82a1aa3267fddb3c5c82f14ad197402e609313cb623a66d53a509a56fa35ad8514e2ae97dc8aa07f54a30965e4d7d6a8803a57b2ccf5bec6853ca31f757fbb99bb80801f3c65cbc3ae0e241c34761edabe211be99d4b6dd308f8c52b906abf2ad65008366007f16e4477763ad9b1b17e0ee960d24d86221507011f59360ab2ff2ed3713e2ff4f9475fe0bc30b16787dcc174591eec0587462391e051da6c8c396d2a36c69ab779bba9694f0cda2a8d7ffa3790f1130ff7f22cc94e015c2f336b729f1a93b925e46a428ccf9dd5dd548e1c352e263c9b932fdbed0ca934d1c7ca6437c02c1d8e2e2bdb656f622f4a565354adf10bf1c3b79ae5bf5e7aa7d22ed201336fc21822cdd4d23b2d1f54f02cb2839adfc88c512ca98e3c2a2c2fc8dd8402a2556c5714a9abdc76634d4a1a1ba756ad633f0aafd7e9df78b2a422343e24940abe227f58b061777342eeb1f3cd334896f6bd40cddc52964068fe29c9ed666cbd245296bc35fc9384729e96b9aeec0e8cee5cdb026bb29d59a64bbed47535772af9dbc9ccb25a6f25b914c940045149802e29f66a3be45b6d647db7a119899bbfff6b5c6305c6693cb672638616e49ec27a08b8a820cdb00a71a587cf6a4b60a5a323d791a1f33596e16ac743459724e57864b3a63119e4956dd22ae9f9a4824a91a541106cfd53c13455c78146cd06ea3da1461d00ecab34488235527492408eac35cef7ba8ec0bb6aae8fd4f2503fc8c363f79739419ec52659cbce4785ce64c93e5bf84206bb964e2748a3ab4969e5b959df8091a27bb3cdc5b1306e848499b644182b564d22a95f77220c50d91cacf8333764883a329437a3d1422068716945372e95303eaae535bf15cfce874f7b79d04c1013cdcd0641e40b9906ebe3dbc508e15e0a5934075de423b5b50a83a7b1cff12a2acf3be648f46562186e69cfc3982aea235a70946291ece310bf0d2e0c9c657c51555fe1a330e593582dd8c493e8ce79d2d12b298e3a06730171dabd13c0927846a4db74fe4aa78f5fbbf28ee0a43e312640f28f9653e13f26fbd90e31f1549577641835474a02930f257aa6911049683b161da5d79337f6daf4724b86cfc597d50d72abdfb14525964c4a181656cdb871efee442f7e1658bf46d97cfd094a69b12a60a3637ee8877cce67577069e54dfef8c5b05dc3569df8a7a193103199d757e56b330c130700fb5c844e46455400d4160d4d370eba6a892bf8e7e5e76d0e50c067e848f16e2778d988cb31df1a6d3c1c2b616af2649237f9950e14f359926d00bd4480ae77e7589ab2b9d82bc59d27d23e9ba67bdd10a8d73b6f79003a7682b88b028580cc69ebaa21ecfbd4c30745361d4a1fba314ff5dc732fb2df6e0088682da1e844b2aab2a2a317c6a88c290a2e4ff30c44772ac70f93083390fd9e19396dea6d7906f233953c0517d20b00b28c61f7fba2b0a43fe3097ec098ae12786e03aef3f37b9965e29f7f96269f16efc3c9d7c880196b9c4116103c8ba5fcc438b55bde1176b5804793804bc65291b82aef270b7dd0689d6646ca834cfdfd08b2708bb773fbd99da768f85bb388d7da6b23f4062ee5df0e4f9c8b667d25639b8050bd40a6fc51b725093db554012dfdea3b85528d3e932814e6a0fac0af352b0ff7f4dbfdfd95edde998cfeaed23bf16d9ad37d05040577d5bae774c915e14dc6b8a6ab364efde0ecd0ab6a748d3a5522ecccb1fc4697a087b7e214e0f2e56a6bea4c2e3b64340fc57c7e98aeb3acb27d125d4d91cdff8e515ac6d9d632f896f531ec9f5f38bc79b48d16ed2d52c530d9d9a6aa68f368f5533f5068e1867d82c0f26cf5b698d0a78468ef2f5924bd51fbaccd82f0665b7777117ba81cd4a0d91c8056471fd4488e9f36d9b4588786007f06ca389d0e539998eb47fd7d112be92b7b4d55b77cea3bc9c8fa17cd128688ff402cff4e25635265d22654a855a05ac665d7287b4b31bb33d30045dfe068b19e72f4c238fefc04f912ce2dfd06b40698a5f4a6256d9469951bbcb29400b3b822d9a7167af68f37c637855b8377d12415dbf3040f5754f3b1f777e0b3e6deee7cad4201fc58e7a3e12b0da37051c14a33c43cdf452a7b502a51b8af530ab4de2922b6ece1f0348bfacf154891072d307b6460c3711a0624fd987dc820265e569507f71f51bd3d4cb6b9f0256c04a37bbeba5355aa89078c326f396285ee4fc9fd62fe73b97aa18b0a46c97bfa82c3cb4cd51175093f0b7d29a64e10f46c375555084f9c638fac9ff60ca7aa7cd4f9e0b3a0de27432895b9b90d5ff85a106a2f208c0a3383d51b857130bf6a698a39803e1a569b8215f9fc67c3430292bde6c1f26130f1f9fbeacbe042242b6366d2721eadbabe68dd70979e68a9c06e8d324656eb93313704aa6a9d74dd3c31b79c9f21a11904d0e7c85acd13f7e1ceeb3838144a8ab50ab84fccb99a8bacf4e5f657301731b76ae6e092ffaf50fe5d38ececc4e015b6e404fd39442759274680c88cdc28c85f18ebc4804d05975ffa4ddd48bba1b4104e42bf299f1d5e45956962a13d80dc57ccc6e09d222c0777f32f8a9f494e3921360fc86c4c089a1ee406fbcd536a3cd7d838d04ae9bee8b75a8234365e2a2ff50868a71ff7862a5c538061e580431436cc0d5293e470f812d911ac1838b8b49d360bd7be9b3a2693a36993025d0f8d7a1cf86bee1a053fc1df49d810cb3bc36869f73a206ce4f27292ee5b62333d5a287a53e80cfa26e395bad0d1fe91b94535930b1427b2b99150c8b20bdc409ea19f6636cc73d989e67be268b7f546ea907d35b584f77f167fa6a1d94e74b99ce0b84f852bddf7f37a906779357a3ff16f03c87201d28898661109b6f99de912bb532d5fc093be9941cc1c4a3323d9c9901d2ba79221fe3bca7778bf9341302e3a3a08d237c5d8d1b3ff0b7bf9515fe224251d0ea7320a03bcf9fcc686386a17ababd401306fd0c8672fe95de0efa52ea19106aaff25341a9e9e49942e647619114746103e663bca927f1f91c5944109636f8ffd2940b15a61d852f44f25f193cf93b1987ef16b4e868a8da3091c1a079eed51c26d54e68caf63ddbd36ebb3ae70c4f9eb4fe8ea831ae7f514973940369bca24d9a5ada4343f5a4cb751d5425c76bcff2d17da3e8cdb849d4e4718e0b6b311a034304c2036766df305a25a21a39c8eaea5580002aeea64a979cdaa3c5b6a04448bda06c60588c6240765aa1151bd17f762dbd6a54874480fdad308f572b5229170516af313bbb09606aef555e41f5c30de8881ea553d63cfdd765c538d01f920b14abae2a48efcb9b6d68237d9e4293ac76f65f16f7c44eb402be69cb6483c7c808f19afa5f3d84e6a2a1c291e1829255fcc99b4d6228b637d8f3a533424180a4edf700cae1742a6a115587b58fdffacf82fbf866d683ba33a2a3ed6a855f2a8e9ba150a6ada3a28eeeec0fba67953feb4e61a4f35b92cc3e67f29b673a0f7f17d99a9751a88e0166bcec0afbcea6d7c2de164a29635a0add286707885e11f0dd0e5b3731aef42e90fecd89c7934623f62d071721e1a40372944a84d20a6e5ac47ddd93a39f157bd047d97459fd9661e07341a6866da194a807729a980b6e24d17a98974397933892397350246adceb3d70a89d12ef3f905dc6bcf614c5c9931f8d33da0eaf3ec122142ae65b4a9a6b66c8886390f24f1a53bba19a12327696d6ad655ceb99bdaa3d965c815869cda024cd199d6c9018638496abe7f3f2851787bbfbf553f647554d429cf5e867390c89b308df75151c257d8c0e3dfb8b931877b3085104b7ca1b2bea26ef84a1bf169daaf8f4e2cecc4a252fdb414048aa913b255b5f4685ac54143d521cd0310f3a3dd92e0268856dba1936698dde94a2771900d493e42efd1db8a07849260ae491ed9561c81dfadc5e474a3f93cd90f74b39e29930334c899eb7d32919e2531d0763f8e1bc062783ee3be4fe4c0dba133fec04188a6e94692423e0fa4dcb6eb37b9a708739e3326ebd9df54ed0b03e160a6c012b504580f522ea9d808f12a5e434a00f891ac6b788d5156327f9dcf0b4431be923fb02b4975efb05335e25371e5367b4c3a636f188534aa39d7533caa922a379bcc4405ae7ceae96efb1cb4e54c6ed7afcefc7e59e82d8666123f6b7697be29b8bd625225bf2906ba9008e5a386fa1d87b7de0755ecf8fe4585b90ae82eda9aada92165eede273e80d3b32cb6ee364b401a54e4a15f3624b31f399289a6f45897681357a73e2c4ba7ba859052a9adec2b1ed8c1b938de20694cbb08c40bc225da31f879fbccd0816d980286fa5809745ce556a121a4db7d676ebdf0fe85e6f2c9102b2c99ad41fc3cfde74f50ab12f39dab12834940b75a9f3708ad12ce6d01828da58a8319b32c8e3a24bd46f1c516f0fcfb37507fa99e8c7f4a52ba2b2922a51da467513383abe59b1709e0f5317f9e8cc854f381e0d2a754ea6859096137605967230788ff094106ded8655524355e37c27f92ecd5617a266b71a689ec230fcf391a078e07589afa3157cceceb221509706bb2b53e486b86946e53c80e11a54cfd67f338806276f76764aa2b1707ffed71418185cbcac21c48028eba71e9d639a22107d9bfd5c46727a4b449ee94eb203b53cf93d06978f0912817234409b1f4bfafcdeb3623d5678f75cc710203f5fd4dd41a190356e6c454c426e957674b1e6068770c4538eb1995adb1d14af52264db897f858d37fc7e4262ff2e7760a39dd69cdef64348103580d346a466cadef7fe35914001bb03f9a6d4d6bd7e7d2bfde3d13c5dead23985ffb96f47fbf9b5e75f87cd438ef6d4b4f240d4ec7d518883c55c89f0ad693c596dea725b6f1a35909f928c3c132396b29ce7393d39df937a6b93ef40ea3016f5bb3b9d0cfb29df1a0de251eef43fa4066af4b54935610fcbba0a84a7623ed327f8031ab10e4a1eea9347c25b4c166c979346a911661b958389714c189dadcb1f27d471936bcb95bb18d7d4848fc29ed1d8e91dd65e2509fe94bbf20c122cb102ea9ec0a3e520451aa240e25dc54cb57891202d4724f7207b3241b02af65d8afc46bf60c5505a3614a52c4c9468958758f6d107fed576fdd406c23415cf979f080a6fb1601561cbd9a2a9cc969b4705c31c635ea375712acda1ad3c313240774b3a51d8ae7bc8d4f38267e25e2c304dd46e1713123fea979a791f62d2db2ae8d605d6ff88716ea12be7d897c5f22cb4a8c33cbcbb86f8a51d7a240da62592503c34e40e97575fd64fd1cdeda1153b278464b8a344f094807dcbacab81654eaf38ae4d11471ded661ced0bd197afd705ffb174c41e1349f97c8c48d9e86b6ed119d6e3252dd179a1438a4ff78c3f48c72832f418ae186d9045b49249cc795291fad5663c6d926f1b8cebcf82526dc553e6b13193cc09c796123646e394b604ec81a98987473c4c865d05927b0c16169bfb47646dceff2522d21383070f03d051db524b2afed3274e5da7ed38e406551d9bc4b6527bb98c0541394932add84ea41481eb5ba4d09ec626003cb46df2c29c920fb5e8e2652e6021d978a39222cecb0b95a8bf9d53faa100274b9aaa210881fe9bd97294bd35e5ecd150ced275c62397535f107cf56b2b93606794499dada1f3ad88cbab4c604ec751e40faf821119a5387b37e9432e9730b00b6564da9fdd9d53fcc662a13ce20bd0a36db9a7ee3beb678669034d6f61759f9ec6ed2199851ffc5506516b1f36900522482e910eafa9d712b260cafbbe7620a40cc8cd3f1e67345b67f40758e0256822f16ce9ed8269b1ea6aff698bf31d900c074838ab835146c1c9758ebeea1248f511642a6c533d0dffb72dc3857d6c84804751c42e16bf4c6c44c375e893ffccd81169d7b831c35ac5192ca74d79123b9012f6d54f3539d91d045732ed639861d3bae6157fee88bb359ce99a76fd252757e4f7dd01c1b6733061beb98a16a66e96f80f855bb41d3a660d8d6ace48625d53cf33d9eea36131aa305622243ded77ab69aa93f4a11f05661dd1dd02edfb51c6c2c9aed5b666dcf7c61653cdc75456d12ce4990fa70eed01c689a959dad552f8e4b900050acd811055a308d9e5a1306945392bd3ff351869034b931b9206829c6e5aaf0750ae995f0eed7ca50f01f0e4809b8164adbfd301174f907507bc52eb20e5421a724ac1e8a51f1d16f4a7cfa294abfb5563fa90c395368a486d3e75173c08103b27da58f4fff6adaf973c70791d8941ceb95fdde70e155db1f7f531bcc66dd2d45421b88d7d0d5ddc9ad9440b9849a76e14ed7af23d2431a05f2d8d7f5c6e4445d2f56e93e32061152f833e283adce3fac0d5fb7a2c6c1c9cf9ece66362bcd472c3ce8b1b01c22b7105c4241c05e5cb344707f73318d3e6ebada1208db2db91e486a7dee15fa53defdd90d1231a9d85712ffb798cc08366c61e6c754064826328e719205d704ff9a92fec33dd2b5e3494d14836bb45f975789be78c21097e7584b917b9196729a30442a985d6892f0671367481cc870bf41c0a02f0d99bb048722de4572e01a772c08f5099755daa2f55ae210f4343ae4d5f454e98337595df616c232c4a97502ef5578e77e18adc61d82642e66fe0dd457102691a4ea26757c31060df562d2bc956d4e4a9b78769cc58881d76536063b0cf33512b8950650ddaa1a24d20b5fa129ff99cac35235a28e0b0b5ad6638bad75aceee91e70596bb47e0da8ee3403ee19a391dab814fc04620ab9d2cddc8ca2564d8b6e7d3c74088144ed639e785294fa3debf5f3f0766716f44d33576469305eab18539b1c4a8e111e3cb54a0ebb81fb8f64812534676a3697d4bf29723c1bf5abcc59a6f64aecedb2dd2349c9e8c0692378e96b987f6dd27c08288b965d43f3e7c8b684a7d4029d9f48c9cad70522d092738a1bf4d0ad1fe4517d1cf3618f47d0de6b44a1ff77cfa8d4f6e437210326c79b63195858f9a9b3f07212a49927bdf6b9fd9a72cd3d42769509071f439481c308977687c35ff194e20081f7f2ee5d0274d7105300ba45882d4041073cf8dff5ba50cf1a9767dffe53ec23fe0688de29a04a8be3d1b6e5aa9ec24cf6da18538de3c12bad1817fb8f83a35d1a7baf3e0165263d88a6a8ca18f01826d65de4724e028c6bf199720505b6464d8ceeb2286c507ddb2a72851824221fe0dba946739c1a4f963b98f55d0ecd6a27cad31d1248a0fd240595d641f0a75c6482342a5d5ce5a4c97c6b1611a4515c6ca8d86ab5390432f969c7f1907882db65ed980b53132c0a5ea070e6f0b5e7c260649517c9867da9c8d911105c8f8c9be1638068656806508d407caf3a09e2a95d3e48fe9093cd5e3d33de7ff27a7d50639ea073ad7d7ac5a9e1260f85883a863c288f6b5763277ff627336a5b64b5ab23164e234138903d1f0f88b783d46941ad15b8529a26607a48daaf87e68b79c85fd26d7fb39312a74bf3970a8fe96ae5e1e7b92621c4d5cc62baac1c8d8a5c07c75f0ac204ea6d36faa74d7b0ff916e6d16250a6c22fd00d1dc486bf040d761a2cc900db47b92fadb70464846b92d7b4f4a2cc7ab177d9b384e85fa7d9aa7b9d8dbd6d3325c50a80ff6e0074c0bf45df94c4f730e415c6fee29f4e795e0a5327eae081db872ef9c68d8ee5b80cccfaf286f558ee7e589ee1b1b2736f536de01d650776a7e134c8d7fe45e9b9aa37bdd49de0dec261460145a864c14e05e1be8a66c8a0412a06cbcf167a3046db886c28eb5ab4401b8ab585077bff74ab436dedd715a5ad09e67d9ba374ee90317e112c3c8fafbced27446f27c384b9336c20c8921b348ed06bc176f7000077a6ca2c09d0710d4942428ce6914dcafb5207f9d9ae45bddbabca73c352c3ac3ac88de7b21ed58a18e53241360a600d02317d7fd9dcb0df924a89942bf0b267313060c777a117983282ea3fef264788df84a8a242176b39ffaa3b34ced8ea42bec0c6b9df862a3377218645ec8ca2a0df7d2aff70edb783bc87fbbb7c8cefe98a062cb66a2c46a88c75a21a1956acc4c5cd46550e0958c75080ad2309d9523cb782deacf7e2c955d2d05c6e45b448fd3a67c3699f2487a05fcb4dc962c01a82954de6184458f1a4eca719de219810ad7e023d69051531d861702f7e8ffa5bdf9415a4c6589409d749ca0cc7f9c82e04adff1cc2a31607613c1e914c67491eb2bd2fd8b20162555b75bde1e1cc7cb30c7554c1714fa985aba016463c23f2d08f0aa5b18ea7b42fd7e9a08bc24da91d0f93add1986c2547ec621de414f8cda565a6398826d5ee820efbbcc0d4cee3bc21c924f22744d9640fc1698981a7888b344330edc6ddbcb8afa3946123ea19d1d7030d138c1eafdc282dab4533780a95719afc71d326b7e8f19975c91ca945856a7903aa4fbcb259e7a3f9a79975fdca418bf510f89c63757865d4015b2f32689492d4122c834d6f0cbc8fbef89b4f0e300ead597f3e2eaf98960b3c19dba749af22bd75819085563b7e4a022e1a8a566eef20a89b80525f57d0b13c2098268afaf2c2b556a2b69079de4d70b3609457cd01827301385da6bdc844b90603c40301ce9231f2a9056a0757b425c4081911c23336024c96d67343a170b6aafba3c03da2fb5db6be8e6aa887a61327ad22ca88d6e67c4c0c0ecefb059d0fcd9865afb8ce947f0d2ba9105f450d697b759e3c732600ecd666f5dfcf982e3131dd8589019acdd76a52d740fabb5448a7471a8d56e5d679cf8e5d0ca1ba52676ddd30fb162b0c4ccf8ba73d33dc68de937d847b4ebd48f147c90e92ae18f026ec6aaaf753c7a13c8fca3aa7e0cb9295eeaee8dd281e61d36e7ea062e51284f0207807da4a24e8e96353dfdf9086b5df853c5e18ffbdcb804dd2f21550a3e45f4f6da1fdccb41caf9cbc514643a87819231e18c0152e2d38409e2afc961dec7ba96ca63059eaa4e04dad07739312d7e9e1558a1fed67b0c8c2f49b3065afcf78ec7b68aec98369754424ac17b4a7854318b74b0c161a4149ca31563f65d21796545a657af1bfbe55cb2366237281aaa4908cb4faa8dbe79e7feb30612f9db800f8dc6e9df53ac5a54ffd2188f6f0c9161f6caabc9865bc4091734dbbed6bd040b847b4ff1634942e8b6b99da425e7f487104512214c959d3f54f38ad65c744ad881084ba2fecfafea44ff85e2d442e553614d0b4ec7c8ffe003f9fdf80f04f8523573a7835a5ca08acf89d9e46ebad1d7404b5d4d96c5ca2ce344378b96b2e3b33db07be8ce96293c71dcd753924e736efbce5dbab4ad8e2c21924a6975e147d72429736b2b116abef0ac7136800961038fef6b76cc6e926ded0870e7c47dde00ad0100672911cd3c1fb8fe0f8befabaf250e419bfdb95c8a7a5527fc8bd1ce42139a381d86c68cc0e7e118cb4d4aa08fc816aeb5ec5af251416a563942de1444312e00def0d998025bacacdc145cd01fba864ab8e9b51ed809f2fe58cac434a8b072428f6b44152e8adfed2bef439c1291a4adcc6ad059a9a7cbfa9a3d67289d970d7ae6bc0f5eaecf6a72c6174cfea1a437eb86e797862764e0cf1028e1ede877930cf83800b304758ab05422ca5bd17914cfb82a2ea0dd3c20a8546938b089182d49a73ed9bbcc3714666448008b277ab0ebf174b06e25649ef6840e83ea12e9e6ce2c057a3abdf536250ec6065fb918b2022636512cf821abb5aa866208b81f56d3ce6c6e3491093fbed3052ce0dc19cf38ca33d2c4538a5b373c2d8c14c6b8c4c81c041ad0b54e401c5b3b958ed4dc7676d6a02d8c3ed04c1e1cbcd224a462412c6af6f4c065c2b8e38d9124dfa1e5ad727b4410334ecb7af6efb288b8b7e900f0093f86e4c407b0c31f15a505db922d0be0efca812245fea07b9893def98f6e0b055e3339c30013e9e0b6a3acb7ac5eaa720bd8d12edd917ef7cd1b5fe3c5c1547dc0c47f78fa7314f8987d5d3201622da4d241bee85f2c299542065eb846a6a059822180e11b25750351aabf105022de0eb9050cbf277ab2df0ce31c291da447d219d6c70a096f1447c4625e6370a0969d3341e36e67539292402e4bf60d3df2380703c6115e4648cca8ccc9d4d558727e54246d61348c375272479206204b4ffc9ecf1e93e74540e2c2c47df0edc00d57195b9f82a8e35d3ce693a1f252229d846af72690e81d5d61c9d3c2afea54941d860c86d8960dde671875260cd9cac4885c5b054627f903f55c7bd259beb76bc881bc185db90f03ed6a5c32078666ae8781e0c744e385c605021c69e87a6345d941c1caf8378f2fedf197075d931fff46b12b6ee293ef19f709ba5560205fa5904ee465c6f7eb2dbd1afdef3e943bdb02745ed9d68163734e188bf94b69118e1ce755e12f7addab6c2322439fcea8cb03a8e573407f301cfd1ccaed45bca653a462025bb20e4c95534e261f79a8e32463a38c957f65af697b4e6fdb349f1976d72b85d814d093dbb4e335b3a331f4e0474c9ca87456bb848f1f32a84f11cf67f8998236beaecba78b767a9a66d07f0f5f8a2946138c0dcc793171edccaa5fb607701aa3961a84f79728a73e78bd173bef37e0ba42169513b4e6505410353693b44e4d248b86184afeb68a37630851f5fac0b20b63719da7a3591556fb0122958b691d3f933958a1aa394a6c95b1ad3836c841f8224556a49c7f8db165e44e730f62109492f97e261ff39b2759f581eaf758bce780218cf1f9088b171d9fa2bec0ccf3ac820211b11334bbf8ef4f54e64d29371888b2c819f07e4a2f1cce0b57b86563ea52312393ff2f7958e7ca1a38dace2da067c2dbcd23394a6a37f44acbf59bef17631809d6942798f73a950e1df61a894a7a003c225aba6becdb0e3cf87a5717e51d281049073ca55d5d64a8b6fe208c503c0a952e65ec7ece32a5e4c40d1990f67c6d2d8cc4b1c69827135d11f9b71a8e551f162a7fab2e7beff58c5deefb65d4566e0d3824812c3b338a0592a7585f7009b8351b594a56cb075710ad16b11049e7e38d3a4b6ac3e478b716358c3dbc8c30b9c91b58c723ffe6e3cd2c0af15116d81d593fa052cd8fef193d6bdd1435e291e04605d6a63c4026d018cbc4cc2cf7378eec8872b7c81266bb0e1e51906f11becb43b7e1e8c2db19885a1bbaf82ac6c319285f9bf3c913ceee11c8d3089451f308bccb2eec52eed97119e21227cc25c4bf8171ebcaf65c6237690829404f99197586b50bbbb8527c0f26c3ff6430d7d891a9074595f3d1d181d14d0f073dec4b3aea936b46ac6de57beb7ab48d86577498c122ad554de23601c0d42c2575bc8ab5bc2bae097883bdc48d645ed0d461c4ae2852e059fc8e6cab9924e78fea6d62c2d199bc1036ec6778de75f3b149aa56c1c8f20fe3c6bf5123422716b277b362b40a13a36632f2e857869c50b91bcd1c6695e508d7ddd90ef584ebab90a402c1206e9d9b30cce7258f7d06b931133c60084590986c1eae0bbc4bfd112c4a9c3c14f2063152c9dad02fe5698873dda26b14bad4aac38372f0c7edb0a9aee1f46f912c7793b69c0f3e166e60c64fcd3ac09d9e82658edea132deee90ec6d754048b298c649265493401fea341646199e38c25d37dc57b2bb3a6d19cf5f814a5cff1e9a34cf14df804ed6d94797b3eb2fafeb8899798de5bd389bb20d8884e65286c4513ac954d2e67bdab0011a2001fc5b498eed7149658b7bba16905703af0f9da6e9133316d3f1aad8ac14292aef8c46c224cc4f68287d4069f281be9d6d75891ec3c49f5e3ddd0106235514d8377486ddb1fd4386a13af89221098034e5b7f665c5335c2efcb622cc393fa11f0c5818e1221a3889ad41535b69de49be99cf0a8e75f591c66a4310effd09d0c23eb800e797dc8d658064a667bc994e17d171184bfaa3223a99cfff2fcc2197d68ba3fd3396c3bbdc09619f4c943dc84f884106876f84b9e710a795255afe1bdf514e265dd34227a6c770b5a8d1c165caaed9872ddd12a0e7fcebb6463f2bb882d6fa94e548cf6bb50b5d993c39a953c43e67b751798929b3e5e421acd01c87c8c5fc12ceb55d13ce5e2de2222db702930d0350f677bc9e74086e228e612a8b6c060c96664a9f0392d019aaaa278bed165d4206c394a83c89d9692dd11d37546a33aece70ffcbd872a3396a541f69dc4ad5e6ecd2a2a16b041fe611e4b5b4a42d3c15fd2109711f1c874c9d6c77dfdcbaefc75f56d4d188b0123078325df8106f714bb75b2c463f9c57e3446354d0ca2e1900acebfa0551eabc4e2686a641fca03d299abb579ff6ac760d933aeedb26fbb8d0a704fa4ee72474dd6c6ae3e43fd4eea8f3f29de15d30e20e62c0af09f31698cb7dbbbee472a711c97db41c801f0090a7fce8468b7fbe4d310a1adba53f4a33c8a589e9d7d7006cabf62c134fe924a268ce8f2dcba4cb2e13c0ae9dfded9d3211a5bdb269b95ef74001b78a5def26d296ecc05856f9c6a52d0668aecb2ff27f013df1442da3d3acf5a50f42f335c190248f8d7177eecaa16e5c1c22fff843207b0038e4f20e394d09c0819c2449d4e15c587e8ee2d82ca80464ea44ed215835d4eed6615ef2e1415d23f53731b6e7844d5d99711a913bb7eca9b82c08310e2f85e4eaa3f73d0397e940c3b08c11796bd93ac0d5ace9509a92fb400c04c91f9a8ab3dd4858173523db0f5a2a3526959d02f3e5817432b6539d51507d48b1a96d93368a50834ec8a9c893a2e71e99634c52f186d4613481f3e00e68583628b8bcf92e6625d7aefa29e21e462e7e81e56d30b656f2df1c6109fe1d58db8457e6fcb5e43b97759d5bf17d2414ea2a5dc3666ff16c684931edac33faf15265f83aadee62a2d9f97e4a9d8a06848be5d32b7999a7bfeea0daca348c6d2a1b0fe42cd6847e0bd4f590d038a1b3cabaeba903fa7f1abba67a1270ca2405d504dd76702056a88ff910235ae430d40e183cf3a69baa25d98bf175d734b4e6ee8c4617112ea046b4cb6e668687be40a5ca8d83fce87750236252e89e9708d4f01b268a41e7248f2dfff2eefe44f76c974f098123d09cee1f3a57a463e738dfb9c399e6e85bae760d212d7e8f93ef1928d4d1e17045096c0cd09581acec39d7cb03d7f955c96c2142250cfb74cc3753f400643440f04eb028faede45034817728cd25fe7dbd1e0f3e67ce2fd1c8999f338dbee851d203e63dd57c4ab70d8182e0826c8e5b98e1d4ec2977dfaaa1f2990a3501037dc47cfffaca7890b38b456cd77dc920104444915a2acafb26bd4d3140c659b3265ba42824649e4c83b06bcbad45504b2cdcfb7eb0ce6458d98febec96ef0e315c4296535214715403b9d0b21472fcf8498fcd0647f0cf3abb73dfeb15fcbdb99138c4eaf063d04afe9c3fbefad0f38c48ac655d36d5149394c7d1d660922c20b0c23b07877e6fbe172b89ea719b36a25aedbf6fca558024df34ad372b892547be3c61027222c113eecfe81f3fa12595368022337b4ca683aa91aedab70233213085b82c2a1a1fce43e2ca166e6372f212479f40bf328e51f2703ac7f4740656e6806d5082789bf57fc4c05f2e4fece67f4837dc29a3ddc56bf5a9885d142511950a01b265d50dbfb9a68a0eddc813734319dd72a37b25b37bd53222b836779a41ed94e28d26cee7a43a13f71c416ada4cab9e3cc890e0f29d59e09a5efbdbdbe6fc1208ce62fddee6b68218825eddb37e22fbbe5afbda8d69a9f4409e246c74d986942970bd6bd6333b0440c373ab6ea2deabffe919a51105189bf8eb0ca78be91f9151fbec121bf6e7ea0a64053513be25904fb62a136b7ddcafb7833355e8eac534df143142aa3ec0d6fd5da6217431eeb3f942cf3fe8c24a2bf2738ff3cea04561c60b72757fca7e0684ecaf62bb12eb05dbcdf053bf35d85fe3b2d4506fe96ae5967d3913f14188192671d1cb85aee95eab8fc00b448e7cafd13a2ba356752262d7c241c08343f54f2bc12f7a95c960a5322e3296cc131e646918750f5ff80b54a5fc68d8f6c66b69b54b4af3b737eaafa18e746efcf41550c03fa600195f47897cd8e6bc490b2c6b46dc3f5c2c24311f06296bfc976e180a0f0a9a24924e6e737347b74ebfcc80b234d86d4b02d888db31a8185122cfbe4c09ae905981be2ab34550a1ce6fd63b7c271e3dd00ed8718b2718980a35f8ac823e551647b15ba2886049aacef08c429e71358940d9139fcfe01029ada9a1f4fbd1e429fdd76bf1be20bf3099666da73ba03dfd05b5feae0bf86fa8b9587d679159ac98f0b5a631688ff7c2a4a9aefea63ee30cf7c502ce8cf41f013739cf9094ef434726f6bc20da8582761015a043e7c0d3122ac95ef371be82956f81ee01d8748688a6f0a8eaaeb76c4c864aa5a553ae041e9e4879d306d2d84b0b23ecb898eb75bccde19d14276eb7a1e321921e9520713d52f80adef848f0e5057fb07adaf9d4ede4ab25f4d628c94d7cadc84755223868b52cb45ac8181156b793a3402afc532546c0de2f4d4f3de963947dd476dce7a7b15d98b9556b5237c56dd2945fc22aad95b2680bf87461eec10ea30e27e41217ad80dd3c357090fdecd40a0ce9054f34f350c9e23ba8b286660a9d0b476475a4ee05a52f231745c2439bf4546b76a8e135602918bcd6d806b1aa0e0c695b4c57036c157857d86d3bae2c034f0752e03770cdd15947bd598d61f78ed8ca6096896c2b809de36712d75a1c6ba20d979e7003f62d116b26cac5d501f4d6f55acd013e242233fd4b5eb442b2223e699bc5b2fa42be949585a287904e2e25b4365c7928e4627f6345238948f5289139802fc36e6ea026aa0f75c8934dcf639b9589c144901fb3e6749815b10a679b3664860295f1eadfbf4f17ee2ec149f8af34807a3398f0ef460ce98419281443d09e21e9a3081a44097878033b5263cec85c56986b44e20956a4820175134148f23a56f7f19f1a0cb939aaf24e195a80e17f5818140e4ac2f666f0b36f08031e7b43e60a28a1b030a3bf6bd3f9935037d3ea180a5c0eb86c74c4bbcdeb324f3397e1e1fee4421d2973b2655886946810a3c5286ab01fdb3378a4215712ac7c7985363849ef0d573c37d6ecde50ce0f8d48151719546b386ddbc4bd476e3ed12d5c627996401962501abbd6ee87404dc1305b725f763881f49432bcd2482e8193bc6159cbf22bb15fa428199cb14b950c06dbffa8bb174d6af90c96df379512b8add6fc1ff52a2c32987a88f64f9c74c375cda7b57404c40fe61e7742c6a259c4464a3c27e03408d0a98398045f781d653f455db975a8f4aa176120f37ccea63134740d50d1e8ed3e58c984e58122fd066d2575f05452ad09c6f02f9a4dcac07b7d389b8b867fd11633116f6bdf78c7cb62314b625a1d5f4574403f372c71ec3ae363c875454a6ba61c9a582582c39f5513a8bce98adfaac2daee1f8c0812adc41a1a279bcd56fca56a7f93dccbcef1a5fd1906e210bb822972a10bcc018dd667493e3ed019c94475a3b2f4305be7dd9a697252a5e8879346ad5f8436e69a3745368bbe02214e250deb2b45cc22d7f9a26c6ece0d2849a10d06f1ac65910ed926911fbff0d2e1dee2e4ccd4f004ffa475ff524e210faaa118a37062a2c6cce2854586682bc491a38cd888e116d8e4aaba11ac933ffb5d9bae6d340a36b51e4889793c3deb2b9788c241954e3f28dd97ccf8874c078e806a20983bc1656a6764b83d9f4445aae0abafe7be2667378e414954d8e6396b234edf8399f7779097e2423bd7d58fb56a3b94630e8fe603ae34571e87d037908dd496f367ae370b84c64cea2e0ae8d707485aa93d58db76c6705b1a11b05eeab9487f0987fdba9d41dc1f1a9ab83a81558255c848e3555abc17145438a2b1334c7c25bd15b18e65116fa02b1d6df3fe84c7cb82eef38243419e7730907a3f7daa493b5c7bd6401a71682afb2d96aa58a64e074e5091c4c24862348bc3bb79411556e610dec33a1cfefa241c15682c4619f90067a3ae7af647a2d63c8daadcd600f393f9396a298bac072c9b65881ab3f00a1e97fa2d40c6de3f63b55f174bacb821d555fce7557692cc55d67b623d4595b419b59cee5dfa6b35b9b13b20e5bd866d88f3402b828c31a8c82604e74c59adc021ef9fe2515add7f640998c5242a405ed080dfad944d7558146443602e6f50f8f66840629de11462fec1607e504bebf34fc1b2dd2e6feb3fda5b6c6d13c7958f05ce4e8674a95369d249260ca97df449a5cd8f49f35e600093173aac508b34fed5510488406be851d3c4ab06408637c8d95469679b4734391c1de08c5bd0f43606e6c4f062a568ea8ac90c57f83a5f2206191b8823017483fa2492c1907a05c1302d9bc27bb0437d7de92d31a7909fa2a09cbd5dcc38e5719703588ded81b4dc05e427d05313bfa3dc92dc15a39c2f9e2da4f37adc205f866209387899ebe2be3599474a57d1412b5493b631b46dd96646d278d887d58e34bb99415c62f819dc93a9493c8a8372d9b05072d05c9109002c576c3f72494cba22c97f2549865afd80fa23137797b1264711d2e26e20448025c106a64252758532de1ac41e33e4fa742d9bf419910b0d26f6f03885eb57bfdad8c466134c97cabc0d384d91fff0262edc3cba7fcb5bc483651ac05fb3f1f9a053d3fe3bd7ccaa101f4984ea024c5c5844aa9734162f8eb5adc9399704e0ed7a5a4c97899c63aa5ba916840426545756463bf34da7c3691d44ae6bc3a6fd9ea250ba0fbdad0b24494efff29f71514fa6ae97977146bc70f922e6e88ed56d6a12ad611455ee49806587c73be502bb99f823f7befdbaa91c447779697af84e1c24fe197bac3eabbc838c0391989e02280896bd06202fda30637d3ade1667f0448de0cbcafe9da0d88541d81f357060a872552011cf641fcd2c7299e61d57ea1b95e67f7cc548a1c78380e792ba078d65995b5498f9749db9c9920fc120f82eec5b0d082fa1340668c412604b981534216bc1a45c0f0ee4c707713d2a04ae32a2a2d3c6fa447cee766883c9dc80fe84e0aa5114b877524843401033dfaf88ac54de2d21c99bb7118faa6536e77e660ad029d2f593e6d8f267310ccf5e78fd6fd310a04cad925ab</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">课程内代码不能无偿开源, 请输入密码查看.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> LAB EXERCISE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
